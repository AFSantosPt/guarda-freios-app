function wh(m,g){for(var h=0;h<g.length;h++){const w=g[h];if(typeof w!="string"&&!Array.isArray(w)){for(const x in w)if(x!=="default"&&!(x in m)){const S=Object.getOwnPropertyDescriptor(w,x);S&&Object.defineProperty(m,x,S.get?S:{enumerable:!0,get:()=>w[x]})}}}return Object.freeze(Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}))}(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))w(x);new MutationObserver(x=>{for(const S of x)if(S.type==="childList")for(const E of S.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&w(E)}).observe(document,{childList:!0,subtree:!0});function h(x){const S={};return x.integrity&&(S.integrity=x.integrity),x.referrerPolicy&&(S.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?S.credentials="include":x.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function w(x){if(x.ep)return;x.ep=!0;const S=h(x);fetch(x.href,S)}})();function Cd(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var xu={exports:{}},xo={},_u={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud;function bh(){if(ud)return Ae;ud=1;var m=Symbol.for("react.element"),g=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),X=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),A=Symbol.iterator;function H(j){return j===null||typeof j!="object"?null:(j=A&&j[A]||j["@@iterator"],typeof j=="function"?j:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,Y={};function B(j,$,xe){this.props=j,this.context=$,this.refs=Y,this.updater=xe||q}B.prototype.isReactComponent={},B.prototype.setState=function(j,$){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,$,"setState")},B.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function te(){}te.prototype=B.prototype;function se(j,$,xe){this.props=j,this.context=$,this.refs=Y,this.updater=xe||q}var fe=se.prototype=new te;fe.constructor=se,W(fe,B.prototype),fe.isPureReactComponent=!0;var be=Array.isArray,re=Object.prototype.hasOwnProperty,Te={current:null},ze={key:!0,ref:!0,__self:!0,__source:!0};function Ie(j,$,xe){var ge,de={},oe=null,Re=null;if($!=null)for(ge in $.ref!==void 0&&(Re=$.ref),$.key!==void 0&&(oe=""+$.key),$)re.call($,ge)&&!ze.hasOwnProperty(ge)&&(de[ge]=$[ge]);var Me=arguments.length-2;if(Me===1)de.children=xe;else if(1<Me){for(var Ge=Array(Me),gt=0;gt<Me;gt++)Ge[gt]=arguments[gt+2];de.children=Ge}if(j&&j.defaultProps)for(ge in Me=j.defaultProps,Me)de[ge]===void 0&&(de[ge]=Me[ge]);return{$$typeof:m,type:j,key:oe,ref:Re,props:de,_owner:Te.current}}function Ze(j,$){return{$$typeof:m,type:j.type,key:$,ref:j.ref,props:j.props,_owner:j._owner}}function v(j){return typeof j=="object"&&j!==null&&j.$$typeof===m}function _(j){var $={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(xe){return $[xe]})}var ee=/\/+/g;function F(j,$){return typeof j=="object"&&j!==null&&j.key!=null?_(""+j.key):$.toString(36)}function ve(j,$,xe,ge,de){var oe=typeof j;(oe==="undefined"||oe==="boolean")&&(j=null);var Re=!1;if(j===null)Re=!0;else switch(oe){case"string":case"number":Re=!0;break;case"object":switch(j.$$typeof){case m:case g:Re=!0}}if(Re)return Re=j,de=de(Re),j=ge===""?"."+F(Re,0):ge,be(de)?(xe="",j!=null&&(xe=j.replace(ee,"$&/")+"/"),ve(de,$,xe,"",function(gt){return gt})):de!=null&&(v(de)&&(de=Ze(de,xe+(!de.key||Re&&Re.key===de.key?"":(""+de.key).replace(ee,"$&/")+"/")+j)),$.push(de)),1;if(Re=0,ge=ge===""?".":ge+":",be(j))for(var Me=0;Me<j.length;Me++){oe=j[Me];var Ge=ge+F(oe,Me);Re+=ve(oe,$,xe,Ge,de)}else if(Ge=H(j),typeof Ge=="function")for(j=Ge.call(j),Me=0;!(oe=j.next()).done;)oe=oe.value,Ge=ge+F(oe,Me++),Re+=ve(oe,$,xe,Ge,de);else if(oe==="object")throw $=String(j),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Re}function Ne(j,$,xe){if(j==null)return j;var ge=[],de=0;return ve(j,ge,"","",function(oe){return $.call(xe,oe,de++)}),ge}function Se(j){if(j._status===-1){var $=j._result;$=$(),$.then(function(xe){(j._status===0||j._status===-1)&&(j._status=1,j._result=xe)},function(xe){(j._status===0||j._status===-1)&&(j._status=2,j._result=xe)}),j._status===-1&&(j._status=0,j._result=$)}if(j._status===1)return j._result.default;throw j._result}var Le={current:null},D={transition:null},le={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:D,ReactCurrentOwner:Te};function R(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Ne,forEach:function(j,$,xe){Ne(j,function(){$.apply(this,arguments)},xe)},count:function(j){var $=0;return Ne(j,function(){$++}),$},toArray:function(j){return Ne(j,function($){return $})||[]},only:function(j){if(!v(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ae.Component=B,Ae.Fragment=h,Ae.Profiler=x,Ae.PureComponent=se,Ae.StrictMode=w,Ae.Suspense=C,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Ae.act=R,Ae.cloneElement=function(j,$,xe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ge=W({},j.props),de=j.key,oe=j.ref,Re=j._owner;if($!=null){if($.ref!==void 0&&(oe=$.ref,Re=Te.current),$.key!==void 0&&(de=""+$.key),j.type&&j.type.defaultProps)var Me=j.type.defaultProps;for(Ge in $)re.call($,Ge)&&!ze.hasOwnProperty(Ge)&&(ge[Ge]=$[Ge]===void 0&&Me!==void 0?Me[Ge]:$[Ge])}var Ge=arguments.length-2;if(Ge===1)ge.children=xe;else if(1<Ge){Me=Array(Ge);for(var gt=0;gt<Ge;gt++)Me[gt]=arguments[gt+2];ge.children=Me}return{$$typeof:m,type:j.type,key:de,ref:oe,props:ge,_owner:Re}},Ae.createContext=function(j){return j={$$typeof:E,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:S,_context:j},j.Consumer=j},Ae.createElement=Ie,Ae.createFactory=function(j){var $=Ie.bind(null,j);return $.type=j,$},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(j){return{$$typeof:Z,render:j}},Ae.isValidElement=v,Ae.lazy=function(j){return{$$typeof:G,_payload:{_status:-1,_result:j},_init:Se}},Ae.memo=function(j,$){return{$$typeof:X,type:j,compare:$===void 0?null:$}},Ae.startTransition=function(j){var $=D.transition;D.transition={};try{j()}finally{D.transition=$}},Ae.unstable_act=R,Ae.useCallback=function(j,$){return Le.current.useCallback(j,$)},Ae.useContext=function(j){return Le.current.useContext(j)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(j){return Le.current.useDeferredValue(j)},Ae.useEffect=function(j,$){return Le.current.useEffect(j,$)},Ae.useId=function(){return Le.current.useId()},Ae.useImperativeHandle=function(j,$,xe){return Le.current.useImperativeHandle(j,$,xe)},Ae.useInsertionEffect=function(j,$){return Le.current.useInsertionEffect(j,$)},Ae.useLayoutEffect=function(j,$){return Le.current.useLayoutEffect(j,$)},Ae.useMemo=function(j,$){return Le.current.useMemo(j,$)},Ae.useReducer=function(j,$,xe){return Le.current.useReducer(j,$,xe)},Ae.useRef=function(j){return Le.current.useRef(j)},Ae.useState=function(j){return Le.current.useState(j)},Ae.useSyncExternalStore=function(j,$,xe){return Le.current.useSyncExternalStore(j,$,xe)},Ae.useTransition=function(){return Le.current.useTransition()},Ae.version="18.3.1",Ae}var cd;function Cu(){return cd||(cd=1,_u.exports=bh()),_u.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function Nh(){if(dd)return xo;dd=1;var m=Cu(),g=Symbol.for("react.element"),h=Symbol.for("react.fragment"),w=Object.prototype.hasOwnProperty,x=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S={key:!0,ref:!0,__self:!0,__source:!0};function E(Z,C,X){var G,A={},H=null,q=null;X!==void 0&&(H=""+X),C.key!==void 0&&(H=""+C.key),C.ref!==void 0&&(q=C.ref);for(G in C)w.call(C,G)&&!S.hasOwnProperty(G)&&(A[G]=C[G]);if(Z&&Z.defaultProps)for(G in C=Z.defaultProps,C)A[G]===void 0&&(A[G]=C[G]);return{$$typeof:g,type:Z,key:H,ref:q,props:A,_owner:x.current}}return xo.Fragment=h,xo.jsx=E,xo.jsxs=E,xo}var hd;function jh(){return hd||(hd=1,xu.exports=Nh()),xu.exports}var s=jh(),k=Cu();const Ph=Cd(k),Sh=wh({__proto__:null,default:Ph},[k]);var Ha={},yu={exports:{}},Bt={},wu={exports:{}},bu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd;function Ch(){return fd||(fd=1,(function(m){function g(D,le){var R=D.length;D.push(le);e:for(;0<R;){var j=R-1>>>1,$=D[j];if(0<x($,le))D[j]=le,D[R]=$,R=j;else break e}}function h(D){return D.length===0?null:D[0]}function w(D){if(D.length===0)return null;var le=D[0],R=D.pop();if(R!==le){D[0]=R;e:for(var j=0,$=D.length,xe=$>>>1;j<xe;){var ge=2*(j+1)-1,de=D[ge],oe=ge+1,Re=D[oe];if(0>x(de,R))oe<$&&0>x(Re,de)?(D[j]=Re,D[oe]=R,j=oe):(D[j]=de,D[ge]=R,j=ge);else if(oe<$&&0>x(Re,R))D[j]=Re,D[oe]=R,j=oe;else break e}}return le}function x(D,le){var R=D.sortIndex-le.sortIndex;return R!==0?R:D.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var S=performance;m.unstable_now=function(){return S.now()}}else{var E=Date,Z=E.now();m.unstable_now=function(){return E.now()-Z}}var C=[],X=[],G=1,A=null,H=3,q=!1,W=!1,Y=!1,B=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function fe(D){for(var le=h(X);le!==null;){if(le.callback===null)w(X);else if(le.startTime<=D)w(X),le.sortIndex=le.expirationTime,g(C,le);else break;le=h(X)}}function be(D){if(Y=!1,fe(D),!W)if(h(C)!==null)W=!0,Se(re);else{var le=h(X);le!==null&&Le(be,le.startTime-D)}}function re(D,le){W=!1,Y&&(Y=!1,te(Ie),Ie=-1),q=!0;var R=H;try{for(fe(le),A=h(C);A!==null&&(!(A.expirationTime>le)||D&&!_());){var j=A.callback;if(typeof j=="function"){A.callback=null,H=A.priorityLevel;var $=j(A.expirationTime<=le);le=m.unstable_now(),typeof $=="function"?A.callback=$:A===h(C)&&w(C),fe(le)}else w(C);A=h(C)}if(A!==null)var xe=!0;else{var ge=h(X);ge!==null&&Le(be,ge.startTime-le),xe=!1}return xe}finally{A=null,H=R,q=!1}}var Te=!1,ze=null,Ie=-1,Ze=5,v=-1;function _(){return!(m.unstable_now()-v<Ze)}function ee(){if(ze!==null){var D=m.unstable_now();v=D;var le=!0;try{le=ze(!0,D)}finally{le?F():(Te=!1,ze=null)}}else Te=!1}var F;if(typeof se=="function")F=function(){se(ee)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ne=ve.port2;ve.port1.onmessage=ee,F=function(){Ne.postMessage(null)}}else F=function(){B(ee,0)};function Se(D){ze=D,Te||(Te=!0,F())}function Le(D,le){Ie=B(function(){D(m.unstable_now())},le)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(D){D.callback=null},m.unstable_continueExecution=function(){W||q||(W=!0,Se(re))},m.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ze=0<D?Math.floor(1e3/D):5},m.unstable_getCurrentPriorityLevel=function(){return H},m.unstable_getFirstCallbackNode=function(){return h(C)},m.unstable_next=function(D){switch(H){case 1:case 2:case 3:var le=3;break;default:le=H}var R=H;H=le;try{return D()}finally{H=R}},m.unstable_pauseExecution=function(){},m.unstable_requestPaint=function(){},m.unstable_runWithPriority=function(D,le){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=H;H=D;try{return le()}finally{H=R}},m.unstable_scheduleCallback=function(D,le,R){var j=m.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?j+R:j):R=j,D){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=R+$,D={id:G++,callback:le,priorityLevel:D,startTime:R,expirationTime:$,sortIndex:-1},R>j?(D.sortIndex=R,g(X,D),h(C)===null&&D===h(X)&&(Y?(te(Ie),Ie=-1):Y=!0,Le(be,R-j))):(D.sortIndex=$,g(C,D),W||q||(W=!0,Se(re))),D},m.unstable_shouldYield=_,m.unstable_wrapCallback=function(D){var le=H;return function(){var R=H;H=le;try{return D.apply(this,arguments)}finally{H=R}}}})(bu)),bu}var md;function kh(){return md||(md=1,wu.exports=Ch()),wu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function Eh(){if(pd)return Bt;pd=1;var m=Cu(),g=kh();function h(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,x={};function S(e,n){E(e,n),E(e+"Capture",n)}function E(e,n){for(x[e]=n,e=0;e<n.length;e++)w.add(n[e])}var Z=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C=Object.prototype.hasOwnProperty,X=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G={},A={};function H(e){return C.call(A,e)?!0:C.call(G,e)?!1:X.test(e)?A[e]=!0:(G[e]=!0,!1)}function q(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W(e,n,i,a){if(n===null||typeof n>"u"||q(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Y(e,n,i,a,u,c,f){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=c,this.removeEmptyString=f}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){B[e]=new Y(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];B[n]=new Y(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){B[e]=new Y(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){B[e]=new Y(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){B[e]=new Y(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){B[e]=new Y(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){B[e]=new Y(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){B[e]=new Y(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){B[e]=new Y(e,5,!1,e.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function se(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(te,se);B[n]=new Y(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(te,se);B[n]=new Y(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(te,se);B[n]=new Y(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){B[e]=new Y(e,1,!1,e.toLowerCase(),null,!1,!1)}),B.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){B[e]=new Y(e,1,!1,e.toLowerCase(),null,!0,!0)});function fe(e,n,i,a){var u=B.hasOwnProperty(n)?B[n]:null;(u!==null?u.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(W(n,i,u,a)&&(i=null),a||u===null?H(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(n=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(n):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var be=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),Te=Symbol.for("react.portal"),ze=Symbol.for("react.fragment"),Ie=Symbol.for("react.strict_mode"),Ze=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),_=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),D=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Object.assign,j;function $(e){if(j===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);j=n&&n[1]||""}return`
`+j+e}var xe=!1;function ge(e,n){if(!e||xe)return"";xe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var a=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){a=I}e.call(n.prototype)}else{try{throw Error()}catch(I){a=I}e()}}catch(I){if(I&&a&&typeof I.stack=="string"){for(var u=I.stack.split(`
`),c=a.stack.split(`
`),f=u.length-1,y=c.length-1;1<=f&&0<=y&&u[f]!==c[y];)y--;for(;1<=f&&0<=y;f--,y--)if(u[f]!==c[y]){if(f!==1||y!==1)do if(f--,y--,0>y||u[f]!==c[y]){var N=`
`+u[f].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=f&&0<=y);break}}}finally{xe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?$(e):""}function de(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function oe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ze:return"Fragment";case Te:return"Portal";case Ze:return"Profiler";case Ie:return"StrictMode";case F:return"Suspense";case ve:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case v:return(e._context.displayName||"Context")+".Provider";case ee:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case Se:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}function Re(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(n);case 8:return n===Ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ge(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gt(e){var n=Ge(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,c=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(f){a=""+f,c.call(this,f)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(f){a=""+f},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ir(e){e._valueTracker||(e._valueTracker=gt(e))}function sr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=Ge(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function or(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vs(e,n){var i=n.checked;return R({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function xs(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=Me(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function _s(e,n){n=n.checked,n!=null&&fe(e,"checked",n,!1)}function Gr(e,n){_s(e,n);var i=Me(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ys(e,n.type,i):n.hasOwnProperty("defaultValue")&&ys(e,n.type,Me(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Wr(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ys(e,n,i){(n!=="number"||or(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ar=Array.isArray;function bn(e,n,i,a){if(e=e.options,n){n={};for(var u=0;u<i.length;u++)n["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=n.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Me(i),n=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Ni(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(h(91));return R({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ws(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(h(92));if(ar(i)){if(1<i.length)throw Error(h(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Me(i)}}function bo(e,n){var i=Me(n.value),a=Me(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function No(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function ji(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pi(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?ji(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vr,jo=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,u)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Vr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function lr(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qa=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(e){qa.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ur[n]=ur[e]})});function bs(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||ur.hasOwnProperty(e)&&ur[e]?(""+n).trim():n+"px"}function Si(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=bs(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var Po=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ns(e,n){if(n){if(Po[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(h(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(h(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(h(61))}if(n.style!=null&&typeof n.style!="object")throw Error(h(62))}}function On(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var js=null;function Ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,In=null,Rn=null;function So(e){if(e=Kn(e)){if(typeof Ci!="function")throw Error(h(280));var n=e.stateNode;n&&(n=es(n),Ci(e.stateNode,e.type,n))}}function Co(e){In?Rn?Rn.push(e):Rn=[e]:In=e}function ko(){if(In){var e=In,n=Rn;if(Rn=In=null,So(e),n)for(e=0;e<n.length;e++)So(n[e])}}function Eo(e,n){return e(n)}function Lo(){}var Ss=!1;function ki(e,n,i){if(Ss)return e(n,i);Ss=!0;try{return Eo(e,n,i)}finally{Ss=!1,(In!==null||Rn!==null)&&(Lo(),ko())}}function qr(e,n){var i=e.stateNode;if(i===null)return null;var a=es(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(h(231,n,typeof i));return i}var Cs=!1;if(Z)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Cs=!1}function Ka(e,n,i,a,u,c,f,y,N){var I=Array.prototype.slice.call(arguments,3);try{n.apply(i,I)}catch(K){this.onError(K)}}var _t=!1,he=null,Qr=!1,Ei=null,To={onError:function(e){_t=!0,he=e}};function zo(e,n,i,a,u,c,f,y,N){_t=!1,he=null,Ka.apply(To,arguments)}function ks(e,n,i,a,u,c,f,y,N){if(zo.apply(this,arguments),_t){if(_t){var I=he;_t=!1,he=null}else throw Error(h(198));Qr||(Qr=!0,Ei=I)}}function Nn(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Dn(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Es(e){if(Nn(e)!==e)throw Error(h(188))}function Qa(e){var n=e.alternate;if(!n){if(n=Nn(e),n===null)throw Error(h(188));return n!==e?null:e}for(var i=e,a=n;;){var u=i.return;if(u===null)break;var c=u.alternate;if(c===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return Es(u),e;if(c===a)return Es(u),n;c=c.sibling}throw Error(h(188))}if(i.return!==a.return)i=u,a=c;else{for(var f=!1,y=u.child;y;){if(y===i){f=!0,i=u,a=c;break}if(y===a){f=!0,a=u,i=c;break}y=y.sibling}if(!f){for(y=c.child;y;){if(y===i){f=!0,i=c,a=u;break}if(y===a){f=!0,a=c,i=u;break}y=y.sibling}if(!f)throw Error(h(189))}}if(i.alternate!==a)throw Error(h(190))}if(i.tag!==3)throw Error(h(188));return i.stateNode.current===i?e:n}function Mo(e){return e=Qa(e),e!==null?Ao(e):null}function Ao(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Ao(e);if(n!==null)return n;e=e.sibling}return null}var Oo=g.unstable_scheduleCallback,Ls=g.unstable_cancelCallback,Ya=g.unstable_shouldYield,Li=g.unstable_requestPaint,Ye=g.unstable_now,Xa=g.unstable_getCurrentPriorityLevel,Ts=g.unstable_ImmediatePriority,Io=g.unstable_UserBlockingPriority,Ti=g.unstable_NormalPriority,zs=g.unstable_LowPriority,cr=g.unstable_IdlePriority,Yr=null,Ft=null;function Xr(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Yr,e,void 0,(e.current.flags&128)===128)}catch{}}var ke=Math.clz32?Math.clz32:dr,qe=Math.log,zi=Math.LN2;function dr(e){return e>>>=0,e===0?32:31-(qe(e)/zi|0)|0}var dn=64,hr=4194304;function Ce(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function We(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,c=e.pingedLanes,f=i&268435455;if(f!==0){var y=f&~u;y!==0?a=Ce(y):(c&=f,c!==0&&(a=Ce(c)))}else f=i&~u,f!==0?a=Ce(f):c!==0&&(a=Ce(c));if(a===0)return 0;if(n!==0&&n!==a&&(n&u)===0&&(u=a&-a,c=n&-n,u>=c||u===16&&(c&4194240)!==0))return n;if((a&4)!==0&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-ke(n),u=1<<i,a|=e[i],n&=~u;return a}function Ms(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mi(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes;0<c;){var f=31-ke(c),y=1<<f,N=u[f];N===-1?((y&i)===0||(y&a)!==0)&&(u[f]=Ms(y,n)):N<=n&&(e.expiredLanes|=y),c&=~y}}function yt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ro(){var e=dn;return dn<<=1,(dn&4194240)===0&&(dn=64),e}function fr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Zt(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-ke(n),e[n]=i}function tt(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-ke(i),c=1<<u;n[u]=0,a[u]=-1,e[u]=-1,i&=~c}}function hn(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-ke(i),u=1<<a;u&n|e[a]&n&&(e[a]|=n),i&=~u}}var De=0;function mr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ai,Bn,Oi,Ii,Jr,ei=!1,pr=[],$t=null,fn=null,Yt=null,ti=new Map,je=new Map,lt=[],Ue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function As(e,n){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":ti.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":je.delete(n.pointerId)}}function Fn(e,n,i,a,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[u]},n!==null&&(n=Kn(n),n!==null&&Bn(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Os(e,n,i,a,u){switch(n){case"focusin":return $t=Fn($t,e,n,i,a,u),!0;case"dragenter":return fn=Fn(fn,e,n,i,a,u),!0;case"mouseover":return Yt=Fn(Yt,e,n,i,a,u),!0;case"pointerover":var c=u.pointerId;return ti.set(c,Fn(ti.get(c)||null,e,n,i,a,u)),!0;case"gotpointercapture":return c=u.pointerId,je.set(c,Fn(je.get(c)||null,e,n,i,a,u)),!0}return!1}function Ri(e){var n=qn(e.target);if(n!==null){var i=Nn(n);if(i!==null){if(n=i.tag,n===13){if(n=Dn(i),n!==null){e.blockedOn=n,Jr(e.priority,function(){Oi(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xt(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Fi(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);js=a,i.target.dispatchEvent(a),js=null}else return n=Kn(i),n!==null&&Bn(n),e.blockedOn=i,!1;n.shift()}return!0}function Di(e,n,i){Xt(e)&&i.delete(n)}function ni(){ei=!1,$t!==null&&Xt($t)&&($t=null),fn!==null&&Xt(fn)&&(fn=null),Yt!==null&&Xt(Yt)&&(Yt=null),ti.forEach(Di),je.forEach(Di)}function Xe(e,n){e.blockedOn===n&&(e.blockedOn=null,ei||(ei=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,ni)))}function Ut(e){function n(u){return Xe(u,e)}if(0<pr.length){Xe(pr[0],e);for(var i=1;i<pr.length;i++){var a=pr[i];a.blockedOn===e&&(a.blockedOn=null)}}for($t!==null&&Xe($t,e),fn!==null&&Xe(fn,e),Yt!==null&&Xe(Yt,e),ti.forEach(n),je.forEach(n),i=0;i<lt.length;i++)a=lt[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<lt.length&&(i=lt[0],i.blockedOn===null);)Ri(i),i.blockedOn===null&&lt.shift()}var Zn=be.ReactCurrentBatchConfig,ri=!0;function Ja(e,n,i,a){var u=De,c=Zn.transition;Zn.transition=null;try{De=1,ii(e,n,i,a)}finally{De=u,Zn.transition=c}}function Do(e,n,i,a){var u=De,c=Zn.transition;Zn.transition=null;try{De=4,ii(e,n,i,a)}finally{De=u,Zn.transition=c}}function ii(e,n,i,a){if(ri){var u=Fi(e,n,i,a);if(u===null)t(e,n,a,Bi,i),As(e,a);else if(Os(u,e,n,i,a))a.stopPropagation();else if(As(e,a),n&4&&-1<Ue.indexOf(e)){for(;u!==null;){var c=Kn(u);if(c!==null&&Ai(c),c=Fi(e,n,i,a),c===null&&t(e,n,a,Bi,i),c===u)break;u=c}u!==null&&a.stopPropagation()}else t(e,n,a,null,i)}}var Bi=null;function Fi(e,n,i,a){if(Bi=null,e=Ps(a),e=qn(e),e!==null)if(n=Nn(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Dn(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Bi=e,null}function Oe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xa()){case Ts:return 1;case Io:return 4;case Ti:case zs:return 16;case cr:return 536870912;default:return 16}default:return 16}}var jn=null,Ct=null,Pn=null;function Is(){if(Pn)return Pn;var e,n=Ct,i=n.length,a,u="value"in jn?jn.value:jn.textContent,c=u.length;for(e=0;e<i&&n[e]===u[e];e++);var f=i-e;for(a=1;a<=f&&n[i-a]===u[c-a];a++);return Pn=u.slice(e,1<a?1-a:void 0)}function Zi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gr(){return!0}function Bo(){return!1}function wt(e){function n(i,a,u,c,f){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=c,this.target=f,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(i=e[y],this[y]=i?i(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?gr:Bo,this.isPropagationStopped=Bo,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),n}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=wt(vr),$n=R({},vr,{view:0,detail:0}),el=wt($n),zt,Ds,xr,Ht=R({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(zt=e.screenX-xr.screenX,Ds=e.screenY-xr.screenY):Ds=zt=0,xr=e),zt)},movementY:function(e){return"movementY"in e?e.movementY:Ds}}),Bs=wt(Ht),Fo=R({},Ht,{dataTransfer:0}),Fs=wt(Fo),tl=R({},$n,{relatedTarget:0}),$i=wt(tl),Zo=R({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),nl=wt(Zo),rl=R({},vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zs=wt(rl),il=R({},vr,{data:0}),$s=wt(il),$o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ui={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Un={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Un[e])?!!n[e]:!1}function Hn(){return sl}var Mt=R({},$n,{key:function(e){if(e.key){var n=$o[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ui[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hn,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Uo=wt(Mt),Ho=R({},Ht,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=wt(Ho),Us=R({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hn}),Hs=wt(Us),ol=R({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),al=wt(ol),Wo=R({},Ht,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ll=wt(Wo),Gt=[9,13,27,32],Sn=Z&&"CompositionEvent"in window,si=null;Z&&"documentMode"in document&&(si=document.documentMode);var mn=Z&&"TextEvent"in window&&!si,Vo=Z&&(!Sn||si&&8<si&&11>=si),Gn=" ",qo=!1;function _r(e,n){switch(e){case"keyup":return Gt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gs(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pn=!1;function ul(e,n){switch(e){case"compositionend":return Gs(n);case"keypress":return n.which!==32?null:(qo=!0,Gn);case"textInput":return e=n.data,e===Gn&&qo?null:e;default:return null}}function Cn(e,n){if(pn)return e==="compositionend"||!Sn&&_r(e,n)?(e=Is(),Pn=Ct=jn=null,pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vo&&n.locale!=="ko"?null:n.data;default:return null}}var Hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ko(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Hi[e.type]:n==="textarea"}function Gi(e,n,i,a){Co(a),n=o(n,"onChange"),0<n.length&&(i=new Rs("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var oi=null,kt=null;function cl(e){eo(e,0)}function gn(e){var n=Qn(e);if(sr(n))return e}function dl(e,n){if(e==="change")return n}var Jt=!1;if(Z){var yr;if(Z){var Wi="oninput"in document;if(!Wi){var Vi=document.createElement("div");Vi.setAttribute("oninput","return;"),Wi=typeof Vi.oninput=="function"}yr=Wi}else yr=!1;Jt=yr&&(!document.documentMode||9<document.documentMode)}function ai(){oi&&(oi.detachEvent("onpropertychange",qi),kt=oi=null)}function qi(e){if(e.propertyName==="value"&&gn(kt)){var n=[];Gi(n,kt,e,Ps(e)),ki(cl,n)}}function Ki(e,n,i){e==="focusin"?(ai(),oi=n,kt=i,oi.attachEvent("onpropertychange",qi)):e==="focusout"&&ai()}function wr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gn(kt)}function Qi(e,n){if(e==="click")return gn(n)}function Ws(e,n){if(e==="input"||e==="change")return gn(n)}function Qo(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Wt=typeof Object.is=="function"?Object.is:Qo;function kn(e,n){if(Wt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!C.call(n,u)||!Wt(e[u],n[u]))return!1}return!0}function Yo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vs(e,n){var i=Yo(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yo(i)}}function Xo(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xo(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function qs(){for(var e=window,n=or();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=or(e.document)}return n}function Ks(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function en(e){var n=qs(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Xo(i.ownerDocument.documentElement,i)){if(a!==null&&Ks(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,c=Math.min(a.start,u);a=a.end===void 0?c:Math.min(a.end,u),!e.extend&&c>a&&(u=a,a=c,c=u),u=Vs(i,c);var f=Vs(i,a);u&&f&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),c>a?(e.addRange(n),e.extend(f.node,f.offset)):(n.setEnd(f.node,f.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yi=Z&&"documentMode"in document&&11>=document.documentMode,br=null,Nr=null,li=null,Xi=!1;function Jo(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Xi||br==null||br!==or(a)||(a=br,"selectionStart"in a&&Ks(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),li&&kn(li,a)||(li=a,a=o(Nr,"onSelect"),0<a.length&&(n=new Rs("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=br)))}function En(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var jr={animationend:En("Animation","AnimationEnd"),animationiteration:En("Animation","AnimationIteration"),animationstart:En("Animation","AnimationStart"),transitionend:En("Transition","TransitionEnd")},Ln={},Qs={};Z&&(Qs=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function ui(e){if(Ln[e])return Ln[e];if(!jr[e])return e;var n=jr[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Qs)return Ln[e]=n[i];return e}var ea=ui("animationend"),tn=ui("animationiteration"),Ys=ui("animationstart"),Xs=ui("transitionend"),Pr=new Map,ta="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,n){Pr.set(e,n),S(n,[e])}for(var Wn=0;Wn<ta.length;Wn++){var Ji=ta[Wn],na=Ji.toLowerCase(),hl=Ji[0].toUpperCase()+Ji.slice(1);Vt(na,"on"+hl)}Vt(ea,"onAnimationEnd"),Vt(tn,"onAnimationIteration"),Vt(Ys,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(Xs,"onTransitionEnd"),E("onMouseEnter",["mouseout","mouseover"]),E("onMouseLeave",["mouseout","mouseover"]),E("onPointerEnter",["pointerout","pointerover"]),E("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ra=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Js(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,ks(a,n,void 0,e),e.currentTarget=null}function eo(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var c=void 0;if(n)for(var f=a.length-1;0<=f;f--){var y=a[f],N=y.instance,I=y.currentTarget;if(y=y.listener,N!==c&&u.isPropagationStopped())break e;Js(u,y,I),c=N}else for(f=0;f<a.length;f++){if(y=a[f],N=y.instance,I=y.currentTarget,y=y.listener,N!==c&&u.isPropagationStopped())break e;Js(u,y,I),c=N}}}if(Qr)throw e=Ei,Qr=!1,Ei=null,e}function He(e,n){var i=n[Lr];i===void 0&&(i=n[Lr]=new Set);var a=e+"__bubble";i.has(a)||(ia(n,e,2,!1),i.add(a))}function to(e,n,i){var a=0;n&&(a|=4),ia(i,e,a,n)}var ci="_reactListening"+Math.random().toString(36).slice(2);function Cr(e){if(!e[ci]){e[ci]=!0,w.forEach(function(i){i!=="selectionchange"&&(ra.has(i)||to(i,!1,e),to(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ci]||(n[ci]=!0,to("selectionchange",!1,n))}}function ia(e,n,i,a){switch(Oe(n)){case 1:var u=Ja;break;case 4:u=Do;break;default:u=ii}i=u.bind(null,n,i,e),u=void 0,!Cs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,i,{capture:!0,passive:u}):e.addEventListener(n,i,!0):u!==void 0?e.addEventListener(n,i,{passive:u}):e.addEventListener(n,i,!1)}function t(e,n,i,a,u){var c=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var f=a.tag;if(f===3||f===4){var y=a.stateNode.containerInfo;if(y===u||y.nodeType===8&&y.parentNode===u)break;if(f===4)for(f=a.return;f!==null;){var N=f.tag;if((N===3||N===4)&&(N=f.stateNode.containerInfo,N===u||N.nodeType===8&&N.parentNode===u))return;f=f.return}for(;y!==null;){if(f=qn(y),f===null)return;if(N=f.tag,N===5||N===6){a=c=f;continue e}y=y.parentNode}}a=a.return}ki(function(){var I=c,K=Ps(i),Q=[];e:{var V=Pr.get(e);if(V!==void 0){var ie=Rs,ue=e;switch(e){case"keypress":if(Zi(i)===0)break e;case"keydown":case"keyup":ie=Uo;break;case"focusin":ue="focus",ie=$i;break;case"focusout":ue="blur",ie=$i;break;case"beforeblur":case"afterblur":ie=$i;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Fs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Hs;break;case ea:case tn:case Ys:ie=nl;break;case Xs:ie=al;break;case"scroll":ie=el;break;case"wheel":ie=ll;break;case"copy":case"cut":case"paste":ie=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Go}var ce=(n&4)!==0,rt=!ce&&e==="scroll",z=ce?V!==null?V+"Capture":null:V;ce=[];for(var P=I,M;P!==null;){M=P;var J=M.stateNode;if(M.tag===5&&J!==null&&(M=J,z!==null&&(J=qr(P,z),J!=null&&ce.push(r(P,J,M)))),rt)break;P=P.return}0<ce.length&&(V=new ie(V,ue,null,i,K),Q.push({event:V,listeners:ce}))}}if((n&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",V&&i!==js&&(ue=i.relatedTarget||i.fromElement)&&(qn(ue)||ue[$e]))break e;if((ie||V)&&(V=K.window===K?K:(V=K.ownerDocument)?V.defaultView||V.parentWindow:window,ie?(ue=i.relatedTarget||i.toElement,ie=I,ue=ue?qn(ue):null,ue!==null&&(rt=Nn(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(ie=null,ue=I),ie!==ue)){if(ce=Bs,J="onMouseLeave",z="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Go,J="onPointerLeave",z="onPointerEnter",P="pointer"),rt=ie==null?V:Qn(ie),M=ue==null?V:Qn(ue),V=new ce(J,P+"leave",ie,i,K),V.target=rt,V.relatedTarget=M,J=null,qn(K)===I&&(ce=new ce(z,P+"enter",ue,i,K),ce.target=M,ce.relatedTarget=rt,J=ce),rt=J,ie&&ue)t:{for(ce=ie,z=ue,P=0,M=ce;M;M=l(M))P++;for(M=0,J=z;J;J=l(J))M++;for(;0<P-M;)ce=l(ce),P--;for(;0<M-P;)z=l(z),M--;for(;P--;){if(ce===z||z!==null&&ce===z.alternate)break t;ce=l(ce),z=l(z)}ce=null}else ce=null;ie!==null&&d(Q,V,ie,ce,!1),ue!==null&&rt!==null&&d(Q,rt,ue,ce,!0)}}e:{if(V=I?Qn(I):window,ie=V.nodeName&&V.nodeName.toLowerCase(),ie==="select"||ie==="input"&&V.type==="file")var me=dl;else if(Ko(V))if(Jt)me=Ws;else{me=wr;var ye=Ki}else(ie=V.nodeName)&&ie.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(me=Qi);if(me&&(me=me(e,I))){Gi(Q,me,i,K);break e}ye&&ye(e,V,I),e==="focusout"&&(ye=V._wrapperState)&&ye.controlled&&V.type==="number"&&ys(V,"number",V.value)}switch(ye=I?Qn(I):window,e){case"focusin":(Ko(ye)||ye.contentEditable==="true")&&(br=ye,Nr=I,li=null);break;case"focusout":li=Nr=br=null;break;case"mousedown":Xi=!0;break;case"contextmenu":case"mouseup":case"dragend":Xi=!1,Jo(Q,i,K);break;case"selectionchange":if(Yi)break;case"keydown":case"keyup":Jo(Q,i,K)}var we;if(Sn)e:{switch(e){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else pn?_r(e,i)&&(Pe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Pe="onCompositionStart");Pe&&(Vo&&i.locale!=="ko"&&(pn||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&pn&&(we=Is()):(jn=K,Ct="value"in jn?jn.value:jn.textContent,pn=!0)),ye=o(I,Pe),0<ye.length&&(Pe=new $s(Pe,e,null,i,K),Q.push({event:Pe,listeners:ye}),we?Pe.data=we:(we=Gs(i),we!==null&&(Pe.data=we)))),(we=mn?ul(e,i):Cn(e,i))&&(I=o(I,"onBeforeInput"),0<I.length&&(K=new $s("onBeforeInput","beforeinput",null,i,K),Q.push({event:K,listeners:I}),K.data=we))}eo(Q,n)})}function r(e,n,i){return{instance:e,listener:n,currentTarget:i}}function o(e,n){for(var i=n+"Capture",a=[];e!==null;){var u=e,c=u.stateNode;u.tag===5&&c!==null&&(u=c,c=qr(e,i),c!=null&&a.unshift(r(e,c,u)),c=qr(e,n),c!=null&&a.push(r(e,c,u))),e=e.return}return a}function l(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function d(e,n,i,a,u){for(var c=n._reactName,f=[];i!==null&&i!==a;){var y=i,N=y.alternate,I=y.stateNode;if(N!==null&&N===a)break;y.tag===5&&I!==null&&(y=I,u?(N=qr(i,c),N!=null&&f.unshift(r(i,N,y))):u||(N=qr(i,c),N!=null&&f.push(r(i,N,y)))),i=i.return}f.length!==0&&e.push({event:n,listeners:f})}var p=/\r\n?/g,b=/\u0000|\uFFFD/g;function T(e){return(typeof e=="string"?e:""+e).replace(p,`
`).replace(b,"")}function O(e,n,i){if(n=T(n),T(e)!==n&&i)throw Error(h(425))}function U(){}var ne=null,_e=null;function Ee(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ut=typeof setTimeout=="function"?setTimeout:void 0,it=typeof clearTimeout=="function"?clearTimeout:void 0,Et=typeof Promise=="function"?Promise:void 0,bt=typeof queueMicrotask=="function"?queueMicrotask:typeof Et<"u"?function(e){return Et.resolve(null).then(e).catch(kr)}:ut;function kr(e){setTimeout(function(){throw e})}function no(e,n){var i=n,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),Ut(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);Ut(n)}function Tn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function sa(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Vn=Math.random().toString(36).slice(2),nn="__reactFiber$"+Vn,Er="__reactProps$"+Vn,$e="__reactContainer$"+Vn,Lr="__reactEvents$"+Vn,fl="__reactListeners$"+Vn,ml="__reactHandles$"+Vn;function qn(e){var n=e[nn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[$e]||i[nn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=sa(e);e!==null;){if(i=e[nn])return i;e=sa(e)}return n}e=i,i=e.parentNode}return null}function Kn(e){return e=e[nn]||e[$e],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(h(33))}function es(e){return e[Er]||null}var pl=[],ts=-1;function Tr(e){return{current:e}}function Ke(e){0>ts||(e.current=pl[ts],pl[ts]=null,ts--)}function Ve(e,n){ts++,pl[ts]=e.current,e.current=n}var zr={},Nt=Tr(zr),At=Tr(!1),di=zr;function ns(e,n){var i=e.type.contextTypes;if(!i)return zr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var u={},c;for(c in i)u[c]=n[c];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function Ot(e){return e=e.childContextTypes,e!=null}function oa(){Ke(At),Ke(Nt)}function Tu(e,n,i){if(Nt.current!==zr)throw Error(h(168));Ve(Nt,n),Ve(At,i)}function zu(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in n))throw Error(h(108,Re(e)||"Unknown",u));return R({},i,a)}function aa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,di=Nt.current,Ve(Nt,e),Ve(At,At.current),!0}function Mu(e,n,i){var a=e.stateNode;if(!a)throw Error(h(169));i?(e=zu(e,n,di),a.__reactInternalMemoizedMergedChildContext=e,Ke(At),Ke(Nt),Ve(Nt,e)):Ke(At),Ve(At,i)}var Yn=null,la=!1,gl=!1;function Au(e){Yn===null?Yn=[e]:Yn.push(e)}function Fd(e){la=!0,Au(e)}function Mr(){if(!gl&&Yn!==null){gl=!0;var e=0,n=De;try{var i=Yn;for(De=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Yn=null,la=!1}catch(u){throw Yn!==null&&(Yn=Yn.slice(e+1)),Oo(Ts,Mr),u}finally{De=n,gl=!1}}return null}var rs=[],is=0,ua=null,ca=0,rn=[],sn=0,hi=null,Xn=1,Jn="";function fi(e,n){rs[is++]=ca,rs[is++]=ua,ua=e,ca=n}function Ou(e,n,i){rn[sn++]=Xn,rn[sn++]=Jn,rn[sn++]=hi,hi=e;var a=Xn;e=Jn;var u=32-ke(a)-1;a&=~(1<<u),i+=1;var c=32-ke(n)+u;if(30<c){var f=u-u%5;c=(a&(1<<f)-1).toString(32),a>>=f,u-=f,Xn=1<<32-ke(n)+u|i<<u|a,Jn=c+e}else Xn=1<<c|i<<u|a,Jn=e}function vl(e){e.return!==null&&(fi(e,1),Ou(e,1,0))}function xl(e){for(;e===ua;)ua=rs[--is],rs[is]=null,ca=rs[--is],rs[is]=null;for(;e===hi;)hi=rn[--sn],rn[sn]=null,Jn=rn[--sn],rn[sn]=null,Xn=rn[--sn],rn[sn]=null}var qt=null,Kt=null,Qe=!1,vn=null;function Iu(e,n){var i=un(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Ru(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,qt=e,Kt=Tn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,qt=e,Kt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=hi!==null?{id:Xn,overflow:Jn}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=un(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,qt=e,Kt=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yl(e){if(Qe){var n=Kt;if(n){var i=n;if(!Ru(e,n)){if(_l(e))throw Error(h(418));n=Tn(i.nextSibling);var a=qt;n&&Ru(e,n)?Iu(a,i):(e.flags=e.flags&-4097|2,Qe=!1,qt=e)}}else{if(_l(e))throw Error(h(418));e.flags=e.flags&-4097|2,Qe=!1,qt=e}}}function Du(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function da(e){if(e!==qt)return!1;if(!Qe)return Du(e),Qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ee(e.type,e.memoizedProps)),n&&(n=Kt)){if(_l(e))throw Bu(),Error(h(418));for(;n;)Iu(e,n),n=Tn(n.nextSibling)}if(Du(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(h(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Kt=Tn(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Kt=null}}else Kt=qt?Tn(e.stateNode.nextSibling):null;return!0}function Bu(){for(var e=Kt;e;)e=Tn(e.nextSibling)}function ss(){Kt=qt=null,Qe=!1}function wl(e){vn===null?vn=[e]:vn.push(e)}var Zd=be.ReactCurrentBatchConfig;function ro(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(h(309));var a=i.stateNode}if(!a)throw Error(h(147,e));var u=a,c=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===c?n.ref:(n=function(f){var y=u.refs;f===null?delete y[c]:y[c]=f},n._stringRef=c,n)}if(typeof e!="string")throw Error(h(284));if(!i._owner)throw Error(h(290,e))}return e}function ha(e,n){throw e=Object.prototype.toString.call(n),Error(h(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Fu(e){var n=e._init;return n(e._payload)}function Zu(e){function n(z,P){if(e){var M=z.deletions;M===null?(z.deletions=[P],z.flags|=16):M.push(P)}}function i(z,P){if(!e)return null;for(;P!==null;)n(z,P),P=P.sibling;return null}function a(z,P){for(z=new Map;P!==null;)P.key!==null?z.set(P.key,P):z.set(P.index,P),P=P.sibling;return z}function u(z,P){return z=Zr(z,P),z.index=0,z.sibling=null,z}function c(z,P,M){return z.index=M,e?(M=z.alternate,M!==null?(M=M.index,M<P?(z.flags|=2,P):M):(z.flags|=2,P)):(z.flags|=1048576,P)}function f(z){return e&&z.alternate===null&&(z.flags|=2),z}function y(z,P,M,J){return P===null||P.tag!==6?(P=hu(M,z.mode,J),P.return=z,P):(P=u(P,M),P.return=z,P)}function N(z,P,M,J){var me=M.type;return me===ze?K(z,P,M.props.children,J,M.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Se&&Fu(me)===P.type)?(J=u(P,M.props),J.ref=ro(z,P,M),J.return=z,J):(J=Ia(M.type,M.key,M.props,null,z.mode,J),J.ref=ro(z,P,M),J.return=z,J)}function I(z,P,M,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=fu(M,z.mode,J),P.return=z,P):(P=u(P,M.children||[]),P.return=z,P)}function K(z,P,M,J,me){return P===null||P.tag!==7?(P=wi(M,z.mode,J,me),P.return=z,P):(P=u(P,M),P.return=z,P)}function Q(z,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=hu(""+P,z.mode,M),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case re:return M=Ia(P.type,P.key,P.props,null,z.mode,M),M.ref=ro(z,null,P),M.return=z,M;case Te:return P=fu(P,z.mode,M),P.return=z,P;case Se:var J=P._init;return Q(z,J(P._payload),M)}if(ar(P)||le(P))return P=wi(P,z.mode,M,null),P.return=z,P;ha(z,P)}return null}function V(z,P,M,J){var me=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return me!==null?null:y(z,P,""+M,J);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case re:return M.key===me?N(z,P,M,J):null;case Te:return M.key===me?I(z,P,M,J):null;case Se:return me=M._init,V(z,P,me(M._payload),J)}if(ar(M)||le(M))return me!==null?null:K(z,P,M,J,null);ha(z,M)}return null}function ie(z,P,M,J,me){if(typeof J=="string"&&J!==""||typeof J=="number")return z=z.get(M)||null,y(P,z,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case re:return z=z.get(J.key===null?M:J.key)||null,N(P,z,J,me);case Te:return z=z.get(J.key===null?M:J.key)||null,I(P,z,J,me);case Se:var ye=J._init;return ie(z,P,M,ye(J._payload),me)}if(ar(J)||le(J))return z=z.get(M)||null,K(P,z,J,me,null);ha(P,J)}return null}function ue(z,P,M,J){for(var me=null,ye=null,we=P,Pe=P=0,pt=null;we!==null&&Pe<M.length;Pe++){we.index>Pe?(pt=we,we=null):pt=we.sibling;var Fe=V(z,we,M[Pe],J);if(Fe===null){we===null&&(we=pt);break}e&&we&&Fe.alternate===null&&n(z,we),P=c(Fe,P,Pe),ye===null?me=Fe:ye.sibling=Fe,ye=Fe,we=pt}if(Pe===M.length)return i(z,we),Qe&&fi(z,Pe),me;if(we===null){for(;Pe<M.length;Pe++)we=Q(z,M[Pe],J),we!==null&&(P=c(we,P,Pe),ye===null?me=we:ye.sibling=we,ye=we);return Qe&&fi(z,Pe),me}for(we=a(z,we);Pe<M.length;Pe++)pt=ie(we,z,Pe,M[Pe],J),pt!==null&&(e&&pt.alternate!==null&&we.delete(pt.key===null?Pe:pt.key),P=c(pt,P,Pe),ye===null?me=pt:ye.sibling=pt,ye=pt);return e&&we.forEach(function($r){return n(z,$r)}),Qe&&fi(z,Pe),me}function ce(z,P,M,J){var me=le(M);if(typeof me!="function")throw Error(h(150));if(M=me.call(M),M==null)throw Error(h(151));for(var ye=me=null,we=P,Pe=P=0,pt=null,Fe=M.next();we!==null&&!Fe.done;Pe++,Fe=M.next()){we.index>Pe?(pt=we,we=null):pt=we.sibling;var $r=V(z,we,Fe.value,J);if($r===null){we===null&&(we=pt);break}e&&we&&$r.alternate===null&&n(z,we),P=c($r,P,Pe),ye===null?me=$r:ye.sibling=$r,ye=$r,we=pt}if(Fe.done)return i(z,we),Qe&&fi(z,Pe),me;if(we===null){for(;!Fe.done;Pe++,Fe=M.next())Fe=Q(z,Fe.value,J),Fe!==null&&(P=c(Fe,P,Pe),ye===null?me=Fe:ye.sibling=Fe,ye=Fe);return Qe&&fi(z,Pe),me}for(we=a(z,we);!Fe.done;Pe++,Fe=M.next())Fe=ie(we,z,Pe,Fe.value,J),Fe!==null&&(e&&Fe.alternate!==null&&we.delete(Fe.key===null?Pe:Fe.key),P=c(Fe,P,Pe),ye===null?me=Fe:ye.sibling=Fe,ye=Fe);return e&&we.forEach(function(yh){return n(z,yh)}),Qe&&fi(z,Pe),me}function rt(z,P,M,J){if(typeof M=="object"&&M!==null&&M.type===ze&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case re:e:{for(var me=M.key,ye=P;ye!==null;){if(ye.key===me){if(me=M.type,me===ze){if(ye.tag===7){i(z,ye.sibling),P=u(ye,M.props.children),P.return=z,z=P;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Se&&Fu(me)===ye.type){i(z,ye.sibling),P=u(ye,M.props),P.ref=ro(z,ye,M),P.return=z,z=P;break e}i(z,ye);break}else n(z,ye);ye=ye.sibling}M.type===ze?(P=wi(M.props.children,z.mode,J,M.key),P.return=z,z=P):(J=Ia(M.type,M.key,M.props,null,z.mode,J),J.ref=ro(z,P,M),J.return=z,z=J)}return f(z);case Te:e:{for(ye=M.key;P!==null;){if(P.key===ye)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){i(z,P.sibling),P=u(P,M.children||[]),P.return=z,z=P;break e}else{i(z,P);break}else n(z,P);P=P.sibling}P=fu(M,z.mode,J),P.return=z,z=P}return f(z);case Se:return ye=M._init,rt(z,P,ye(M._payload),J)}if(ar(M))return ue(z,P,M,J);if(le(M))return ce(z,P,M,J);ha(z,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(i(z,P.sibling),P=u(P,M),P.return=z,z=P):(i(z,P),P=hu(M,z.mode,J),P.return=z,z=P),f(z)):i(z,P)}return rt}var os=Zu(!0),$u=Zu(!1),fa=Tr(null),ma=null,as=null,bl=null;function Nl(){bl=as=ma=null}function jl(e){var n=fa.current;Ke(fa),e._currentValue=n}function Pl(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function ls(e,n){ma=e,bl=as=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(It=!0),e.firstContext=null)}function on(e){var n=e._currentValue;if(bl!==e)if(e={context:e,memoizedValue:n,next:null},as===null){if(ma===null)throw Error(h(308));as=e,ma.dependencies={lanes:0,firstContext:e}}else as=as.next=e;return n}var mi=null;function Sl(e){mi===null?mi=[e]:mi.push(e)}function Uu(e,n,i,a){var u=n.interleaved;return u===null?(i.next=i,Sl(n)):(i.next=u.next,u.next=i),n.interleaved=i,er(e,a)}function er(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Ar=!1;function Cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Or(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Be&2)!==0){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,er(e,i)}return u=a.interleaved,u===null?(n.next=n,Sl(a)):(n.next=u.next,u.next=n),a.interleaved=n,er(e,i)}function pa(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,hn(e,i)}}function Gu(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var f={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?u=c=f:c=c.next=f,i=i.next}while(i!==null);c===null?u=c=n:c=c.next=n}else u=c=n;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function ga(e,n,i,a){var u=e.updateQueue;Ar=!1;var c=u.firstBaseUpdate,f=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var N=y,I=N.next;N.next=null,f===null?c=I:f.next=I,f=N;var K=e.alternate;K!==null&&(K=K.updateQueue,y=K.lastBaseUpdate,y!==f&&(y===null?K.firstBaseUpdate=I:y.next=I,K.lastBaseUpdate=N))}if(c!==null){var Q=u.baseState;f=0,K=I=N=null,y=c;do{var V=y.lane,ie=y.eventTime;if((a&V)===V){K!==null&&(K=K.next={eventTime:ie,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var ue=e,ce=y;switch(V=n,ie=i,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){Q=ue.call(ie,Q,V);break e}Q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,V=typeof ue=="function"?ue.call(ie,Q,V):ue,V==null)break e;Q=R({},Q,V);break e;case 2:Ar=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,V=u.effects,V===null?u.effects=[y]:V.push(y))}else ie={eventTime:ie,lane:V,tag:y.tag,payload:y.payload,callback:y.callback,next:null},K===null?(I=K=ie,N=Q):K=K.next=ie,f|=V;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;V=y,y=V.next,V.next=null,u.lastBaseUpdate=V,u.shared.pending=null}}while(!0);if(K===null&&(N=Q),u.baseState=N,u.firstBaseUpdate=I,u.lastBaseUpdate=K,n=u.shared.interleaved,n!==null){u=n;do f|=u.lane,u=u.next;while(u!==n)}else c===null&&(u.shared.lanes=0);vi|=f,e.lanes=f,e.memoizedState=Q}}function Wu(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(h(191,u));u.call(a)}}}var io={},zn=Tr(io),so=Tr(io),oo=Tr(io);function pi(e){if(e===io)throw Error(h(174));return e}function kl(e,n){switch(Ve(oo,n),Ve(so,e),Ve(zn,io),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Pi(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Pi(n,e)}Ke(zn),Ve(zn,n)}function us(){Ke(zn),Ke(so),Ke(oo)}function Vu(e){pi(oo.current);var n=pi(zn.current),i=Pi(n,e.type);n!==i&&(Ve(so,e),Ve(zn,i))}function El(e){so.current===e&&(Ke(zn),Ke(so))}var Je=Tr(0);function va(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ll=[];function Tl(){for(var e=0;e<Ll.length;e++)Ll[e]._workInProgressVersionPrimary=null;Ll.length=0}var xa=be.ReactCurrentDispatcher,zl=be.ReactCurrentBatchConfig,gi=0,et=null,ct=null,ft=null,_a=!1,ao=!1,lo=0,$d=0;function jt(){throw Error(h(321))}function Ml(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!Wt(e[i],n[i]))return!1;return!0}function Al(e,n,i,a,u,c){if(gi=c,et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,xa.current=e===null||e.memoizedState===null?Wd:Vd,e=i(a,u),ao){c=0;do{if(ao=!1,lo=0,25<=c)throw Error(h(301));c+=1,ft=ct=null,n.updateQueue=null,xa.current=qd,e=i(a,u)}while(ao)}if(xa.current=ba,n=ct!==null&&ct.next!==null,gi=0,ft=ct=et=null,_a=!1,n)throw Error(h(300));return e}function Ol(){var e=lo!==0;return lo=0,e}function Mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?et.memoizedState=ft=e:ft=ft.next=e,ft}function an(){if(ct===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var n=ft===null?et.memoizedState:ft.next;if(n!==null)ft=n,ct=e;else{if(e===null)throw Error(h(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ft===null?et.memoizedState=ft=e:ft=ft.next=e}return ft}function uo(e,n){return typeof n=="function"?n(e):n}function Il(e){var n=an(),i=n.queue;if(i===null)throw Error(h(311));i.lastRenderedReducer=e;var a=ct,u=a.baseQueue,c=i.pending;if(c!==null){if(u!==null){var f=u.next;u.next=c.next,c.next=f}a.baseQueue=u=c,i.pending=null}if(u!==null){c=u.next,a=a.baseState;var y=f=null,N=null,I=c;do{var K=I.lane;if((gi&K)===K)N!==null&&(N=N.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),a=I.hasEagerState?I.eagerState:e(a,I.action);else{var Q={lane:K,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};N===null?(y=N=Q,f=a):N=N.next=Q,et.lanes|=K,vi|=K}I=I.next}while(I!==null&&I!==c);N===null?f=a:N.next=y,Wt(a,n.memoizedState)||(It=!0),n.memoizedState=a,n.baseState=f,n.baseQueue=N,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do c=u.lane,et.lanes|=c,vi|=c,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Rl(e){var n=an(),i=n.queue;if(i===null)throw Error(h(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,c=n.memoizedState;if(u!==null){i.pending=null;var f=u=u.next;do c=e(c,f.action),f=f.next;while(f!==u);Wt(c,n.memoizedState)||(It=!0),n.memoizedState=c,n.baseQueue===null&&(n.baseState=c),i.lastRenderedState=c}return[c,a]}function qu(){}function Ku(e,n){var i=et,a=an(),u=n(),c=!Wt(a.memoizedState,u);if(c&&(a.memoizedState=u,It=!0),a=a.queue,Dl(Xu.bind(null,i,a,e),[e]),a.getSnapshot!==n||c||ft!==null&&ft.memoizedState.tag&1){if(i.flags|=2048,co(9,Yu.bind(null,i,a,u,n),void 0,null),mt===null)throw Error(h(349));(gi&30)!==0||Qu(i,n,u)}return u}function Qu(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=et.updateQueue,n===null?(n={lastEffect:null,stores:null},et.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Yu(e,n,i,a){n.value=i,n.getSnapshot=a,Ju(n)&&ec(e)}function Xu(e,n,i){return i(function(){Ju(n)&&ec(e)})}function Ju(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!Wt(e,i)}catch{return!0}}function ec(e){var n=er(e,1);n!==null&&wn(n,e,1,-1)}function tc(e){var n=Mn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e},n.queue=e,e=e.dispatch=Gd.bind(null,et,e),[n.memoizedState,e]}function co(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=et.updateQueue,n===null?(n={lastEffect:null,stores:null},et.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function nc(){return an().memoizedState}function ya(e,n,i,a){var u=Mn();et.flags|=e,u.memoizedState=co(1|n,i,void 0,a===void 0?null:a)}function wa(e,n,i,a){var u=an();a=a===void 0?null:a;var c=void 0;if(ct!==null){var f=ct.memoizedState;if(c=f.destroy,a!==null&&Ml(a,f.deps)){u.memoizedState=co(n,i,c,a);return}}et.flags|=e,u.memoizedState=co(1|n,i,c,a)}function rc(e,n){return ya(8390656,8,e,n)}function Dl(e,n){return wa(2048,8,e,n)}function ic(e,n){return wa(4,2,e,n)}function sc(e,n){return wa(4,4,e,n)}function oc(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ac(e,n,i){return i=i!=null?i.concat([e]):null,wa(4,4,oc.bind(null,n,e),i)}function Bl(){}function lc(e,n){var i=an();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&Ml(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function uc(e,n){var i=an();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&Ml(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function cc(e,n,i){return(gi&21)===0?(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=i):(Wt(i,n)||(i=Ro(),et.lanes|=i,vi|=i,e.baseState=!0),n)}function Ud(e,n){var i=De;De=i!==0&&4>i?i:4,e(!0);var a=zl.transition;zl.transition={};try{e(!1),n()}finally{De=i,zl.transition=a}}function dc(){return an().memoizedState}function Hd(e,n,i){var a=Br(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},hc(e))fc(n,i);else if(i=Uu(e,n,i,a),i!==null){var u=Tt();wn(i,e,a,u),mc(i,n,a)}}function Gd(e,n,i){var a=Br(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(hc(e))fc(n,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=n.lastRenderedReducer,c!==null))try{var f=n.lastRenderedState,y=c(f,i);if(u.hasEagerState=!0,u.eagerState=y,Wt(y,f)){var N=n.interleaved;N===null?(u.next=u,Sl(n)):(u.next=N.next,N.next=u),n.interleaved=u;return}}catch{}finally{}i=Uu(e,n,u,a),i!==null&&(u=Tt(),wn(i,e,a,u),mc(i,n,a))}}function hc(e){var n=e.alternate;return e===et||n!==null&&n===et}function fc(e,n){ao=_a=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function mc(e,n,i){if((i&4194240)!==0){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,hn(e,i)}}var ba={readContext:on,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},Wd={readContext:on,useCallback:function(e,n){return Mn().memoizedState=[e,n===void 0?null:n],e},useContext:on,useEffect:rc,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,ya(4194308,4,oc.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ya(4194308,4,e,n)},useInsertionEffect:function(e,n){return ya(4,2,e,n)},useMemo:function(e,n){var i=Mn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=Mn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Hd.bind(null,et,e),[a.memoizedState,e]},useRef:function(e){var n=Mn();return e={current:e},n.memoizedState=e},useState:tc,useDebugValue:Bl,useDeferredValue:function(e){return Mn().memoizedState=e},useTransition:function(){var e=tc(!1),n=e[0];return e=Ud.bind(null,e[1]),Mn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=et,u=Mn();if(Qe){if(i===void 0)throw Error(h(407));i=i()}else{if(i=n(),mt===null)throw Error(h(349));(gi&30)!==0||Qu(a,n,i)}u.memoizedState=i;var c={value:i,getSnapshot:n};return u.queue=c,rc(Xu.bind(null,a,c,e),[e]),a.flags|=2048,co(9,Yu.bind(null,a,c,i,n),void 0,null),i},useId:function(){var e=Mn(),n=mt.identifierPrefix;if(Qe){var i=Jn,a=Xn;i=(a&~(1<<32-ke(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=lo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=$d++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Vd={readContext:on,useCallback:lc,useContext:on,useEffect:Dl,useImperativeHandle:ac,useInsertionEffect:ic,useLayoutEffect:sc,useMemo:uc,useReducer:Il,useRef:nc,useState:function(){return Il(uo)},useDebugValue:Bl,useDeferredValue:function(e){var n=an();return cc(n,ct.memoizedState,e)},useTransition:function(){var e=Il(uo)[0],n=an().memoizedState;return[e,n]},useMutableSource:qu,useSyncExternalStore:Ku,useId:dc,unstable_isNewReconciler:!1},qd={readContext:on,useCallback:lc,useContext:on,useEffect:Dl,useImperativeHandle:ac,useInsertionEffect:ic,useLayoutEffect:sc,useMemo:uc,useReducer:Rl,useRef:nc,useState:function(){return Rl(uo)},useDebugValue:Bl,useDeferredValue:function(e){var n=an();return ct===null?n.memoizedState=e:cc(n,ct.memoizedState,e)},useTransition:function(){var e=Rl(uo)[0],n=an().memoizedState;return[e,n]},useMutableSource:qu,useSyncExternalStore:Ku,useId:dc,unstable_isNewReconciler:!1};function xn(e,n){if(e&&e.defaultProps){n=R({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Fl(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:R({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Na={isMounted:function(e){return(e=e._reactInternals)?Nn(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=Tt(),u=Br(e),c=tr(a,u);c.payload=n,i!=null&&(c.callback=i),n=Or(e,c,u),n!==null&&(wn(n,e,u,a),pa(n,e,u))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=Tt(),u=Br(e),c=tr(a,u);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=Or(e,c,u),n!==null&&(wn(n,e,u,a),pa(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Tt(),a=Br(e),u=tr(i,a);u.tag=2,n!=null&&(u.callback=n),n=Or(e,u,a),n!==null&&(wn(n,e,a,i),pa(n,e,a))}};function pc(e,n,i,a,u,c,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,f):n.prototype&&n.prototype.isPureReactComponent?!kn(i,a)||!kn(u,c):!0}function gc(e,n,i){var a=!1,u=zr,c=n.contextType;return typeof c=="object"&&c!==null?c=on(c):(u=Ot(n)?di:Nt.current,a=n.contextTypes,c=(a=a!=null)?ns(e,u):zr),n=new n(i,c),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Na,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=c),n}function vc(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&Na.enqueueReplaceState(n,n.state,null)}function Zl(e,n,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},Cl(e);var c=n.contextType;typeof c=="object"&&c!==null?u.context=on(c):(c=Ot(n)?di:Nt.current,u.context=ns(e,c)),u.state=e.memoizedState,c=n.getDerivedStateFromProps,typeof c=="function"&&(Fl(e,n,c,i),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Na.enqueueReplaceState(u,u.state,null),ga(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function cs(e,n){try{var i="",a=n;do i+=de(a),a=a.return;while(a);var u=i}catch(c){u=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:n,stack:u,digest:null}}function $l(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Ul(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Kd=typeof WeakMap=="function"?WeakMap:Map;function xc(e,n,i){i=tr(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){La||(La=!0,iu=a),Ul(e,n)},i}function _c(e,n,i){i=tr(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=n.value;i.payload=function(){return a(u)},i.callback=function(){Ul(e,n)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){Ul(e,n),typeof a!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var f=n.stack;this.componentDidCatch(n.value,{componentStack:f!==null?f:""})}),i}function yc(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new Kd;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(i)||(u.add(i),e=uh.bind(null,e,n,i),n.then(e,e))}function wc(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function bc(e,n,i,a,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=tr(-1,1),n.tag=2,Or(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Qd=be.ReactCurrentOwner,It=!1;function Lt(e,n,i,a){n.child=e===null?$u(n,null,i,a):os(n,e.child,i,a)}function Nc(e,n,i,a,u){i=i.render;var c=n.ref;return ls(n,u),a=Al(e,n,i,a,c,u),i=Ol(),e!==null&&!It?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,nr(e,n,u)):(Qe&&i&&vl(n),n.flags|=1,Lt(e,n,a,u),n.child)}function jc(e,n,i,a,u){if(e===null){var c=i.type;return typeof c=="function"&&!du(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=c,Pc(e,n,c,a,u)):(e=Ia(i.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(c=e.child,(e.lanes&u)===0){var f=c.memoizedProps;if(i=i.compare,i=i!==null?i:kn,i(f,a)&&e.ref===n.ref)return nr(e,n,u)}return n.flags|=1,e=Zr(c,a),e.ref=n.ref,e.return=n,n.child=e}function Pc(e,n,i,a,u){if(e!==null){var c=e.memoizedProps;if(kn(c,a)&&e.ref===n.ref)if(It=!1,n.pendingProps=a=c,(e.lanes&u)!==0)(e.flags&131072)!==0&&(It=!0);else return n.lanes=e.lanes,nr(e,n,u)}return Hl(e,n,i,a,u)}function Sc(e,n,i){var a=n.pendingProps,u=a.children,c=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(hs,Qt),Qt|=i;else{if((i&1073741824)===0)return e=c!==null?c.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ve(hs,Qt),Qt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=c!==null?c.baseLanes:i,Ve(hs,Qt),Qt|=a}else c!==null?(a=c.baseLanes|i,n.memoizedState=null):a=i,Ve(hs,Qt),Qt|=a;return Lt(e,n,u,i),n.child}function Cc(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Hl(e,n,i,a,u){var c=Ot(i)?di:Nt.current;return c=ns(n,c),ls(n,u),i=Al(e,n,i,a,c,u),a=Ol(),e!==null&&!It?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,nr(e,n,u)):(Qe&&a&&vl(n),n.flags|=1,Lt(e,n,i,u),n.child)}function kc(e,n,i,a,u){if(Ot(i)){var c=!0;aa(n)}else c=!1;if(ls(n,u),n.stateNode===null)Pa(e,n),gc(n,i,a),Zl(n,i,a,u),a=!0;else if(e===null){var f=n.stateNode,y=n.memoizedProps;f.props=y;var N=f.context,I=i.contextType;typeof I=="object"&&I!==null?I=on(I):(I=Ot(i)?di:Nt.current,I=ns(n,I));var K=i.getDerivedStateFromProps,Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function";Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==a||N!==I)&&vc(n,f,a,I),Ar=!1;var V=n.memoizedState;f.state=V,ga(n,a,f,u),N=n.memoizedState,y!==a||V!==N||At.current||Ar?(typeof K=="function"&&(Fl(n,i,K,a),N=n.memoizedState),(y=Ar||pc(n,i,y,a,V,N,I))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=N),f.props=a,f.state=N,f.context=I,a=y):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{f=n.stateNode,Hu(e,n),y=n.memoizedProps,I=n.type===n.elementType?y:xn(n.type,y),f.props=I,Q=n.pendingProps,V=f.context,N=i.contextType,typeof N=="object"&&N!==null?N=on(N):(N=Ot(i)?di:Nt.current,N=ns(n,N));var ie=i.getDerivedStateFromProps;(K=typeof ie=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||V!==N)&&vc(n,f,a,N),Ar=!1,V=n.memoizedState,f.state=V,ga(n,a,f,u);var ue=n.memoizedState;y!==Q||V!==ue||At.current||Ar?(typeof ie=="function"&&(Fl(n,i,ie,a),ue=n.memoizedState),(I=Ar||pc(n,i,I,a,V,ue,N)||!1)?(K||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,ue,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,ue,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=ue),f.props=a,f.state=ue,f.context=N,a=I):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),a=!1)}return Gl(e,n,i,a,c,u)}function Gl(e,n,i,a,u,c){Cc(e,n);var f=(n.flags&128)!==0;if(!a&&!f)return u&&Mu(n,i,!1),nr(e,n,c);a=n.stateNode,Qd.current=n;var y=f&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&f?(n.child=os(n,e.child,null,c),n.child=os(n,null,y,c)):Lt(e,n,y,c),n.memoizedState=a.state,u&&Mu(n,i,!0),n.child}function Ec(e){var n=e.stateNode;n.pendingContext?Tu(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Tu(e,n.context,!1),kl(e,n.containerInfo)}function Lc(e,n,i,a,u){return ss(),wl(u),n.flags|=256,Lt(e,n,i,a),n.child}var Wl={dehydrated:null,treeContext:null,retryLane:0};function Vl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tc(e,n,i){var a=n.pendingProps,u=Je.current,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(u&2)!==0),y?(c=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ve(Je,u&1),e===null)return yl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(f=a.children,e=a.fallback,c?(a=n.mode,c=n.child,f={mode:"hidden",children:f},(a&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=f):c=Ra(f,a,0,null),e=wi(e,a,i,null),c.return=n,e.return=n,c.sibling=e,n.child=c,n.child.memoizedState=Vl(i),n.memoizedState=Wl,e):ql(n,f));if(u=e.memoizedState,u!==null&&(y=u.dehydrated,y!==null))return Yd(e,n,f,a,y,u,i);if(c){c=a.fallback,f=n.mode,u=e.child,y=u.sibling;var N={mode:"hidden",children:a.children};return(f&1)===0&&n.child!==u?(a=n.child,a.childLanes=0,a.pendingProps=N,n.deletions=null):(a=Zr(u,N),a.subtreeFlags=u.subtreeFlags&14680064),y!==null?c=Zr(y,c):(c=wi(c,f,i,null),c.flags|=2),c.return=n,a.return=n,a.sibling=c,n.child=a,a=c,c=n.child,f=e.child.memoizedState,f=f===null?Vl(i):{baseLanes:f.baseLanes|i,cachePool:null,transitions:f.transitions},c.memoizedState=f,c.childLanes=e.childLanes&~i,n.memoizedState=Wl,a}return c=e.child,e=c.sibling,a=Zr(c,{mode:"visible",children:a.children}),(n.mode&1)===0&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function ql(e,n){return n=Ra({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ja(e,n,i,a){return a!==null&&wl(a),os(n,e.child,null,i),e=ql(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yd(e,n,i,a,u,c,f){if(i)return n.flags&256?(n.flags&=-257,a=$l(Error(h(422))),ja(e,n,f,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(c=a.fallback,u=n.mode,a=Ra({mode:"visible",children:a.children},u,0,null),c=wi(c,u,f,null),c.flags|=2,a.return=n,c.return=n,a.sibling=c,n.child=a,(n.mode&1)!==0&&os(n,e.child,null,f),n.child.memoizedState=Vl(f),n.memoizedState=Wl,c);if((n.mode&1)===0)return ja(e,n,f,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var y=a.dgst;return a=y,c=Error(h(419)),a=$l(c,a,void 0),ja(e,n,f,a)}if(y=(f&e.childLanes)!==0,It||y){if(a=mt,a!==null){switch(f&-f){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|f))!==0?0:u,u!==0&&u!==c.retryLane&&(c.retryLane=u,er(e,u),wn(a,e,u,-1))}return cu(),a=$l(Error(h(421))),ja(e,n,f,a)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=ch.bind(null,e),u._reactRetry=n,null):(e=c.treeContext,Kt=Tn(u.nextSibling),qt=n,Qe=!0,vn=null,e!==null&&(rn[sn++]=Xn,rn[sn++]=Jn,rn[sn++]=hi,Xn=e.id,Jn=e.overflow,hi=n),n=ql(n,a.children),n.flags|=4096,n)}function zc(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),Pl(e.return,n,i)}function Kl(e,n,i,a,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(c.isBackwards=n,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=u)}function Mc(e,n,i){var a=n.pendingProps,u=a.revealOrder,c=a.tail;if(Lt(e,n,a.children,i),a=Je.current,(a&2)!==0)a=a&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zc(e,i,n);else if(e.tag===19)zc(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ve(Je,a),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(i=n.child,u=null;i!==null;)e=i.alternate,e!==null&&va(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),Kl(n,!1,u,i,c);break;case"backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&va(e)===null){n.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Kl(n,!0,i,null,c);break;case"together":Kl(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pa(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function nr(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),vi|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(h(153));if(n.child!==null){for(e=n.child,i=Zr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Zr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Xd(e,n,i){switch(n.tag){case 3:Ec(n),ss();break;case 5:Vu(n);break;case 1:Ot(n.type)&&aa(n);break;case 4:kl(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,u=n.memoizedProps.value;Ve(fa,a._currentValue),a._currentValue=u;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Ve(Je,Je.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Tc(e,n,i):(Ve(Je,Je.current&1),e=nr(e,n,i),e!==null?e.sibling:null);Ve(Je,Je.current&1);break;case 19:if(a=(i&n.childLanes)!==0,(e.flags&128)!==0){if(a)return Mc(e,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ve(Je,Je.current),a)break;return null;case 22:case 23:return n.lanes=0,Sc(e,n,i)}return nr(e,n,i)}var Ac,Ql,Oc,Ic;Ac=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ql=function(){},Oc=function(e,n,i,a){var u=e.memoizedProps;if(u!==a){e=n.stateNode,pi(zn.current);var c=null;switch(i){case"input":u=vs(e,u),a=vs(e,a),c=[];break;case"select":u=R({},u,{value:void 0}),a=R({},a,{value:void 0}),c=[];break;case"textarea":u=Ni(e,u),a=Ni(e,a),c=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=U)}Ns(i,a);var f;i=null;for(I in u)if(!a.hasOwnProperty(I)&&u.hasOwnProperty(I)&&u[I]!=null)if(I==="style"){var y=u[I];for(f in y)y.hasOwnProperty(f)&&(i||(i={}),i[f]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(x.hasOwnProperty(I)?c||(c=[]):(c=c||[]).push(I,null));for(I in a){var N=a[I];if(y=u!=null?u[I]:void 0,a.hasOwnProperty(I)&&N!==y&&(N!=null||y!=null))if(I==="style")if(y){for(f in y)!y.hasOwnProperty(f)||N&&N.hasOwnProperty(f)||(i||(i={}),i[f]="");for(f in N)N.hasOwnProperty(f)&&y[f]!==N[f]&&(i||(i={}),i[f]=N[f])}else i||(c||(c=[]),c.push(I,i)),i=N;else I==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,y=y?y.__html:void 0,N!=null&&y!==N&&(c=c||[]).push(I,N)):I==="children"?typeof N!="string"&&typeof N!="number"||(c=c||[]).push(I,""+N):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(x.hasOwnProperty(I)?(N!=null&&I==="onScroll"&&He("scroll",e),c||y===N||(c=[])):(c=c||[]).push(I,N))}i&&(c=c||[]).push("style",i);var I=c;(n.updateQueue=I)&&(n.flags|=4)}},Ic=function(e,n,i,a){i!==a&&(n.flags|=4)};function ho(e,n){if(!Qe)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Pt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function Jd(e,n,i){var a=n.pendingProps;switch(xl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return Ot(n.type)&&oa(),Pt(n),null;case 3:return a=n.stateNode,us(),Ke(At),Ke(Nt),Tl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(da(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vn!==null&&(au(vn),vn=null))),Ql(e,n),Pt(n),null;case 5:El(n);var u=pi(oo.current);if(i=n.type,e!==null&&n.stateNode!=null)Oc(e,n,i,a,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(h(166));return Pt(n),null}if(e=pi(zn.current),da(n)){a=n.stateNode,i=n.type;var c=n.memoizedProps;switch(a[nn]=n,a[Er]=c,e=(n.mode&1)!==0,i){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(u=0;u<Sr.length;u++)He(Sr[u],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":xs(a,c),He("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!c.multiple},He("invalid",a);break;case"textarea":ws(a,c),He("invalid",a)}Ns(i,c),u=null;for(var f in c)if(c.hasOwnProperty(f)){var y=c[f];f==="children"?typeof y=="string"?a.textContent!==y&&(c.suppressHydrationWarning!==!0&&O(a.textContent,y,e),u=["children",y]):typeof y=="number"&&a.textContent!==""+y&&(c.suppressHydrationWarning!==!0&&O(a.textContent,y,e),u=["children",""+y]):x.hasOwnProperty(f)&&y!=null&&f==="onScroll"&&He("scroll",a)}switch(i){case"input":ir(a),Wr(a,c,!0);break;case"textarea":ir(a),No(a);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(a.onclick=U)}a=u,n.updateQueue=a,a!==null&&(n.flags|=4)}else{f=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ji(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=f.createElement(i,{is:a.is}):(e=f.createElement(i),i==="select"&&(f=e,a.multiple?f.multiple=!0:a.size&&(f.size=a.size))):e=f.createElementNS(e,i),e[nn]=n,e[Er]=a,Ac(e,n,!1,!1),n.stateNode=e;e:{switch(f=On(i,a),i){case"dialog":He("cancel",e),He("close",e),u=a;break;case"iframe":case"object":case"embed":He("load",e),u=a;break;case"video":case"audio":for(u=0;u<Sr.length;u++)He(Sr[u],e);u=a;break;case"source":He("error",e),u=a;break;case"img":case"image":case"link":He("error",e),He("load",e),u=a;break;case"details":He("toggle",e),u=a;break;case"input":xs(e,a),u=vs(e,a),He("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=R({},a,{value:void 0}),He("invalid",e);break;case"textarea":ws(e,a),u=Ni(e,a),He("invalid",e);break;default:u=a}Ns(i,u),y=u;for(c in y)if(y.hasOwnProperty(c)){var N=y[c];c==="style"?Si(e,N):c==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&jo(e,N)):c==="children"?typeof N=="string"?(i!=="textarea"||N!=="")&&lr(e,N):typeof N=="number"&&lr(e,""+N):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(x.hasOwnProperty(c)?N!=null&&c==="onScroll"&&He("scroll",e):N!=null&&fe(e,c,N,f))}switch(i){case"input":ir(e),Wr(e,a,!1);break;case"textarea":ir(e),No(e);break;case"option":a.value!=null&&e.setAttribute("value",""+Me(a.value));break;case"select":e.multiple=!!a.multiple,c=a.value,c!=null?bn(e,!!a.multiple,c,!1):a.defaultValue!=null&&bn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=U)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pt(n),null;case 6:if(e&&n.stateNode!=null)Ic(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(h(166));if(i=pi(oo.current),pi(zn.current),da(n)){if(a=n.stateNode,i=n.memoizedProps,a[nn]=n,(c=a.nodeValue!==i)&&(e=qt,e!==null))switch(e.tag){case 3:O(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&O(a.nodeValue,i,(e.mode&1)!==0)}c&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[nn]=n,n.stateNode=a}return Pt(n),null;case 13:if(Ke(Je),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&Kt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Bu(),ss(),n.flags|=98560,c=!1;else if(c=da(n),a!==null&&a.dehydrated!==null){if(e===null){if(!c)throw Error(h(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(h(317));c[nn]=n}else ss(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pt(n),c=!1}else vn!==null&&(au(vn),vn=null),c=!0;if(!c)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Je.current&1)!==0?dt===0&&(dt=3):cu())),n.updateQueue!==null&&(n.flags|=4),Pt(n),null);case 4:return us(),Ql(e,n),e===null&&Cr(n.stateNode.containerInfo),Pt(n),null;case 10:return jl(n.type._context),Pt(n),null;case 17:return Ot(n.type)&&oa(),Pt(n),null;case 19:if(Ke(Je),c=n.memoizedState,c===null)return Pt(n),null;if(a=(n.flags&128)!==0,f=c.rendering,f===null)if(a)ho(c,!1);else{if(dt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=va(e),f!==null){for(n.flags|=128,ho(c,!1),a=f.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)c=i,e=a,c.flags&=14680066,f=c.alternate,f===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=f.childLanes,c.lanes=f.lanes,c.child=f.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=f.memoizedProps,c.memoizedState=f.memoizedState,c.updateQueue=f.updateQueue,c.type=f.type,e=f.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ve(Je,Je.current&1|2),n.child}e=e.sibling}c.tail!==null&&Ye()>fs&&(n.flags|=128,a=!0,ho(c,!1),n.lanes=4194304)}else{if(!a)if(e=va(f),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ho(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Qe)return Pt(n),null}else 2*Ye()-c.renderingStartTime>fs&&i!==1073741824&&(n.flags|=128,a=!0,ho(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(i=c.last,i!==null?i.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ye(),n.sibling=null,i=Je.current,Ve(Je,a?i&1|2:i&1),n):(Pt(n),null);case 22:case 23:return uu(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&(n.mode&1)!==0?(Qt&1073741824)!==0&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),null;case 24:return null;case 25:return null}throw Error(h(156,n.tag))}function eh(e,n){switch(xl(n),n.tag){case 1:return Ot(n.type)&&oa(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return us(),Ke(At),Ke(Nt),Tl(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return El(n),null;case 13:if(Ke(Je),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(h(340));ss()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ke(Je),null;case 4:return us(),null;case 10:return jl(n.type._context),null;case 22:case 23:return uu(),null;case 24:return null;default:return null}}var Sa=!1,St=!1,th=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ds(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){nt(e,n,a)}else i.current=null}function Yl(e,n,i){try{i()}catch(a){nt(e,n,a)}}var Rc=!1;function nh(e,n){if(ne=ri,e=qs(),Ks(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var f=0,y=-1,N=-1,I=0,K=0,Q=e,V=null;t:for(;;){for(var ie;Q!==i||u!==0&&Q.nodeType!==3||(y=f+u),Q!==c||a!==0&&Q.nodeType!==3||(N=f+a),Q.nodeType===3&&(f+=Q.nodeValue.length),(ie=Q.firstChild)!==null;)V=Q,Q=ie;for(;;){if(Q===e)break t;if(V===i&&++I===u&&(y=f),V===c&&++K===a&&(N=f),(ie=Q.nextSibling)!==null)break;Q=V,V=Q.parentNode}Q=ie}i=y===-1||N===-1?null:{start:y,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(_e={focusedElem:e,selectionRange:i},ri=!1,ae=n;ae!==null;)if(n=ae,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ae=e;else for(;ae!==null;){n=ae;try{var ue=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,z=n.stateNode,P=z.getSnapshotBeforeUpdate(n.elementType===n.type?ce:xn(n.type,ce),rt);z.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=n.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(J){nt(n,n.return,J)}if(e=n.sibling,e!==null){e.return=n.return,ae=e;break}ae=n.return}return ue=Rc,Rc=!1,ue}function fo(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var c=u.destroy;u.destroy=void 0,c!==void 0&&Yl(n,i,c)}u=u.next}while(u!==a)}}function Ca(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function Xl(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Dc(e){var n=e.alternate;n!==null&&(e.alternate=null,Dc(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[nn],delete n[Er],delete n[Lr],delete n[fl],delete n[ml])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bc(e){return e.tag===5||e.tag===3||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jl(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=U));else if(a!==4&&(e=e.child,e!==null))for(Jl(e,n,i),e=e.sibling;e!==null;)Jl(e,n,i),e=e.sibling}function eu(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(eu(e,n,i),e=e.sibling;e!==null;)eu(e,n,i),e=e.sibling}var vt=null,_n=!1;function Ir(e,n,i){for(i=i.child;i!==null;)Zc(e,n,i),i=i.sibling}function Zc(e,n,i){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Yr,i)}catch{}switch(i.tag){case 5:St||ds(i,n);case 6:var a=vt,u=_n;vt=null,Ir(e,n,i),vt=a,_n=u,vt!==null&&(_n?(e=vt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):vt.removeChild(i.stateNode));break;case 18:vt!==null&&(_n?(e=vt,i=i.stateNode,e.nodeType===8?no(e.parentNode,i):e.nodeType===1&&no(e,i),Ut(e)):no(vt,i.stateNode));break;case 4:a=vt,u=_n,vt=i.stateNode.containerInfo,_n=!0,Ir(e,n,i),vt=a,_n=u;break;case 0:case 11:case 14:case 15:if(!St&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var c=u,f=c.destroy;c=c.tag,f!==void 0&&((c&2)!==0||(c&4)!==0)&&Yl(i,n,f),u=u.next}while(u!==a)}Ir(e,n,i);break;case 1:if(!St&&(ds(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(y){nt(i,n,y)}Ir(e,n,i);break;case 21:Ir(e,n,i);break;case 22:i.mode&1?(St=(a=St)||i.memoizedState!==null,Ir(e,n,i),St=a):Ir(e,n,i);break;default:Ir(e,n,i)}}function $c(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new th),n.forEach(function(a){var u=dh.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function yn(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var c=e,f=n,y=f;e:for(;y!==null;){switch(y.tag){case 5:vt=y.stateNode,_n=!1;break e;case 3:vt=y.stateNode.containerInfo,_n=!0;break e;case 4:vt=y.stateNode.containerInfo,_n=!0;break e}y=y.return}if(vt===null)throw Error(h(160));Zc(c,f,u),vt=null,_n=!1;var N=u.alternate;N!==null&&(N.return=null),u.return=null}catch(I){nt(u,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Uc(n,e),n=n.sibling}function Uc(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yn(n,e),An(e),a&4){try{fo(3,e,e.return),Ca(3,e)}catch(ce){nt(e,e.return,ce)}try{fo(5,e,e.return)}catch(ce){nt(e,e.return,ce)}}break;case 1:yn(n,e),An(e),a&512&&i!==null&&ds(i,i.return);break;case 5:if(yn(n,e),An(e),a&512&&i!==null&&ds(i,i.return),e.flags&32){var u=e.stateNode;try{lr(u,"")}catch(ce){nt(e,e.return,ce)}}if(a&4&&(u=e.stateNode,u!=null)){var c=e.memoizedProps,f=i!==null?i.memoizedProps:c,y=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{y==="input"&&c.type==="radio"&&c.name!=null&&_s(u,c),On(y,f);var I=On(y,c);for(f=0;f<N.length;f+=2){var K=N[f],Q=N[f+1];K==="style"?Si(u,Q):K==="dangerouslySetInnerHTML"?jo(u,Q):K==="children"?lr(u,Q):fe(u,K,Q,I)}switch(y){case"input":Gr(u,c);break;case"textarea":bo(u,c);break;case"select":var V=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!c.multiple;var ie=c.value;ie!=null?bn(u,!!c.multiple,ie,!1):V!==!!c.multiple&&(c.defaultValue!=null?bn(u,!!c.multiple,c.defaultValue,!0):bn(u,!!c.multiple,c.multiple?[]:"",!1))}u[Er]=c}catch(ce){nt(e,e.return,ce)}}break;case 6:if(yn(n,e),An(e),a&4){if(e.stateNode===null)throw Error(h(162));u=e.stateNode,c=e.memoizedProps;try{u.nodeValue=c}catch(ce){nt(e,e.return,ce)}}break;case 3:if(yn(n,e),An(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ut(n.containerInfo)}catch(ce){nt(e,e.return,ce)}break;case 4:yn(n,e),An(e);break;case 13:yn(n,e),An(e),u=e.child,u.flags&8192&&(c=u.memoizedState!==null,u.stateNode.isHidden=c,!c||u.alternate!==null&&u.alternate.memoizedState!==null||(ru=Ye())),a&4&&$c(e);break;case 22:if(K=i!==null&&i.memoizedState!==null,e.mode&1?(St=(I=St)||K,yn(n,e),St=I):yn(n,e),An(e),a&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!K&&(e.mode&1)!==0)for(ae=e,K=e.child;K!==null;){for(Q=ae=K;ae!==null;){switch(V=ae,ie=V.child,V.tag){case 0:case 11:case 14:case 15:fo(4,V,V.return);break;case 1:ds(V,V.return);var ue=V.stateNode;if(typeof ue.componentWillUnmount=="function"){a=V,i=V.return;try{n=a,ue.props=n.memoizedProps,ue.state=n.memoizedState,ue.componentWillUnmount()}catch(ce){nt(a,i,ce)}}break;case 5:ds(V,V.return);break;case 22:if(V.memoizedState!==null){Wc(Q);continue}}ie!==null?(ie.return=V,ae=ie):Wc(Q)}K=K.sibling}e:for(K=null,Q=e;;){if(Q.tag===5){if(K===null){K=Q;try{u=Q.stateNode,I?(c=u.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(y=Q.stateNode,N=Q.memoizedProps.style,f=N!=null&&N.hasOwnProperty("display")?N.display:null,y.style.display=bs("display",f))}catch(ce){nt(e,e.return,ce)}}}else if(Q.tag===6){if(K===null)try{Q.stateNode.nodeValue=I?"":Q.memoizedProps}catch(ce){nt(e,e.return,ce)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;K===Q&&(K=null),Q=Q.return}K===Q&&(K=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:yn(n,e),An(e),a&4&&$c(e);break;case 21:break;default:yn(n,e),An(e)}}function An(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Bc(i)){var a=i;break e}i=i.return}throw Error(h(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(lr(u,""),a.flags&=-33);var c=Fc(e);eu(e,c,u);break;case 3:case 4:var f=a.stateNode.containerInfo,y=Fc(e);Jl(e,y,f);break;default:throw Error(h(161))}}catch(N){nt(e,e.return,N)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function rh(e,n,i){ae=e,Hc(e)}function Hc(e,n,i){for(var a=(e.mode&1)!==0;ae!==null;){var u=ae,c=u.child;if(u.tag===22&&a){var f=u.memoizedState!==null||Sa;if(!f){var y=u.alternate,N=y!==null&&y.memoizedState!==null||St;y=Sa;var I=St;if(Sa=f,(St=N)&&!I)for(ae=u;ae!==null;)f=ae,N=f.child,f.tag===22&&f.memoizedState!==null?Vc(u):N!==null?(N.return=f,ae=N):Vc(u);for(;c!==null;)ae=c,Hc(c),c=c.sibling;ae=u,Sa=y,St=I}Gc(e)}else(u.subtreeFlags&8772)!==0&&c!==null?(c.return=u,ae=c):Gc(e)}}function Gc(e){for(;ae!==null;){var n=ae;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:St||Ca(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!St)if(i===null)a.componentDidMount();else{var u=n.elementType===n.type?i.memoizedProps:xn(n.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var c=n.updateQueue;c!==null&&Wu(n,c,a);break;case 3:var f=n.updateQueue;if(f!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Wu(n,f,i)}break;case 5:var y=n.stateNode;if(i===null&&n.flags&4){i=y;var N=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&i.focus();break;case"img":N.src&&(i.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var K=I.memoizedState;if(K!==null){var Q=K.dehydrated;Q!==null&&Ut(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}St||n.flags&512&&Xl(n)}catch(V){nt(n,n.return,V)}}if(n===e){ae=null;break}if(i=n.sibling,i!==null){i.return=n.return,ae=i;break}ae=n.return}}function Wc(e){for(;ae!==null;){var n=ae;if(n===e){ae=null;break}var i=n.sibling;if(i!==null){i.return=n.return,ae=i;break}ae=n.return}}function Vc(e){for(;ae!==null;){var n=ae;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Ca(4,n)}catch(N){nt(n,i,N)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var u=n.return;try{a.componentDidMount()}catch(N){nt(n,u,N)}}var c=n.return;try{Xl(n)}catch(N){nt(n,c,N)}break;case 5:var f=n.return;try{Xl(n)}catch(N){nt(n,f,N)}}}catch(N){nt(n,n.return,N)}if(n===e){ae=null;break}var y=n.sibling;if(y!==null){y.return=n.return,ae=y;break}ae=n.return}}var ih=Math.ceil,ka=be.ReactCurrentDispatcher,tu=be.ReactCurrentOwner,ln=be.ReactCurrentBatchConfig,Be=0,mt=null,st=null,xt=0,Qt=0,hs=Tr(0),dt=0,mo=null,vi=0,Ea=0,nu=0,po=null,Rt=null,ru=0,fs=1/0,rr=null,La=!1,iu=null,Rr=null,Ta=!1,Dr=null,za=0,go=0,su=null,Ma=-1,Aa=0;function Tt(){return(Be&6)!==0?Ye():Ma!==-1?Ma:Ma=Ye()}function Br(e){return(e.mode&1)===0?1:(Be&2)!==0&&xt!==0?xt&-xt:Zd.transition!==null?(Aa===0&&(Aa=Ro()),Aa):(e=De,e!==0||(e=window.event,e=e===void 0?16:Oe(e.type)),e)}function wn(e,n,i,a){if(50<go)throw go=0,su=null,Error(h(185));Zt(e,i,a),((Be&2)===0||e!==mt)&&(e===mt&&((Be&2)===0&&(Ea|=i),dt===4&&Fr(e,xt)),Dt(e,a),i===1&&Be===0&&(n.mode&1)===0&&(fs=Ye()+500,la&&Mr()))}function Dt(e,n){var i=e.callbackNode;Mi(e,n);var a=We(e,e===mt?xt:0);if(a===0)i!==null&&Ls(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&Ls(i),n===1)e.tag===0?Fd(Kc.bind(null,e)):Au(Kc.bind(null,e)),bt(function(){(Be&6)===0&&Mr()}),i=null;else{switch(mr(a)){case 1:i=Ts;break;case 4:i=Io;break;case 16:i=Ti;break;case 536870912:i=cr;break;default:i=Ti}i=rd(i,qc.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function qc(e,n){if(Ma=-1,Aa=0,(Be&6)!==0)throw Error(h(327));var i=e.callbackNode;if(ms()&&e.callbackNode!==i)return null;var a=We(e,e===mt?xt:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||n)n=Oa(e,a);else{n=a;var u=Be;Be|=2;var c=Yc();(mt!==e||xt!==n)&&(rr=null,fs=Ye()+500,_i(e,n));do try{ah();break}catch(y){Qc(e,y)}while(!0);Nl(),ka.current=c,Be=u,st!==null?n=0:(mt=null,xt=0,n=dt)}if(n!==0){if(n===2&&(u=yt(e),u!==0&&(a=u,n=ou(e,u))),n===1)throw i=mo,_i(e,0),Fr(e,a),Dt(e,Ye()),i;if(n===6)Fr(e,a);else{if(u=e.current.alternate,(a&30)===0&&!sh(u)&&(n=Oa(e,a),n===2&&(c=yt(e),c!==0&&(a=c,n=ou(e,c))),n===1))throw i=mo,_i(e,0),Fr(e,a),Dt(e,Ye()),i;switch(e.finishedWork=u,e.finishedLanes=a,n){case 0:case 1:throw Error(h(345));case 2:yi(e,Rt,rr);break;case 3:if(Fr(e,a),(a&130023424)===a&&(n=ru+500-Ye(),10<n)){if(We(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){Tt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=ut(yi.bind(null,e,Rt,rr),n);break}yi(e,Rt,rr);break;case 4:if(Fr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,u=-1;0<a;){var f=31-ke(a);c=1<<f,f=n[f],f>u&&(u=f),a&=~c}if(a=u,a=Ye()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ih(a/1960))-a,10<a){e.timeoutHandle=ut(yi.bind(null,e,Rt,rr),a);break}yi(e,Rt,rr);break;case 5:yi(e,Rt,rr);break;default:throw Error(h(329))}}}return Dt(e,Ye()),e.callbackNode===i?qc.bind(null,e):null}function ou(e,n){var i=po;return e.current.memoizedState.isDehydrated&&(_i(e,n).flags|=256),e=Oa(e,n),e!==2&&(n=Rt,Rt=i,n!==null&&au(n)),e}function au(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function sh(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],c=u.getSnapshot;u=u.value;try{if(!Wt(c(),u))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fr(e,n){for(n&=~nu,n&=~Ea,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-ke(n),a=1<<i;e[i]=-1,n&=~a}}function Kc(e){if((Be&6)!==0)throw Error(h(327));ms();var n=We(e,0);if((n&1)===0)return Dt(e,Ye()),null;var i=Oa(e,n);if(e.tag!==0&&i===2){var a=yt(e);a!==0&&(n=a,i=ou(e,a))}if(i===1)throw i=mo,_i(e,0),Fr(e,n),Dt(e,Ye()),i;if(i===6)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,yi(e,Rt,rr),Dt(e,Ye()),null}function lu(e,n){var i=Be;Be|=1;try{return e(n)}finally{Be=i,Be===0&&(fs=Ye()+500,la&&Mr())}}function xi(e){Dr!==null&&Dr.tag===0&&(Be&6)===0&&ms();var n=Be;Be|=1;var i=ln.transition,a=De;try{if(ln.transition=null,De=1,e)return e()}finally{De=a,ln.transition=i,Be=n,(Be&6)===0&&Mr()}}function uu(){Qt=hs.current,Ke(hs)}function _i(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,it(i)),st!==null)for(i=st.return;i!==null;){var a=i;switch(xl(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&oa();break;case 3:us(),Ke(At),Ke(Nt),Tl();break;case 5:El(a);break;case 4:us();break;case 13:Ke(Je);break;case 19:Ke(Je);break;case 10:jl(a.type._context);break;case 22:case 23:uu()}i=i.return}if(mt=e,st=e=Zr(e.current,null),xt=Qt=n,dt=0,mo=null,nu=Ea=vi=0,Rt=po=null,mi!==null){for(n=0;n<mi.length;n++)if(i=mi[n],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,c=i.pending;if(c!==null){var f=c.next;c.next=u,a.next=f}i.pending=a}mi=null}return e}function Qc(e,n){do{var i=st;try{if(Nl(),xa.current=ba,_a){for(var a=et.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}_a=!1}if(gi=0,ft=ct=et=null,ao=!1,lo=0,tu.current=null,i===null||i.return===null){dt=1,mo=n,st=null;break}e:{var c=e,f=i.return,y=i,N=n;if(n=xt,y.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var I=N,K=y,Q=K.tag;if((K.mode&1)===0&&(Q===0||Q===11||Q===15)){var V=K.alternate;V?(K.updateQueue=V.updateQueue,K.memoizedState=V.memoizedState,K.lanes=V.lanes):(K.updateQueue=null,K.memoizedState=null)}var ie=wc(f);if(ie!==null){ie.flags&=-257,bc(ie,f,y,c,n),ie.mode&1&&yc(c,I,n),n=ie,N=I;var ue=n.updateQueue;if(ue===null){var ce=new Set;ce.add(N),n.updateQueue=ce}else ue.add(N);break e}else{if((n&1)===0){yc(c,I,n),cu();break e}N=Error(h(426))}}else if(Qe&&y.mode&1){var rt=wc(f);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),bc(rt,f,y,c,n),wl(cs(N,y));break e}}c=N=cs(N,y),dt!==4&&(dt=2),po===null?po=[c]:po.push(c),c=f;do{switch(c.tag){case 3:c.flags|=65536,n&=-n,c.lanes|=n;var z=xc(c,N,n);Gu(c,z);break e;case 1:y=N;var P=c.type,M=c.stateNode;if((c.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Rr===null||!Rr.has(M)))){c.flags|=65536,n&=-n,c.lanes|=n;var J=_c(c,y,n);Gu(c,J);break e}}c=c.return}while(c!==null)}Jc(i)}catch(me){n=me,st===i&&i!==null&&(st=i=i.return);continue}break}while(!0)}function Yc(){var e=ka.current;return ka.current=ba,e===null?ba:e}function cu(){(dt===0||dt===3||dt===2)&&(dt=4),mt===null||(vi&268435455)===0&&(Ea&268435455)===0||Fr(mt,xt)}function Oa(e,n){var i=Be;Be|=2;var a=Yc();(mt!==e||xt!==n)&&(rr=null,_i(e,n));do try{oh();break}catch(u){Qc(e,u)}while(!0);if(Nl(),Be=i,ka.current=a,st!==null)throw Error(h(261));return mt=null,xt=0,dt}function oh(){for(;st!==null;)Xc(st)}function ah(){for(;st!==null&&!Ya();)Xc(st)}function Xc(e){var n=nd(e.alternate,e,Qt);e.memoizedProps=e.pendingProps,n===null?Jc(e):st=n,tu.current=null}function Jc(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=Jd(i,n,Qt),i!==null){st=i;return}}else{if(i=eh(i,n),i!==null){i.flags&=32767,st=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,st=null;return}}if(n=n.sibling,n!==null){st=n;return}st=n=e}while(n!==null);dt===0&&(dt=5)}function yi(e,n,i){var a=De,u=ln.transition;try{ln.transition=null,De=1,lh(e,n,i,a)}finally{ln.transition=u,De=a}return null}function lh(e,n,i,a){do ms();while(Dr!==null);if((Be&6)!==0)throw Error(h(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(tt(e,c),e===mt&&(st=mt=null,xt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ta||(Ta=!0,rd(Ti,function(){return ms(),null})),c=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||c){c=ln.transition,ln.transition=null;var f=De;De=1;var y=Be;Be|=4,tu.current=null,nh(e,i),Uc(i,e),en(_e),ri=!!ne,_e=ne=null,e.current=i,rh(i),Li(),Be=y,De=f,ln.transition=c}else e.current=i;if(Ta&&(Ta=!1,Dr=e,za=u),c=e.pendingLanes,c===0&&(Rr=null),Xr(i.stateNode),Dt(e,Ye()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)u=n[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(La)throw La=!1,e=iu,iu=null,e;return(za&1)!==0&&e.tag!==0&&ms(),c=e.pendingLanes,(c&1)!==0?e===su?go++:(go=0,su=e):go=0,Mr(),null}function ms(){if(Dr!==null){var e=mr(za),n=ln.transition,i=De;try{if(ln.transition=null,De=16>e?16:e,Dr===null)var a=!1;else{if(e=Dr,Dr=null,za=0,(Be&6)!==0)throw Error(h(331));var u=Be;for(Be|=4,ae=e.current;ae!==null;){var c=ae,f=c.child;if((ae.flags&16)!==0){var y=c.deletions;if(y!==null){for(var N=0;N<y.length;N++){var I=y[N];for(ae=I;ae!==null;){var K=ae;switch(K.tag){case 0:case 11:case 15:fo(8,K,c)}var Q=K.child;if(Q!==null)Q.return=K,ae=Q;else for(;ae!==null;){K=ae;var V=K.sibling,ie=K.return;if(Dc(K),K===I){ae=null;break}if(V!==null){V.return=ie,ae=V;break}ae=ie}}}var ue=c.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}ae=c}}if((c.subtreeFlags&2064)!==0&&f!==null)f.return=c,ae=f;else e:for(;ae!==null;){if(c=ae,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:fo(9,c,c.return)}var z=c.sibling;if(z!==null){z.return=c.return,ae=z;break e}ae=c.return}}var P=e.current;for(ae=P;ae!==null;){f=ae;var M=f.child;if((f.subtreeFlags&2064)!==0&&M!==null)M.return=f,ae=M;else e:for(f=P;ae!==null;){if(y=ae,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:Ca(9,y)}}catch(me){nt(y,y.return,me)}if(y===f){ae=null;break e}var J=y.sibling;if(J!==null){J.return=y.return,ae=J;break e}ae=y.return}}if(Be=u,Mr(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Yr,e)}catch{}a=!0}return a}finally{De=i,ln.transition=n}}return!1}function ed(e,n,i){n=cs(i,n),n=xc(e,n,1),e=Or(e,n,1),n=Tt(),e!==null&&(Zt(e,1,n),Dt(e,n))}function nt(e,n,i){if(e.tag===3)ed(e,e,i);else for(;n!==null;){if(n.tag===3){ed(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Rr===null||!Rr.has(a))){e=cs(i,e),e=_c(n,e,1),n=Or(n,e,1),e=Tt(),n!==null&&(Zt(n,1,e),Dt(n,e));break}}n=n.return}}function uh(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=Tt(),e.pingedLanes|=e.suspendedLanes&i,mt===e&&(xt&i)===i&&(dt===4||dt===3&&(xt&130023424)===xt&&500>Ye()-ru?_i(e,0):nu|=i),Dt(e,n)}function td(e,n){n===0&&((e.mode&1)===0?n=1:(n=hr,hr<<=1,(hr&130023424)===0&&(hr=4194304)));var i=Tt();e=er(e,n),e!==null&&(Zt(e,n,i),Dt(e,i))}function ch(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),td(e,i)}function dh(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(h(314))}a!==null&&a.delete(n),td(e,i)}var nd;nd=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||At.current)It=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return It=!1,Xd(e,n,i);It=(e.flags&131072)!==0}else It=!1,Qe&&(n.flags&1048576)!==0&&Ou(n,ca,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;Pa(e,n),e=n.pendingProps;var u=ns(n,Nt.current);ls(n,i),u=Al(null,n,a,e,u,i);var c=Ol();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Ot(a)?(c=!0,aa(n)):c=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Cl(n),u.updater=Na,n.stateNode=u,u._reactInternals=n,Zl(n,a,e,i),n=Gl(null,n,a,!0,c,i)):(n.tag=0,Qe&&c&&vl(n),Lt(null,n,u,i),n=n.child),n;case 16:a=n.elementType;e:{switch(Pa(e,n),e=n.pendingProps,u=a._init,a=u(a._payload),n.type=a,u=n.tag=fh(a),e=xn(a,e),u){case 0:n=Hl(null,n,a,e,i);break e;case 1:n=kc(null,n,a,e,i);break e;case 11:n=Nc(null,n,a,e,i);break e;case 14:n=jc(null,n,a,xn(a.type,e),i);break e}throw Error(h(306,a,""))}return n;case 0:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:xn(a,u),Hl(e,n,a,u,i);case 1:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:xn(a,u),kc(e,n,a,u,i);case 3:e:{if(Ec(n),e===null)throw Error(h(387));a=n.pendingProps,c=n.memoizedState,u=c.element,Hu(e,n),ga(n,a,null,i);var f=n.memoizedState;if(a=f.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){u=cs(Error(h(423)),n),n=Lc(e,n,a,i,u);break e}else if(a!==u){u=cs(Error(h(424)),n),n=Lc(e,n,a,i,u);break e}else for(Kt=Tn(n.stateNode.containerInfo.firstChild),qt=n,Qe=!0,vn=null,i=$u(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ss(),a===u){n=nr(e,n,i);break e}Lt(e,n,a,i)}n=n.child}return n;case 5:return Vu(n),e===null&&yl(n),a=n.type,u=n.pendingProps,c=e!==null?e.memoizedProps:null,f=u.children,Ee(a,u)?f=null:c!==null&&Ee(a,c)&&(n.flags|=32),Cc(e,n),Lt(e,n,f,i),n.child;case 6:return e===null&&yl(n),null;case 13:return Tc(e,n,i);case 4:return kl(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=os(n,null,a,i):Lt(e,n,a,i),n.child;case 11:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:xn(a,u),Nc(e,n,a,u,i);case 7:return Lt(e,n,n.pendingProps,i),n.child;case 8:return Lt(e,n,n.pendingProps.children,i),n.child;case 12:return Lt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,u=n.pendingProps,c=n.memoizedProps,f=u.value,Ve(fa,a._currentValue),a._currentValue=f,c!==null)if(Wt(c.value,f)){if(c.children===u.children&&!At.current){n=nr(e,n,i);break e}}else for(c=n.child,c!==null&&(c.return=n);c!==null;){var y=c.dependencies;if(y!==null){f=c.child;for(var N=y.firstContext;N!==null;){if(N.context===a){if(c.tag===1){N=tr(-1,i&-i),N.tag=2;var I=c.updateQueue;if(I!==null){I=I.shared;var K=I.pending;K===null?N.next=N:(N.next=K.next,K.next=N),I.pending=N}}c.lanes|=i,N=c.alternate,N!==null&&(N.lanes|=i),Pl(c.return,i,n),y.lanes|=i;break}N=N.next}}else if(c.tag===10)f=c.type===n.type?null:c.child;else if(c.tag===18){if(f=c.return,f===null)throw Error(h(341));f.lanes|=i,y=f.alternate,y!==null&&(y.lanes|=i),Pl(f,i,n),f=c.sibling}else f=c.child;if(f!==null)f.return=c;else for(f=c;f!==null;){if(f===n){f=null;break}if(c=f.sibling,c!==null){c.return=f.return,f=c;break}f=f.return}c=f}Lt(e,n,u.children,i),n=n.child}return n;case 9:return u=n.type,a=n.pendingProps.children,ls(n,i),u=on(u),a=a(u),n.flags|=1,Lt(e,n,a,i),n.child;case 14:return a=n.type,u=xn(a,n.pendingProps),u=xn(a.type,u),jc(e,n,a,u,i);case 15:return Pc(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,u=n.pendingProps,u=n.elementType===a?u:xn(a,u),Pa(e,n),n.tag=1,Ot(a)?(e=!0,aa(n)):e=!1,ls(n,i),gc(n,a,u),Zl(n,a,u,i),Gl(null,n,a,!0,e,i);case 19:return Mc(e,n,i);case 22:return Sc(e,n,i)}throw Error(h(156,n.tag))};function rd(e,n){return Oo(e,n)}function hh(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,i,a){return new hh(e,n,i,a)}function du(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fh(e){if(typeof e=="function")return du(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ee)return 11;if(e===Ne)return 14}return 2}function Zr(e,n){var i=e.alternate;return i===null?(i=un(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ia(e,n,i,a,u,c){var f=2;if(a=e,typeof e=="function")du(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case ze:return wi(i.children,u,c,n);case Ie:f=8,u|=8;break;case Ze:return e=un(12,i,n,u|2),e.elementType=Ze,e.lanes=c,e;case F:return e=un(13,i,n,u),e.elementType=F,e.lanes=c,e;case ve:return e=un(19,i,n,u),e.elementType=ve,e.lanes=c,e;case Le:return Ra(i,u,c,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v:f=10;break e;case _:f=9;break e;case ee:f=11;break e;case Ne:f=14;break e;case Se:f=16,a=null;break e}throw Error(h(130,e==null?e:typeof e,""))}return n=un(f,i,n,u),n.elementType=e,n.type=a,n.lanes=c,n}function wi(e,n,i,a){return e=un(7,e,a,n),e.lanes=i,e}function Ra(e,n,i,a){return e=un(22,e,a,n),e.elementType=Le,e.lanes=i,e.stateNode={isHidden:!1},e}function hu(e,n,i){return e=un(6,e,null,n),e.lanes=i,e}function fu(e,n,i){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function mh(e,n,i,a,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fr(0),this.expirationTimes=fr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function mu(e,n,i,a,u,c,f,y,N){return e=new mh(e,n,i,y,N),n===1?(n=1,c===!0&&(n|=8)):n=0,c=un(3,null,null,n),e.current=c,c.stateNode=e,c.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(c),e}function ph(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function id(e){if(!e)return zr;e=e._reactInternals;e:{if(Nn(e)!==e||e.tag!==1)throw Error(h(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Ot(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(h(171))}if(e.tag===1){var i=e.type;if(Ot(i))return zu(e,i,n)}return n}function sd(e,n,i,a,u,c,f,y,N){return e=mu(i,a,!0,e,u,c,f,y,N),e.context=id(null),i=e.current,a=Tt(),u=Br(i),c=tr(a,u),c.callback=n??null,Or(i,c,u),e.current.lanes=u,Zt(e,u,a),Dt(e,a),e}function Da(e,n,i,a){var u=n.current,c=Tt(),f=Br(u);return i=id(i),n.context===null?n.context=i:n.pendingContext=i,n=tr(c,f),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Or(u,n,f),e!==null&&(wn(e,u,f,c),pa(e,u,f)),f}function Ba(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function od(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function pu(e,n){od(e,n),(e=e.alternate)&&od(e,n)}function gh(){return null}var ad=typeof reportError=="function"?reportError:function(e){console.error(e)};function gu(e){this._internalRoot=e}Fa.prototype.render=gu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(h(409));Da(e,n,null,null)},Fa.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xi(function(){Da(null,e,null,null)}),n[$e]=null}};function Fa(e){this._internalRoot=e}Fa.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ii();e={blockedOn:null,target:e,priority:n};for(var i=0;i<lt.length&&n!==0&&n<lt[i].priority;i++);lt.splice(i,0,e),i===0&&Ri(e)}};function vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Za(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ld(){}function vh(e,n,i,a,u){if(u){if(typeof a=="function"){var c=a;a=function(){var I=Ba(f);c.call(I)}}var f=sd(n,a,e,0,null,!1,!1,"",ld);return e._reactRootContainer=f,e[$e]=f.current,Cr(e.nodeType===8?e.parentNode:e),xi(),f}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var y=a;a=function(){var I=Ba(N);y.call(I)}}var N=mu(e,0,!1,null,null,!1,!1,"",ld);return e._reactRootContainer=N,e[$e]=N.current,Cr(e.nodeType===8?e.parentNode:e),xi(function(){Da(n,N,i,a)}),N}function $a(e,n,i,a,u){var c=i._reactRootContainer;if(c){var f=c;if(typeof u=="function"){var y=u;u=function(){var N=Ba(f);y.call(N)}}Da(n,f,e,u)}else f=vh(i,n,e,u,a);return Ba(f)}Ai=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Ce(n.pendingLanes);i!==0&&(hn(n,i|1),Dt(n,Ye()),(Be&6)===0&&(fs=Ye()+500,Mr()))}break;case 13:xi(function(){var a=er(e,1);if(a!==null){var u=Tt();wn(a,e,1,u)}}),pu(e,1)}},Bn=function(e){if(e.tag===13){var n=er(e,134217728);if(n!==null){var i=Tt();wn(n,e,134217728,i)}pu(e,134217728)}},Oi=function(e){if(e.tag===13){var n=Br(e),i=er(e,n);if(i!==null){var a=Tt();wn(i,e,n,a)}pu(e,n)}},Ii=function(){return De},Jr=function(e,n){var i=De;try{return De=e,n()}finally{De=i}},Ci=function(e,n,i){switch(n){case"input":if(Gr(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var u=es(a);if(!u)throw Error(h(90));sr(a),Gr(a,u)}}}break;case"textarea":bo(e,i);break;case"select":n=i.value,n!=null&&bn(e,!!i.multiple,n,!1)}},Eo=lu,Lo=xi;var xh={usingClientEntryPoint:!1,Events:[Kn,Qn,es,Co,ko,lu]},vo={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_h={bundleType:vo.bundleType,version:vo.version,rendererPackageName:vo.rendererPackageName,rendererConfig:vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:be.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Mo(e),e===null?null:e.stateNode},findFiberByHostInstance:vo.findFiberByHostInstance||gh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{Yr=Ua.inject(_h),Ft=Ua}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xh,Bt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vu(n))throw Error(h(200));return ph(e,n,null,i)},Bt.createRoot=function(e,n){if(!vu(e))throw Error(h(299));var i=!1,a="",u=ad;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=mu(e,1,!1,null,null,i,!1,a,u),e[$e]=n.current,Cr(e.nodeType===8?e.parentNode:e),new gu(n)},Bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(h(188)):(e=Object.keys(e).join(","),Error(h(268,e)));return e=Mo(n),e=e===null?null:e.stateNode,e},Bt.flushSync=function(e){return xi(e)},Bt.hydrate=function(e,n,i){if(!Za(n))throw Error(h(200));return $a(null,e,n,!0,i)},Bt.hydrateRoot=function(e,n,i){if(!vu(e))throw Error(h(405));var a=i!=null&&i.hydratedSources||null,u=!1,c="",f=ad;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),n=sd(n,null,e,1,i??null,u,!1,c,f),e[$e]=n.current,Cr(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,u]:n.mutableSourceEagerHydrationData.push(i,u);return new Fa(n)},Bt.render=function(e,n,i){if(!Za(n))throw Error(h(200));return $a(null,e,n,!1,i)},Bt.unmountComponentAtNode=function(e){if(!Za(e))throw Error(h(40));return e._reactRootContainer?(xi(function(){$a(null,null,e,!1,function(){e._reactRootContainer=null,e[$e]=null})}),!0):!1},Bt.unstable_batchedUpdates=lu,Bt.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!Za(i))throw Error(h(200));if(e==null||e._reactInternals===void 0)throw Error(h(38));return $a(e,n,i,!1,a)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var gd;function kd(){if(gd)return yu.exports;gd=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(g){console.error(g)}}return m(),yu.exports=Eh(),yu.exports}var vd;function Lh(){if(vd)return Ha;vd=1;var m=kd();return Ha.createRoot=m.createRoot,Ha.hydrateRoot=m.hydrateRoot,Ha}var Th=Lh();kd();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yo(){return yo=Object.assign?Object.assign.bind():function(m){for(var g=1;g<arguments.length;g++){var h=arguments[g];for(var w in h)Object.prototype.hasOwnProperty.call(h,w)&&(m[w]=h[w])}return m},yo.apply(this,arguments)}var Hr;(function(m){m.Pop="POP",m.Push="PUSH",m.Replace="REPLACE"})(Hr||(Hr={}));const xd="popstate";function zh(m){m===void 0&&(m={});function g(w,x){let{pathname:S,search:E,hash:Z}=w.location;return ju("",{pathname:S,search:E,hash:Z},x.state&&x.state.usr||null,x.state&&x.state.key||"default")}function h(w,x){return typeof x=="string"?x:Ld(x)}return Ah(g,h,null,m)}function ht(m,g){if(m===!1||m===null||typeof m>"u")throw new Error(g)}function Ed(m,g){if(!m){typeof console<"u"&&console.warn(g);try{throw new Error(g)}catch{}}}function Mh(){return Math.random().toString(36).substr(2,8)}function _d(m,g){return{usr:m.state,key:m.key,idx:g}}function ju(m,g,h,w){return h===void 0&&(h=null),yo({pathname:typeof m=="string"?m:m.pathname,search:"",hash:""},typeof g=="string"?ps(g):g,{state:h,key:g&&g.key||w||Mh()})}function Ld(m){let{pathname:g="/",search:h="",hash:w=""}=m;return h&&h!=="?"&&(g+=h.charAt(0)==="?"?h:"?"+h),w&&w!=="#"&&(g+=w.charAt(0)==="#"?w:"#"+w),g}function ps(m){let g={};if(m){let h=m.indexOf("#");h>=0&&(g.hash=m.substr(h),m=m.substr(0,h));let w=m.indexOf("?");w>=0&&(g.search=m.substr(w),m=m.substr(0,w)),m&&(g.pathname=m)}return g}function Ah(m,g,h,w){w===void 0&&(w={});let{window:x=document.defaultView,v5Compat:S=!1}=w,E=x.history,Z=Hr.Pop,C=null,X=G();X==null&&(X=0,E.replaceState(yo({},E.state,{idx:X}),""));function G(){return(E.state||{idx:null}).idx}function A(){Z=Hr.Pop;let B=G(),te=B==null?null:B-X;X=B,C&&C({action:Z,location:Y.location,delta:te})}function H(B,te){Z=Hr.Push;let se=ju(Y.location,B,te);X=G()+1;let fe=_d(se,X),be=Y.createHref(se);try{E.pushState(fe,"",be)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;x.location.assign(be)}S&&C&&C({action:Z,location:Y.location,delta:1})}function q(B,te){Z=Hr.Replace;let se=ju(Y.location,B,te);X=G();let fe=_d(se,X),be=Y.createHref(se);E.replaceState(fe,"",be),S&&C&&C({action:Z,location:Y.location,delta:0})}function W(B){let te=x.location.origin!=="null"?x.location.origin:x.location.href,se=typeof B=="string"?B:Ld(B);return se=se.replace(/ $/,"%20"),ht(te,"No window.location.(origin|href) available to create URL for href: "+se),new URL(se,te)}let Y={get action(){return Z},get location(){return m(x,E)},listen(B){if(C)throw new Error("A history only accepts one active listener");return x.addEventListener(xd,A),C=B,()=>{x.removeEventListener(xd,A),C=null}},createHref(B){return g(x,B)},createURL:W,encodeLocation(B){let te=W(B);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:H,replace:q,go(B){return E.go(B)}};return Y}var yd;(function(m){m.data="data",m.deferred="deferred",m.redirect="redirect",m.error="error"})(yd||(yd={}));function Oh(m,g,h){return h===void 0&&(h="/"),Ih(m,g,h)}function Ih(m,g,h,w){let x=typeof g=="string"?ps(g):g,S=Md(x.pathname||"/",h);if(S==null)return null;let E=Td(m);Rh(E);let Z=null;for(let C=0;Z==null&&C<E.length;++C){let X=Kh(S);Z=Wh(E[C],X)}return Z}function Td(m,g,h,w){g===void 0&&(g=[]),h===void 0&&(h=[]),w===void 0&&(w="");let x=(S,E,Z)=>{let C={relativePath:Z===void 0?S.path||"":Z,caseSensitive:S.caseSensitive===!0,childrenIndex:E,route:S};C.relativePath.startsWith("/")&&(ht(C.relativePath.startsWith(w),'Absolute route path "'+C.relativePath+'" nested under path '+('"'+w+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),C.relativePath=C.relativePath.slice(w.length));let X=bi([w,C.relativePath]),G=h.concat(C);S.children&&S.children.length>0&&(ht(S.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+X+'".')),Td(S.children,g,G,X)),!(S.path==null&&!S.index)&&g.push({path:X,score:Hh(X,S.index),routesMeta:G})};return m.forEach((S,E)=>{var Z;if(S.path===""||!((Z=S.path)!=null&&Z.includes("?")))x(S,E);else for(let C of zd(S.path))x(S,E,C)}),g}function zd(m){let g=m.split("/");if(g.length===0)return[];let[h,...w]=g,x=h.endsWith("?"),S=h.replace(/\?$/,"");if(w.length===0)return x?[S,""]:[S];let E=zd(w.join("/")),Z=[];return Z.push(...E.map(C=>C===""?S:[S,C].join("/"))),x&&Z.push(...E),Z.map(C=>m.startsWith("/")&&C===""?"/":C)}function Rh(m){m.sort((g,h)=>g.score!==h.score?h.score-g.score:Gh(g.routesMeta.map(w=>w.childrenIndex),h.routesMeta.map(w=>w.childrenIndex)))}const Dh=/^:[\w-]+$/,Bh=3,Fh=2,Zh=1,$h=10,Uh=-2,wd=m=>m==="*";function Hh(m,g){let h=m.split("/"),w=h.length;return h.some(wd)&&(w+=Uh),g&&(w+=Fh),h.filter(x=>!wd(x)).reduce((x,S)=>x+(Dh.test(S)?Bh:S===""?Zh:$h),w)}function Gh(m,g){return m.length===g.length&&m.slice(0,-1).every((w,x)=>w===g[x])?m[m.length-1]-g[g.length-1]:0}function Wh(m,g,h){let{routesMeta:w}=m,x={},S="/",E=[];for(let Z=0;Z<w.length;++Z){let C=w[Z],X=Z===w.length-1,G=S==="/"?g:g.slice(S.length)||"/",A=Vh({path:C.relativePath,caseSensitive:C.caseSensitive,end:X},G),H=C.route;if(!A)return null;Object.assign(x,A.params),E.push({params:x,pathname:bi([S,A.pathname]),pathnameBase:tf(bi([S,A.pathnameBase])),route:H}),A.pathnameBase!=="/"&&(S=bi([S,A.pathnameBase]))}return E}function Vh(m,g){typeof m=="string"&&(m={path:m,caseSensitive:!1,end:!0});let[h,w]=qh(m.path,m.caseSensitive,m.end),x=g.match(h);if(!x)return null;let S=x[0],E=S.replace(/(.)\/+$/,"$1"),Z=x.slice(1);return{params:w.reduce((X,G,A)=>{let{paramName:H,isOptional:q}=G;if(H==="*"){let Y=Z[A]||"";E=S.slice(0,S.length-Y.length).replace(/(.)\/+$/,"$1")}const W=Z[A];return q&&!W?X[H]=void 0:X[H]=(W||"").replace(/%2F/g,"/"),X},{}),pathname:S,pathnameBase:E,pattern:m}}function qh(m,g,h){g===void 0&&(g=!1),h===void 0&&(h=!0),Ed(m==="*"||!m.endsWith("*")||m.endsWith("/*"),'Route path "'+m+'" will be treated as if it were '+('"'+m.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+m.replace(/\*$/,"/*")+'".'));let w=[],x="^"+m.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(E,Z,C)=>(w.push({paramName:Z,isOptional:C!=null}),C?"/?([^\\/]+)?":"/([^\\/]+)"));return m.endsWith("*")?(w.push({paramName:"*"}),x+=m==="*"||m==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?x+="\\/*$":m!==""&&m!=="/"&&(x+="(?:(?=\\/|$))"),[new RegExp(x,g?void 0:"i"),w]}function Kh(m){try{return m.split("/").map(g=>decodeURIComponent(g).replace(/\//g,"%2F")).join("/")}catch(g){return Ed(!1,'The URL path "'+m+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+g+").")),m}}function Md(m,g){if(g==="/")return m;if(!m.toLowerCase().startsWith(g.toLowerCase()))return null;let h=g.endsWith("/")?g.length-1:g.length,w=m.charAt(h);return w&&w!=="/"?null:m.slice(h)||"/"}function Qh(m,g){g===void 0&&(g="/");let{pathname:h,search:w="",hash:x=""}=typeof m=="string"?ps(m):m;return{pathname:h?h.startsWith("/")?h:Yh(h,g):g,search:nf(w),hash:rf(x)}}function Yh(m,g){let h=g.replace(/\/+$/,"").split("/");return m.split("/").forEach(x=>{x===".."?h.length>1&&h.pop():x!=="."&&h.push(x)}),h.length>1?h.join("/"):"/"}function Nu(m,g,h,w){return"Cannot include a '"+m+"' character in a manually specified "+("`to."+g+"` field ["+JSON.stringify(w)+"].  Please separate it out to the ")+("`to."+h+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xh(m){return m.filter((g,h)=>h===0||g.route.path&&g.route.path.length>0)}function Jh(m,g){let h=Xh(m);return g?h.map((w,x)=>x===h.length-1?w.pathname:w.pathnameBase):h.map(w=>w.pathnameBase)}function ef(m,g,h,w){w===void 0&&(w=!1);let x;typeof m=="string"?x=ps(m):(x=yo({},m),ht(!x.pathname||!x.pathname.includes("?"),Nu("?","pathname","search",x)),ht(!x.pathname||!x.pathname.includes("#"),Nu("#","pathname","hash",x)),ht(!x.search||!x.search.includes("#"),Nu("#","search","hash",x)));let S=m===""||x.pathname==="",E=S?"/":x.pathname,Z;if(E==null)Z=h;else{let A=g.length-1;if(!w&&E.startsWith("..")){let H=E.split("/");for(;H[0]==="..";)H.shift(),A-=1;x.pathname=H.join("/")}Z=A>=0?g[A]:"/"}let C=Qh(x,Z),X=E&&E!=="/"&&E.endsWith("/"),G=(S||E===".")&&h.endsWith("/");return!C.pathname.endsWith("/")&&(X||G)&&(C.pathname+="/"),C}const bi=m=>m.join("/").replace(/\/\/+/g,"/"),tf=m=>m.replace(/\/+$/,"").replace(/^\/*/,"/"),nf=m=>!m||m==="?"?"":m.startsWith("?")?m:"?"+m,rf=m=>!m||m==="#"?"":m.startsWith("#")?m:"#"+m;function sf(m){return m!=null&&typeof m.status=="number"&&typeof m.statusText=="string"&&typeof m.internal=="boolean"&&"data"in m}const Ad=["post","put","patch","delete"];new Set(Ad);const of=["get",...Ad];new Set(of);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(m){for(var g=1;g<arguments.length;g++){var h=arguments[g];for(var w in h)Object.prototype.hasOwnProperty.call(h,w)&&(m[w]=h[w])}return m},wo.apply(this,arguments)}const ku=k.createContext(null),af=k.createContext(null),Ga=k.createContext(null),Wa=k.createContext(null),gs=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Od=k.createContext(null);function Va(){return k.useContext(Wa)!=null}function Eu(){return Va()||ht(!1),k.useContext(Wa).location}function Id(m){k.useContext(Ga).static||k.useLayoutEffect(m)}function at(){let{isDataRoute:m}=k.useContext(gs);return m?yf():lf()}function lf(){Va()||ht(!1);let m=k.useContext(ku),{basename:g,future:h,navigator:w}=k.useContext(Ga),{matches:x}=k.useContext(gs),{pathname:S}=Eu(),E=JSON.stringify(Jh(x,h.v7_relativeSplatPath)),Z=k.useRef(!1);return Id(()=>{Z.current=!0}),k.useCallback(function(X,G){if(G===void 0&&(G={}),!Z.current)return;if(typeof X=="number"){w.go(X);return}let A=ef(X,JSON.parse(E),S,G.relative==="path");m==null&&g!=="/"&&(A.pathname=A.pathname==="/"?g:bi([g,A.pathname])),(G.replace?w.replace:w.push)(A,G.state,G)},[g,w,E,S,m])}function uf(m,g){return cf(m,g)}function cf(m,g,h,w){Va()||ht(!1);let{navigator:x}=k.useContext(Ga),{matches:S}=k.useContext(gs),E=S[S.length-1],Z=E?E.params:{};E&&E.pathname;let C=E?E.pathnameBase:"/";E&&E.route;let X=Eu(),G;if(g){var A;let B=typeof g=="string"?ps(g):g;C==="/"||(A=B.pathname)!=null&&A.startsWith(C)||ht(!1),G=B}else G=X;let H=G.pathname||"/",q=H;if(C!=="/"){let B=C.replace(/^\//,"").split("/");q="/"+H.replace(/^\//,"").split("/").slice(B.length).join("/")}let W=Oh(m,{pathname:q}),Y=pf(W&&W.map(B=>Object.assign({},B,{params:Object.assign({},Z,B.params),pathname:bi([C,x.encodeLocation?x.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?C:bi([C,x.encodeLocation?x.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),S,h,w);return g&&Y?k.createElement(Wa.Provider,{value:{location:wo({pathname:"/",search:"",hash:"",state:null,key:"default"},G),navigationType:Hr.Pop}},Y):Y}function df(){let m=_f(),g=sf(m)?m.status+" "+m.statusText:m instanceof Error?m.message:JSON.stringify(m),h=m instanceof Error?m.stack:null,x={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},g),h?k.createElement("pre",{style:x},h):null,null)}const hf=k.createElement(df,null);class ff extends k.Component{constructor(g){super(g),this.state={location:g.location,revalidation:g.revalidation,error:g.error}}static getDerivedStateFromError(g){return{error:g}}static getDerivedStateFromProps(g,h){return h.location!==g.location||h.revalidation!=="idle"&&g.revalidation==="idle"?{error:g.error,location:g.location,revalidation:g.revalidation}:{error:g.error!==void 0?g.error:h.error,location:h.location,revalidation:g.revalidation||h.revalidation}}componentDidCatch(g,h){console.error("React Router caught the following error during render",g,h)}render(){return this.state.error!==void 0?k.createElement(gs.Provider,{value:this.props.routeContext},k.createElement(Od.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mf(m){let{routeContext:g,match:h,children:w}=m,x=k.useContext(ku);return x&&x.static&&x.staticContext&&(h.route.errorElement||h.route.ErrorBoundary)&&(x.staticContext._deepestRenderedBoundaryId=h.route.id),k.createElement(gs.Provider,{value:g},w)}function pf(m,g,h,w){var x;if(g===void 0&&(g=[]),h===void 0&&(h=null),w===void 0&&(w=null),m==null){var S;if(!h)return null;if(h.errors)m=h.matches;else if((S=w)!=null&&S.v7_partialHydration&&g.length===0&&!h.initialized&&h.matches.length>0)m=h.matches;else return null}let E=m,Z=(x=h)==null?void 0:x.errors;if(Z!=null){let G=E.findIndex(A=>A.route.id&&(Z==null?void 0:Z[A.route.id])!==void 0);G>=0||ht(!1),E=E.slice(0,Math.min(E.length,G+1))}let C=!1,X=-1;if(h&&w&&w.v7_partialHydration)for(let G=0;G<E.length;G++){let A=E[G];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(X=G),A.route.id){let{loaderData:H,errors:q}=h,W=A.route.loader&&H[A.route.id]===void 0&&(!q||q[A.route.id]===void 0);if(A.route.lazy||W){C=!0,X>=0?E=E.slice(0,X+1):E=[E[0]];break}}}return E.reduceRight((G,A,H)=>{let q,W=!1,Y=null,B=null;h&&(q=Z&&A.route.id?Z[A.route.id]:void 0,Y=A.route.errorElement||hf,C&&(X<0&&H===0?(wf("route-fallback"),W=!0,B=null):X===H&&(W=!0,B=A.route.hydrateFallbackElement||null)));let te=g.concat(E.slice(0,H+1)),se=()=>{let fe;return q?fe=Y:W?fe=B:A.route.Component?fe=k.createElement(A.route.Component,null):A.route.element?fe=A.route.element:fe=G,k.createElement(mf,{match:A,routeContext:{outlet:G,matches:te,isDataRoute:h!=null},children:fe})};return h&&(A.route.ErrorBoundary||A.route.errorElement||H===0)?k.createElement(ff,{location:h.location,revalidation:h.revalidation,component:Y,error:q,children:se(),routeContext:{outlet:null,matches:te,isDataRoute:!0}}):se()},null)}var Rd=(function(m){return m.UseBlocker="useBlocker",m.UseRevalidator="useRevalidator",m.UseNavigateStable="useNavigate",m})(Rd||{}),Dd=(function(m){return m.UseBlocker="useBlocker",m.UseLoaderData="useLoaderData",m.UseActionData="useActionData",m.UseRouteError="useRouteError",m.UseNavigation="useNavigation",m.UseRouteLoaderData="useRouteLoaderData",m.UseMatches="useMatches",m.UseRevalidator="useRevalidator",m.UseNavigateStable="useNavigate",m.UseRouteId="useRouteId",m})(Dd||{});function gf(m){let g=k.useContext(ku);return g||ht(!1),g}function vf(m){let g=k.useContext(af);return g||ht(!1),g}function xf(m){let g=k.useContext(gs);return g||ht(!1),g}function Bd(m){let g=xf(),h=g.matches[g.matches.length-1];return h.route.id||ht(!1),h.route.id}function _f(){var m;let g=k.useContext(Od),h=vf(),w=Bd();return g!==void 0?g:(m=h.errors)==null?void 0:m[w]}function yf(){let{router:m}=gf(Rd.UseNavigateStable),g=Bd(Dd.UseNavigateStable),h=k.useRef(!1);return Id(()=>{h.current=!0}),k.useCallback(function(x,S){S===void 0&&(S={}),h.current&&(typeof x=="number"?m.navigate(x):m.navigate(x,wo({fromRouteId:g},S)))},[m,g])}const bd={};function wf(m,g,h){bd[m]||(bd[m]=!0)}function bf(m,g){m==null||m.v7_startTransition,m==null||m.v7_relativeSplatPath}function ot(m){ht(!1)}function Nf(m){let{basename:g="/",children:h=null,location:w,navigationType:x=Hr.Pop,navigator:S,static:E=!1,future:Z}=m;Va()&&ht(!1);let C=g.replace(/^\/*/,"/"),X=k.useMemo(()=>({basename:C,navigator:S,static:E,future:wo({v7_relativeSplatPath:!1},Z)}),[C,Z,S,E]);typeof w=="string"&&(w=ps(w));let{pathname:G="/",search:A="",hash:H="",state:q=null,key:W="default"}=w,Y=k.useMemo(()=>{let B=Md(G,C);return B==null?null:{location:{pathname:B,search:A,hash:H,state:q,key:W},navigationType:x}},[C,G,A,H,q,W,x]);return Y==null?null:k.createElement(Ga.Provider,{value:X},k.createElement(Wa.Provider,{children:h,value:Y}))}function jf(m){let{children:g,location:h}=m;return uf(Pu(g),h)}new Promise(()=>{});function Pu(m,g){g===void 0&&(g=[]);let h=[];return k.Children.forEach(m,(w,x)=>{if(!k.isValidElement(w))return;let S=[...g,x];if(w.type===k.Fragment){h.push.apply(h,Pu(w.props.children,S));return}w.type!==ot&&ht(!1),!w.props.index||!w.props.children||ht(!1);let E={id:w.props.id||S.join("-"),caseSensitive:w.props.caseSensitive,element:w.props.element,Component:w.props.Component,index:w.props.index,path:w.props.path,loader:w.props.loader,action:w.props.action,errorElement:w.props.errorElement,ErrorBoundary:w.props.ErrorBoundary,hasErrorBoundary:w.props.ErrorBoundary!=null||w.props.errorElement!=null,shouldRevalidate:w.props.shouldRevalidate,handle:w.props.handle,lazy:w.props.lazy};w.props.children&&(E.children=Pu(w.props.children,S)),h.push(E)}),h}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(m){return m===void 0&&(m=""),new URLSearchParams(typeof m=="string"||Array.isArray(m)||m instanceof URLSearchParams?m:Object.keys(m).reduce((g,h)=>{let w=m[h];return g.concat(Array.isArray(w)?w.map(x=>[h,x]):[[h,w]])},[]))}function Pf(m,g){let h=Su(m);return g&&g.forEach((w,x)=>{h.has(x)||g.getAll(x).forEach(S=>{h.append(x,S)})}),h}const Sf="6";try{window.__reactRouterVersion=Sf}catch{}const Cf="startTransition",Nd=Sh[Cf];function kf(m){let{basename:g,children:h,future:w,window:x}=m,S=k.useRef();S.current==null&&(S.current=zh({window:x,v5Compat:!0}));let E=S.current,[Z,C]=k.useState({action:E.action,location:E.location}),{v7_startTransition:X}=w||{},G=k.useCallback(A=>{X&&Nd?Nd(()=>C(A)):C(A)},[C,X]);return k.useLayoutEffect(()=>E.listen(G),[E,G]),k.useEffect(()=>bf(w),[w]),k.createElement(Nf,{basename:g,children:h,location:Z.location,navigationType:Z.action,navigator:E,future:w})}var jd;(function(m){m.UseScrollRestoration="useScrollRestoration",m.UseSubmit="useSubmit",m.UseSubmitFetcher="useSubmitFetcher",m.UseFetcher="useFetcher",m.useViewTransitionState="useViewTransitionState"})(jd||(jd={}));var Pd;(function(m){m.UseFetcher="useFetcher",m.UseFetchers="useFetchers",m.UseScrollRestoration="useScrollRestoration"})(Pd||(Pd={}));function Ef(m){let g=k.useRef(Su(m)),h=k.useRef(!1),w=Eu(),x=k.useMemo(()=>Pf(w.search,h.current?null:g.current),[w.search]),S=at(),E=k.useCallback((Z,C)=>{const X=Su(typeof Z=="function"?Z(x):Z);h.current=!0,S("?"+X,C)},[S,x]);return[x,E]}function Lf(){const m=at(),{user:g}=k.useContext(cn),[h,w]=k.useState(""),[x,S]=k.useState(""),[E,Z]=k.useState(null),[C,X]=k.useState([{id:1,chapa:"501",data:"2025-09-20",estado:"Resolvida",descricao:"Problema no freio dianteiro",reporter:"18002"},{id:2,chapa:"523",data:"2025-09-21",estado:"Pendente",descricao:"Luzes internas não acendem",reporter:"18003"},{id:3,chapa:"542",data:"2025-09-22",estado:"Em Resolução",descricao:"Porta traseira com dificuldade de fecho",reporter:"18001"}]),[G,A]=k.useState(""),[H,q]=k.useState("Todos"),[W,Y]=k.useState(""),B=re=>{if(re.preventDefault(),h&&x){const Te={id:C.length+1,chapa:h,data:new Date().toISOString().slice(0,10),estado:"Pendente",descricao:x,reporter:g.numeroFuncionario};X([...C,Te]),w(""),S(""),Z(null),alert("Avaria reportada com sucesso!")}else alert("Por favor, preencha a chapa e a descrição da avaria.")},te=re=>{Z(re.target.files[0])},se=(re,Te)=>{X(C.map(ze=>ze.id===re?{...ze,estado:Te}:ze))},fe=C.filter(re=>{const Te=G?re.chapa.includes(G):!0,ze=H==="Todos"?!0:re.estado===H,Ie=W?re.data===W:!0;return Te&&ze&&Ie}),be=g&&g.tipo==="Gestor";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Gestão de Avarias"})]}),s.jsxs("main",{className:"p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Reportar Nova Avaria"}),s.jsxs("form",{onSubmit:B,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"chapa",className:"block text-sm font-medium text-gray-700",children:"Chapa (Número do Veículo)"}),s.jsx("input",{type:"text",id:"chapa",value:h,onChange:re=>w(re.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ex: 501",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"descricao",className:"block text-sm font-medium text-gray-700",children:"Descrição da Avaria"}),s.jsx("textarea",{id:"descricao",value:x,onChange:re=>S(re.target.value),rows:"3",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Descreva o problema em detalhe...",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"foto",className:"block text-sm font-medium text-gray-700",children:"Anexar Foto (Opcional)"}),s.jsx("input",{type:"file",id:"foto",onChange:te,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),E&&s.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Ficheiro selecionado: ",E.name]})]}),s.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition-colors duration-200",children:"Reportar Avaria"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Histórico de Avarias"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filtroChapa",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Chapa"}),s.jsx("input",{type:"text",id:"filtroChapa",value:G,onChange:re=>A(re.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Ex: 501"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filtroEstado",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Estado"}),s.jsxs("select",{id:"filtroEstado",value:H,onChange:re=>q(re.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[s.jsx("option",{children:"Todos"}),s.jsx("option",{children:"Pendente"}),s.jsx("option",{children:"Em Resolução"}),s.jsx("option",{children:"Resolvida"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"filtroData",className:"block text-sm font-medium text-gray-700",children:"Filtrar por Data"}),s.jsx("input",{type:"date",id:"filtroData",value:W,onChange:re=>Y(re.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),fe.length===0?s.jsx("p",{className:"text-center text-gray-500",children:"Nenhuma avaria encontrada."}):s.jsx("div",{className:"space-y-4",children:fe.map(re=>s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("h3",{className:"text-md font-bold text-gray-900",children:["Chapa: ",re.chapa]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${re.estado==="Pendente"?"bg-red-100 text-red-800":re.estado==="Em Resolução"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:re.estado})]}),s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:re.descricao}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Reportado por: ",re.reporter," em ",re.data]}),be&&re.estado!=="Resolvida"&&s.jsxs("div",{className:"mt-3 flex space-x-2",children:[s.jsx("button",{onClick:()=>se(re.id,"Em Resolução"),className:"px-3 py-1 text-sm bg-yellow-500 hover:bg-yellow-600 text-white rounded-md",children:"Marcar como Em Resolução"}),s.jsx("button",{onClick:()=>se(re.id,"Resolvida"),className:"px-3 py-1 text-sm bg-green-500 hover:bg-green-600 text-white rounded-md",children:"Marcar como Resolvida"})]})]},re.id))})]})]})]})}function Tf(){const m=at(),{user:g}=k.useContext(cn),[h,w]=k.useState(null),[x,S]=k.useState(""),E=g&&g.tipo==="Gestor",Z=X=>{w(X.target.files[0]),S("")},C=()=>{h?(S(`Ficheiro '${h.name}' carregado com sucesso! (Simulação de OCR)`),w(null)):S("Por favor, selecione um ficheiro para carregar.")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Gestão de Horários"})]}),s.jsxs("main",{className:"p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Visualização de Horários"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Aqui pode consultar os horários disponíveis em formato TXT ou PDF."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("a",{href:"/horario_28E.pdf",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-100 hover:bg-blue-200 text-blue-700 font-semibold py-2 px-4 rounded-md text-center transition-colors duration-200",children:"Download Horário Carreira 28E (PDF)"}),s.jsx("a",{href:"/horario_15E.txt",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-100 hover:bg-blue-200 text-blue-700 font-semibold py-2 px-4 rounded-md text-center transition-colors duration-200",children:"Download Horário Carreira 15E (TXT)"})]})]}),E&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload de Novos Horários"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Gestor e Admin podem carregar ficheiros (PDF, imagem) para atualização de horários. O sistema usará OCR para converter imagens em texto pesquisável (simulado)."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"horario-file",className:"block text-sm font-medium text-gray-700",children:"Selecionar Ficheiro"}),s.jsx("input",{type:"file",id:"horario-file",onChange:Z,className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),s.jsx("button",{onClick:C,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-md shadow-sm transition-colors duration-200",children:"Carregar Horário"}),x&&s.jsx("p",{className:`mt-3 text-sm text-center 
                  {uploadMessage.includes('sucesso') ? 'text-green-600' : 'text-red-600'}`,children:x})]})]})]})]})}const zf=()=>{const{user:m}=k.useContext(cn),[g,h]=k.useState(null),[w,x]=k.useState(new Date),[S,E]=k.useState(!1),[Z,C]=k.useState({"2025-09-22":[{id:"0123",localInicio:"Martim Moniz",localFim:"Estrela",horaInicio:"13:37",horaFim:"21:07",viatura:"28E/01",afetacao:"Normal"},{id:"S1899P2",localInicio:"Estrela",localFim:"Sto. Amaro (Est.)",horaInicio:"21:07",horaFim:"26:05",viatura:"28E/01#/",afetacao:"Extra Normal - Tipo2"}],"2025-09-29":[{id:"E2466",localInicio:"Calvário",localFim:"Sto. Amaro (Est.)",horaInicio:"16:40",horaFim:"24:09",viatura:"15E/06",afetacao:"Normal"}]}),X=B=>{const te=B.getFullYear(),se=B.getMonth(),fe=new Date(te,se,1),re=new Date(te,se+1,0).getDate(),Te=fe.getDay(),ze=[];for(let Ie=0;Ie<Te;Ie++)ze.push(null);for(let Ie=1;Ie<=re;Ie++)ze.push(Ie);return ze},G=(B,te,se)=>`${B}-${String(te+1).padStart(2,"0")}-${String(se).padStart(2,"0")}`,A=B=>{if(B){const te=G(w.getFullYear(),w.getMonth(),B);h(te)}},H=B=>{x(te=>{const se=new Date(te);return se.setMonth(te.getMonth()+B),se})},q=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],W=["D","S","T","Q","Q","S","S"],Y=g?Z[g]||[]:[];return s.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>window.history.back(),className:"text-blue-600 text-2xl",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Calendário de Serviços"}),s.jsx("div",{className:"w-8"})]}),s.jsxs("div",{className:"bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>H(-1),className:"text-gray-600 hover:text-gray-800",children:"‹"}),s.jsxs("h2",{className:"text-lg font-semibold",children:[q[w.getMonth()]," de ",w.getFullYear()]}),s.jsx("button",{onClick:()=>H(1),className:"text-gray-600 hover:text-gray-800",children:"›"})]}),s.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:W.map((B,te)=>s.jsx("div",{className:"text-center text-gray-500 font-medium py-2",children:B},te))}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:X(w).map((B,te)=>{const se=B?G(w.getFullYear(),w.getMonth(),B):null,fe=se&&Z[se],be=se===g;return s.jsx("button",{onClick:()=>A(B),className:`
                      h-12 w-12 rounded-full flex items-center justify-center text-sm
                      ${B?"":"invisible"}
                      ${be?"bg-yellow-400 text-black font-bold":""}
                      ${fe&&!be?"bg-blue-100 text-blue-800":""}
                      ${!fe&&!be?"text-gray-600 hover:bg-gray-100":""}
                    `,disabled:!B,children:B},te)})})]})]}),g&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-800",children:["Serviços do dia ",g.split("-").reverse().join("/")]}),s.jsx("button",{onClick:()=>E(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:"➕ Adicionar Serviço"})]}),Y.length===0?s.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhum serviço registado para este dia"}):s.jsx("div",{className:"space-y-4",children:Y.map((B,te)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h3",{className:"font-bold text-blue-600",children:["Serviço: ",B.id]}),s.jsxs("span",{className:"text-sm text-gray-500",children:["Parte ",te+1]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Local Início → Final"}),s.jsxs("p",{className:"font-medium",children:[B.localInicio," → ",B.localFim]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Horário"}),s.jsxs("p",{className:"font-medium",children:[B.horaInicio," → ",B.horaFim]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Viatura"}),s.jsx("p",{className:"font-medium",children:B.viatura})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-600",children:"Afetação"}),s.jsx("p",{className:"font-medium",children:B.afetacao})]})]})]},te))})]}),S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Adicionar Serviço"}),s.jsx("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nº do Serviço"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Ex: 0123"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local Início"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Ex: Martim Moniz"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local Fim"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Ex: Estrela"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora Início"}),s.jsx("input",{type:"time",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora Fim"}),s.jsx("input",{type:"time",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Viatura"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Ex: 28E/01"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Afetação"}),s.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("option",{value:"Normal",children:"Normal"}),s.jsx("option",{value:"Extra Normal",children:"Extra Normal"}),s.jsx("option",{value:"Extra Normal - Tipo2",children:"Extra Normal - Tipo2"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Guardar"})]})]})]})}),(m==null?void 0:m.tipo)==="Gestor"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Gestão Extra (Gestor)"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-3",children:"Upload de Chapas"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[s.jsx("input",{type:"file",multiple:!0,accept:"image/*",className:"hidden",id:"upload-chapas"}),s.jsx("label",{htmlFor:"upload-chapas",className:"cursor-pointer text-blue-600 hover:text-blue-800",children:"📁 Clique para fazer upload das chapas"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Suporta múltiplas imagens (PNG, JPG)"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-md font-semibold text-gray-700 mb-3",children:"Gestão de Partes de Serviço"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nº Serviço (Auto-preenchimento)"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Digite o nº do serviço"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Carreira"}),s.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("option",{value:"",children:"Selecione..."}),s.jsx("option",{value:"12E",children:"12E"}),s.jsx("option",{value:"15E",children:"15E"}),s.jsx("option",{value:"18E",children:"18E"}),s.jsx("option",{value:"24E",children:"24E"}),s.jsx("option",{value:"25E",children:"25E"}),s.jsx("option",{value:"28E",children:"28E"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local Início"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local Fim"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Início"}),s.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),s.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg px-3 py-2"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chapa"}),s.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg px-3 py-2",placeholder:"Ex: 6"})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Afetação"}),s.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[s.jsx("option",{value:"",children:"Selecione..."}),s.jsx("option",{value:"Normal",children:"Normal"}),s.jsx("option",{value:"Extra Normal",children:"Extra Normal"}),s.jsx("option",{value:"Extra Normal - Tipo2",children:"Extra Normal - Tipo2"}),s.jsx("option",{value:"Entrada",children:"# Entrada"}),s.jsx("option",{value:"Saida",children:"# Saída"})]})]}),s.jsx("button",{className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700",children:"💾 Gravar Serviço"})]})]})]})]})})};var _o={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Mf=_o.exports,Sd;function Af(){return Sd||(Sd=1,(function(m,g){(function(h,w){w(g)})(Mf,(function(h){var w="1.9.4";function x(t){var r,o,l,d;for(o=1,l=arguments.length;o<l;o++){d=arguments[o];for(r in d)t[r]=d[r]}return t}var S=Object.create||(function(){function t(){}return function(r){return t.prototype=r,new t}})();function E(t,r){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var l=o.call(arguments,2);return function(){return t.apply(r,l.length?l.concat(o.call(arguments)):arguments)}}var Z=0;function C(t){return"_leaflet_id"in t||(t._leaflet_id=++Z),t._leaflet_id}function X(t,r,o){var l,d,p,b;return b=function(){l=!1,d&&(p.apply(o,d),d=!1)},p=function(){l?d=arguments:(t.apply(o,arguments),setTimeout(b,r),l=!0)},p}function G(t,r,o){var l=r[1],d=r[0],p=l-d;return t===l&&o?t:((t-d)%p+p)%p+d}function A(){return!1}function H(t,r){if(r===!1)return t;var o=Math.pow(10,r===void 0?6:r);return Math.round(t*o)/o}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return q(t).split(/\s+/)}function Y(t,r){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?S(t.options):{});for(var o in r)t.options[o]=r[o];return t.options}function B(t,r,o){var l=[];for(var d in t)l.push(encodeURIComponent(o?d.toUpperCase():d)+"="+encodeURIComponent(t[d]));return(!r||r.indexOf("?")===-1?"?":"&")+l.join("&")}var te=/\{ *([\w_ -]+) *\}/g;function se(t,r){return t.replace(te,function(o,l){var d=r[l];if(d===void 0)throw new Error("No value provided for variable "+o);return typeof d=="function"&&(d=d(r)),d})}var fe=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function be(t,r){for(var o=0;o<t.length;o++)if(t[o]===r)return o;return-1}var re="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Te(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ze=0;function Ie(t){var r=+new Date,o=Math.max(0,16-(r-ze));return ze=r+o,window.setTimeout(t,o)}var Ze=window.requestAnimationFrame||Te("RequestAnimationFrame")||Ie,v=window.cancelAnimationFrame||Te("CancelAnimationFrame")||Te("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function _(t,r,o){if(o&&Ze===Ie)t.call(r);else return Ze.call(window,E(t,r))}function ee(t){t&&v.call(window,t)}var F={__proto__:null,extend:x,create:S,bind:E,get lastId(){return Z},stamp:C,throttle:X,wrapNum:G,falseFn:A,formatNum:H,trim:q,splitWords:W,setOptions:Y,getParamString:B,template:se,isArray:fe,indexOf:be,emptyImageUrl:re,requestFn:Ze,cancelFn:v,requestAnimFrame:_,cancelAnimFrame:ee};function ve(){}ve.extend=function(t){var r=function(){Y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=r.__super__=this.prototype,l=S(o);l.constructor=r,r.prototype=l;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(r[d]=this[d]);return t.statics&&x(r,t.statics),t.includes&&(Ne(t.includes),x.apply(null,[l].concat(t.includes))),x(l,t),delete l.statics,delete l.includes,l.options&&(l.options=o.options?S(o.options):{},x(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,b=l._initHooks.length;p<b;p++)l._initHooks[p].call(this)}},r},ve.include=function(t){var r=this.prototype.options;return x(this.prototype,t),t.options&&(this.prototype.options=r,this.mergeOptions(t.options)),this},ve.mergeOptions=function(t){return x(this.prototype.options,t),this},ve.addInitHook=function(t){var r=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,r)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function Ne(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=fe(t)?t:[t];for(var r=0;r<t.length;r++)t[r]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Se={on:function(t,r,o){if(typeof t=="object")for(var l in t)this._on(l,t[l],r);else{t=W(t);for(var d=0,p=t.length;d<p;d++)this._on(t[d],r,o)}return this},off:function(t,r,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],r);else{t=W(t);for(var d=arguments.length===1,p=0,b=t.length;p<b;p++)d?this._off(t[p]):this._off(t[p],r,o)}return this},_on:function(t,r,o,l){if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}if(this._listens(t,r,o)===!1){o===this&&(o=void 0);var d={fn:r,ctx:o};l&&(d.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(d)}},_off:function(t,r,o){var l,d,p;if(this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(d=0,p=l.length;d<p;d++)l[d].fn=A;delete this._events[t];return}if(typeof r!="function"){console.warn("wrong listener type: "+typeof r);return}var b=this._listens(t,r,o);if(b!==!1){var T=l[b];this._firingCount&&(T.fn=A,this._events[t]=l=l.slice()),l.splice(b,1)}}},fire:function(t,r,o){if(!this.listens(t,o))return this;var l=x({},r,{type:t,target:this,sourceTarget:r&&r.sourceTarget||this});if(this._events){var d=this._events[t];if(d){this._firingCount=this._firingCount+1||1;for(var p=0,b=d.length;p<b;p++){var T=d[p],O=T.fn;T.once&&this.off(t,O,T.ctx),O.call(T.ctx||this,l)}this._firingCount--}}return o&&this._propagateEvent(l),this},listens:function(t,r,o,l){typeof t!="string"&&console.warn('"string" type argument expected');var d=r;typeof r!="function"&&(l=!!r,d=void 0,o=void 0);var p=this._events&&this._events[t];if(p&&p.length&&this._listens(t,d,o)!==!1)return!0;if(l){for(var b in this._eventParents)if(this._eventParents[b].listens(t,r,o,l))return!0}return!1},_listens:function(t,r,o){if(!this._events)return!1;var l=this._events[t]||[];if(!r)return!!l.length;o===this&&(o=void 0);for(var d=0,p=l.length;d<p;d++)if(l[d].fn===r&&l[d].ctx===o)return d;return!1},once:function(t,r,o){if(typeof t=="object")for(var l in t)this._on(l,t[l],r,!0);else{t=W(t);for(var d=0,p=t.length;d<p;d++)this._on(t[d],r,o,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[C(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[C(t)],this},_propagateEvent:function(t){for(var r in this._eventParents)this._eventParents[r].fire(t.type,x({layer:t.target,propagatedFrom:t.target},t),!0)}};Se.addEventListener=Se.on,Se.removeEventListener=Se.clearAllEventListeners=Se.off,Se.addOneTimeEventListener=Se.once,Se.fireEvent=Se.fire,Se.hasEventListeners=Se.listens;var Le=ve.extend(Se);function D(t,r,o){this.x=o?Math.round(t):t,this.y=o?Math.round(r):r}var le=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(t){return this.clone()._add(R(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(R(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new D(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new D(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=le(this.x),this.y=le(this.y),this},distanceTo:function(t){t=R(t);var r=t.x-this.x,o=t.y-this.y;return Math.sqrt(r*r+o*o)},equals:function(t){return t=R(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=R(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+H(this.x)+", "+H(this.y)+")"}};function R(t,r,o){return t instanceof D?t:fe(t)?new D(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new D(t.x,t.y):new D(t,r,o)}function j(t,r){if(t)for(var o=r?[t,r]:t,l=0,d=o.length;l<d;l++)this.extend(o[l])}j.prototype={extend:function(t){var r,o;if(!t)return this;if(t instanceof D||typeof t[0]=="number"||"x"in t)r=o=R(t);else if(t=$(t),r=t.min,o=t.max,!r||!o)return this;return!this.min&&!this.max?(this.min=r.clone(),this.max=o.clone()):(this.min.x=Math.min(r.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(r.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(t){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var r,o;return typeof t[0]=="number"||t instanceof D?t=R(t):t=$(t),t instanceof j?(r=t.min,o=t.max):r=o=t,r.x>=this.min.x&&o.x<=this.max.x&&r.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=$(t);var r=this.min,o=this.max,l=t.min,d=t.max,p=d.x>=r.x&&l.x<=o.x,b=d.y>=r.y&&l.y<=o.y;return p&&b},overlaps:function(t){t=$(t);var r=this.min,o=this.max,l=t.min,d=t.max,p=d.x>r.x&&l.x<o.x,b=d.y>r.y&&l.y<o.y;return p&&b},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var r=this.min,o=this.max,l=Math.abs(r.x-o.x)*t,d=Math.abs(r.y-o.y)*t;return $(R(r.x-l,r.y-d),R(o.x+l,o.y+d))},equals:function(t){return t?(t=$(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function $(t,r){return!t||t instanceof j?t:new j(t,r)}function xe(t,r){if(t)for(var o=r?[t,r]:t,l=0,d=o.length;l<d;l++)this.extend(o[l])}xe.prototype={extend:function(t){var r=this._southWest,o=this._northEast,l,d;if(t instanceof de)l=t,d=t;else if(t instanceof xe){if(l=t._southWest,d=t._northEast,!l||!d)return this}else return t?this.extend(oe(t)||ge(t)):this;return!r&&!o?(this._southWest=new de(l.lat,l.lng),this._northEast=new de(d.lat,d.lng)):(r.lat=Math.min(l.lat,r.lat),r.lng=Math.min(l.lng,r.lng),o.lat=Math.max(d.lat,o.lat),o.lng=Math.max(d.lng,o.lng)),this},pad:function(t){var r=this._southWest,o=this._northEast,l=Math.abs(r.lat-o.lat)*t,d=Math.abs(r.lng-o.lng)*t;return new xe(new de(r.lat-l,r.lng-d),new de(o.lat+l,o.lng+d))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof de||"lat"in t?t=oe(t):t=ge(t);var r=this._southWest,o=this._northEast,l,d;return t instanceof xe?(l=t.getSouthWest(),d=t.getNorthEast()):l=d=t,l.lat>=r.lat&&d.lat<=o.lat&&l.lng>=r.lng&&d.lng<=o.lng},intersects:function(t){t=ge(t);var r=this._southWest,o=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),p=d.lat>=r.lat&&l.lat<=o.lat,b=d.lng>=r.lng&&l.lng<=o.lng;return p&&b},overlaps:function(t){t=ge(t);var r=this._southWest,o=this._northEast,l=t.getSouthWest(),d=t.getNorthEast(),p=d.lat>r.lat&&l.lat<o.lat,b=d.lng>r.lng&&l.lng<o.lng;return p&&b},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,r){return t?(t=ge(t),this._southWest.equals(t.getSouthWest(),r)&&this._northEast.equals(t.getNorthEast(),r)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(t,r){return t instanceof xe?t:new xe(t,r)}function de(t,r,o){if(isNaN(t)||isNaN(r))throw new Error("Invalid LatLng object: ("+t+", "+r+")");this.lat=+t,this.lng=+r,o!==void 0&&(this.alt=+o)}de.prototype={equals:function(t,r){if(!t)return!1;t=oe(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(r===void 0?1e-9:r)},toString:function(t){return"LatLng("+H(this.lat,t)+", "+H(this.lng,t)+")"},distanceTo:function(t){return Me.distance(this,oe(t))},wrap:function(){return Me.wrapLatLng(this)},toBounds:function(t){var r=180*t/40075017,o=r/Math.cos(Math.PI/180*this.lat);return ge([this.lat-r,this.lng-o],[this.lat+r,this.lng+o])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function oe(t,r,o){return t instanceof de?t:fe(t)&&typeof t[0]!="object"?t.length===3?new de(t[0],t[1],t[2]):t.length===2?new de(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new de(t.lat,"lng"in t?t.lng:t.lon,t.alt):r===void 0?null:new de(t,r,o)}var Re={latLngToPoint:function(t,r){var o=this.projection.project(t),l=this.scale(r);return this.transformation._transform(o,l)},pointToLatLng:function(t,r){var o=this.scale(r),l=this.transformation.untransform(t,o);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var r=this.projection.bounds,o=this.scale(t),l=this.transformation.transform(r.min,o),d=this.transformation.transform(r.max,o);return new j(l,d)},infinite:!1,wrapLatLng:function(t){var r=this.wrapLng?G(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?G(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new de(o,r,l)},wrapLatLngBounds:function(t){var r=t.getCenter(),o=this.wrapLatLng(r),l=r.lat-o.lat,d=r.lng-o.lng;if(l===0&&d===0)return t;var p=t.getSouthWest(),b=t.getNorthEast(),T=new de(p.lat-l,p.lng-d),O=new de(b.lat-l,b.lng-d);return new xe(T,O)}},Me=x({},Re,{wrapLng:[-180,180],R:6371e3,distance:function(t,r){var o=Math.PI/180,l=t.lat*o,d=r.lat*o,p=Math.sin((r.lat-t.lat)*o/2),b=Math.sin((r.lng-t.lng)*o/2),T=p*p+Math.cos(l)*Math.cos(d)*b*b,O=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*O}}),Ge=6378137,gt={R:Ge,MAX_LATITUDE:85.0511287798,project:function(t){var r=Math.PI/180,o=this.MAX_LATITUDE,l=Math.max(Math.min(o,t.lat),-o),d=Math.sin(l*r);return new D(this.R*t.lng*r,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(t){var r=180/Math.PI;return new de((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*r,t.x*r/this.R)},bounds:(function(){var t=Ge*Math.PI;return new j([-t,-t],[t,t])})()};function ir(t,r,o,l){if(fe(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=r,this._c=o,this._d=l}ir.prototype={transform:function(t,r){return this._transform(t.clone(),r)},_transform:function(t,r){return r=r||1,t.x=r*(this._a*t.x+this._b),t.y=r*(this._c*t.y+this._d),t},untransform:function(t,r){return r=r||1,new D((t.x/r-this._b)/this._a,(t.y/r-this._d)/this._c)}};function sr(t,r,o,l){return new ir(t,r,o,l)}var or=x({},Me,{code:"EPSG:3857",projection:gt,transformation:(function(){var t=.5/(Math.PI*gt.R);return sr(t,.5,-t,.5)})()}),vs=x({},or,{code:"EPSG:900913"});function xs(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _s(t,r){var o="",l,d,p,b,T,O;for(l=0,p=t.length;l<p;l++){for(T=t[l],d=0,b=T.length;d<b;d++)O=T[d],o+=(d?"L":"M")+O.x+" "+O.y;o+=r?he.svg?"z":"x":""}return o||"M0 0"}var Gr=document.documentElement.style,Wr="ActiveXObject"in window,ys=Wr&&!document.addEventListener,ar="msLaunchUri"in navigator&&!("documentMode"in document),bn=_t("webkit"),Ni=_t("android"),ws=_t("android 2")||_t("android 3"),bo=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),No=Ni&&_t("Google")&&bo<537&&!("AudioNode"in window),ji=!!window.opera,Pi=!ar&&_t("chrome"),Vr=_t("gecko")&&!bn&&!ji&&!Wr,jo=!Pi&&_t("safari"),lr=_t("phantom"),ur="OTransition"in Gr,qa=navigator.platform.indexOf("Win")===0,bs=Wr&&"transition"in Gr,Si="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ws,Po="MozPerspective"in Gr,Ns=!window.L_DISABLE_3D&&(bs||Si||Po)&&!ur&&!lr,On=typeof orientation<"u"||_t("mobile"),js=On&&bn,Ps=On&&Si,Ci=!window.PointerEvent&&window.MSPointerEvent,In=!!(window.PointerEvent||Ci),Rn="ontouchstart"in window||!!window.TouchEvent,So=!window.L_NO_TOUCH&&(Rn||In),Co=On&&ji,ko=On&&Vr,Eo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Lo=(function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",A,r),window.removeEventListener("testPassiveEventSupport",A,r)}catch{}return t})(),Ss=(function(){return!!document.createElement("canvas").getContext})(),ki=!!(document.createElementNS&&xs("svg").createSVGRect),qr=!!ki&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Cs=!ki&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var r=t.firstChild;return r.style.behavior="url(#default#VML)",r&&typeof r.adj=="object"}catch{return!1}})(),Kr=navigator.platform.indexOf("Mac")===0,Ka=navigator.platform.indexOf("Linux")===0;function _t(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var he={ie:Wr,ielt9:ys,edge:ar,webkit:bn,android:Ni,android23:ws,androidStock:No,opera:ji,chrome:Pi,gecko:Vr,safari:jo,phantom:lr,opera12:ur,win:qa,ie3d:bs,webkit3d:Si,gecko3d:Po,any3d:Ns,mobile:On,mobileWebkit:js,mobileWebkit3d:Ps,msPointer:Ci,pointer:In,touch:So,touchNative:Rn,mobileOpera:Co,mobileGecko:ko,retina:Eo,passiveEvents:Lo,canvas:Ss,svg:ki,vml:Cs,inlineSvg:qr,mac:Kr,linux:Ka},Qr=he.msPointer?"MSPointerDown":"pointerdown",Ei=he.msPointer?"MSPointerMove":"pointermove",To=he.msPointer?"MSPointerUp":"pointerup",zo=he.msPointer?"MSPointerCancel":"pointercancel",ks={touchstart:Qr,touchmove:Ei,touchend:To,touchcancel:zo},Nn={touchstart:Ye,touchmove:Li,touchend:Li,touchcancel:Li},Dn={},Es=!1;function Qa(t,r,o){return r==="touchstart"&&Ya(),Nn[r]?(o=Nn[r].bind(this,o),t.addEventListener(ks[r],o,!1),o):(console.warn("wrong event specified:",r),A)}function Mo(t,r,o){if(!ks[r]){console.warn("wrong event specified:",r);return}t.removeEventListener(ks[r],o,!1)}function Ao(t){Dn[t.pointerId]=t}function Oo(t){Dn[t.pointerId]&&(Dn[t.pointerId]=t)}function Ls(t){delete Dn[t.pointerId]}function Ya(){Es||(document.addEventListener(Qr,Ao,!0),document.addEventListener(Ei,Oo,!0),document.addEventListener(To,Ls,!0),document.addEventListener(zo,Ls,!0),Es=!0)}function Li(t,r){if(r.pointerType!==(r.MSPOINTER_TYPE_MOUSE||"mouse")){r.touches=[];for(var o in Dn)r.touches.push(Dn[o]);r.changedTouches=[r],t(r)}}function Ye(t,r){r.MSPOINTER_TYPE_TOUCH&&r.pointerType===r.MSPOINTER_TYPE_TOUCH&&Xe(r),Li(t,r)}function Xa(t){var r={},o,l;for(l in t)o=t[l],r[l]=o&&o.bind?o.bind(t):o;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var Ts=200;function Io(t,r){t.addEventListener("dblclick",r);var o=0,l;function d(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var b=Zn(p);if(!(b.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!b.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var T=Date.now();T-o<=Ts?(l++,l===2&&r(Xa(p))):l=1,o=T}}}return t.addEventListener("click",d),{dblclick:r,simDblclick:d}}function Ti(t,r){t.removeEventListener("dblclick",r.dblclick),t.removeEventListener("click",r.simDblclick)}var zs=fr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),cr=fr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yr=cr==="webkitTransition"||cr==="OTransition"?cr+"End":"transitionend";function Ft(t){return typeof t=="string"?document.getElementById(t):t}function Xr(t,r){var o=t.style[r]||t.currentStyle&&t.currentStyle[r];if((!o||o==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);o=l?l[r]:null}return o==="auto"?null:o}function ke(t,r,o){var l=document.createElement(t);return l.className=r||"",o&&o.appendChild(l),l}function qe(t){var r=t.parentNode;r&&r.removeChild(t)}function zi(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function dr(t){var r=t.parentNode;r&&r.lastChild!==t&&r.appendChild(t)}function dn(t){var r=t.parentNode;r&&r.firstChild!==t&&r.insertBefore(t,r.firstChild)}function hr(t,r){if(t.classList!==void 0)return t.classList.contains(r);var o=Mi(t);return o.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(o)}function Ce(t,r){if(t.classList!==void 0)for(var o=W(r),l=0,d=o.length;l<d;l++)t.classList.add(o[l]);else if(!hr(t,r)){var p=Mi(t);Ms(t,(p?p+" ":"")+r)}}function We(t,r){t.classList!==void 0?t.classList.remove(r):Ms(t,q((" "+Mi(t)+" ").replace(" "+r+" "," ")))}function Ms(t,r){t.className.baseVal===void 0?t.className=r:t.className.baseVal=r}function Mi(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function yt(t,r){"opacity"in t.style?t.style.opacity=r:"filter"in t.style&&Ro(t,r)}function Ro(t,r){var o=!1,l="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(l)}catch{if(r===1)return}r=Math.round(r*100),o?(o.Enabled=r!==100,o.Opacity=r):t.style.filter+=" progid:"+l+"(opacity="+r+")"}function fr(t){for(var r=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in r)return t[o];return!1}function Zt(t,r,o){var l=r||new D(0,0);t.style[zs]=(he.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(o?" scale("+o+")":"")}function tt(t,r){t._leaflet_pos=r,he.any3d?Zt(t,r):(t.style.left=r.x+"px",t.style.top=r.y+"px")}function hn(t){return t._leaflet_pos||new D(0,0)}var De,mr,Ai;if("onselectstart"in document)De=function(){je(window,"selectstart",Xe)},mr=function(){Ue(window,"selectstart",Xe)};else{var Bn=fr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(Bn){var t=document.documentElement.style;Ai=t[Bn],t[Bn]="none"}},mr=function(){Bn&&(document.documentElement.style[Bn]=Ai,Ai=void 0)}}function Oi(){je(window,"dragstart",Xe)}function Ii(){Ue(window,"dragstart",Xe)}var Jr,ei;function pr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&($t(),Jr=t,ei=t.style.outlineStyle,t.style.outlineStyle="none",je(window,"keydown",$t))}function $t(){Jr&&(Jr.style.outlineStyle=ei,Jr=void 0,ei=void 0,Ue(window,"keydown",$t))}function fn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Yt(t){var r=t.getBoundingClientRect();return{x:r.width/t.offsetWidth||1,y:r.height/t.offsetHeight||1,boundingClientRect:r}}var ti={__proto__:null,TRANSFORM:zs,TRANSITION:cr,TRANSITION_END:Yr,get:Ft,getStyle:Xr,create:ke,remove:qe,empty:zi,toFront:dr,toBack:dn,hasClass:hr,addClass:Ce,removeClass:We,setClass:Ms,getClass:Mi,setOpacity:yt,testProp:fr,setTransform:Zt,setPosition:tt,getPosition:hn,get disableTextSelection(){return De},get enableTextSelection(){return mr},disableImageDrag:Oi,enableImageDrag:Ii,preventOutline:pr,restoreOutline:$t,getSizedParentNode:fn,getScale:Yt};function je(t,r,o,l){if(r&&typeof r=="object")for(var d in r)Os(t,d,r[d],o);else{r=W(r);for(var p=0,b=r.length;p<b;p++)Os(t,r[p],o,l)}return this}var lt="_leaflet_events";function Ue(t,r,o,l){if(arguments.length===1)As(t),delete t[lt];else if(r&&typeof r=="object")for(var d in r)Ri(t,d,r[d],o);else if(r=W(r),arguments.length===2)As(t,function(T){return be(r,T)!==-1});else for(var p=0,b=r.length;p<b;p++)Ri(t,r[p],o,l);return this}function As(t,r){for(var o in t[lt]){var l=o.split(/\d/)[0];(!r||r(l))&&Ri(t,l,null,null,o)}}var Fn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Os(t,r,o,l){var d=r+C(o)+(l?"_"+C(l):"");if(t[lt]&&t[lt][d])return this;var p=function(T){return o.call(l||t,T||window.event)},b=p;!he.touchNative&&he.pointer&&r.indexOf("touch")===0?p=Qa(t,r,p):he.touch&&r==="dblclick"?p=Io(t,p):"addEventListener"in t?r==="touchstart"||r==="touchmove"||r==="wheel"||r==="mousewheel"?t.addEventListener(Fn[r]||r,p,he.passiveEvents?{passive:!1}:!1):r==="mouseenter"||r==="mouseleave"?(p=function(T){T=T||window.event,ii(t,T)&&b(T)},t.addEventListener(Fn[r],p,!1)):t.addEventListener(r,b,!1):t.attachEvent("on"+r,p),t[lt]=t[lt]||{},t[lt][d]=p}function Ri(t,r,o,l,d){d=d||r+C(o)+(l?"_"+C(l):"");var p=t[lt]&&t[lt][d];if(!p)return this;!he.touchNative&&he.pointer&&r.indexOf("touch")===0?Mo(t,r,p):he.touch&&r==="dblclick"?Ti(t,p):"removeEventListener"in t?t.removeEventListener(Fn[r]||r,p,!1):t.detachEvent("on"+r,p),t[lt][d]=null}function Xt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Di(t){return Os(t,"wheel",Xt),this}function ni(t){return je(t,"mousedown touchstart dblclick contextmenu",Xt),t._leaflet_disable_click=!0,this}function Xe(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ut(t){return Xe(t),Xt(t),this}function Zn(t){if(t.composedPath)return t.composedPath();for(var r=[],o=t.target;o;)r.push(o),o=o.parentNode;return r}function ri(t,r){if(!r)return new D(t.clientX,t.clientY);var o=Yt(r),l=o.boundingClientRect;return new D((t.clientX-l.left)/o.x-r.clientLeft,(t.clientY-l.top)/o.y-r.clientTop)}var Ja=he.linux&&he.chrome?window.devicePixelRatio:he.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Do(t){return he.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ja:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ii(t,r){var o=r.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var Bi={__proto__:null,on:je,off:Ue,stopPropagation:Xt,disableScrollPropagation:Di,disableClickPropagation:ni,preventDefault:Xe,stop:Ut,getPropagationPath:Zn,getMousePosition:ri,getWheelDelta:Do,isExternalTarget:ii,addListener:je,removeListener:Ue},Fi=Le.extend({run:function(t,r,o,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=hn(t),this._offset=r.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_(this._animate,this),this._step()},_step:function(t){var r=+new Date-this._startTime,o=this._duration*1e3;r<o?this._runFrame(this._easeOut(r/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,r){var o=this._startPos.add(this._offset.multiplyBy(t));r&&o._round(),tt(this._el,o),this.fire("step")},_complete:function(){ee(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Oe=Le.extend({options:{crs:or,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,r){r=Y(this,r),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=E(this._onResize,this),this._initEvents(),r.maxBounds&&this.setMaxBounds(r.maxBounds),r.zoom!==void 0&&(this._zoom=this._limitZoom(r.zoom)),r.center&&r.zoom!==void 0&&this.setView(oe(r.center),r.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=cr&&he.any3d&&!he.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),je(this._proxy,Yr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,r,o){if(r=r===void 0?this._zoom:this._limitZoom(r),t=this._limitCenter(oe(t),r,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=x({animate:o.animate},o.zoom),o.pan=x({animate:o.animate,duration:o.duration},o.pan));var l=this._zoom!==r?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,r,o.zoom):this._tryAnimatedPan(t,o.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,r,o.pan&&o.pan.noMoveStart),this},setZoom:function(t,r){return this._loaded?this.setView(this.getCenter(),t,{zoom:r}):(this._zoom=t,this)},zoomIn:function(t,r){return t=t||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,r)},zoomOut:function(t,r){return t=t||(he.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,r)},setZoomAround:function(t,r,o){var l=this.getZoomScale(r),d=this.getSize().divideBy(2),p=t instanceof D?t:this.latLngToContainerPoint(t),b=p.subtract(d).multiplyBy(1-1/l),T=this.containerPointToLatLng(d.add(b));return this.setView(T,r,{zoom:o})},_getBoundsCenterZoom:function(t,r){r=r||{},t=t.getBounds?t.getBounds():ge(t);var o=R(r.paddingTopLeft||r.padding||[0,0]),l=R(r.paddingBottomRight||r.padding||[0,0]),d=this.getBoundsZoom(t,!1,o.add(l));if(d=typeof r.maxZoom=="number"?Math.min(r.maxZoom,d):d,d===1/0)return{center:t.getCenter(),zoom:d};var p=l.subtract(o).divideBy(2),b=this.project(t.getSouthWest(),d),T=this.project(t.getNorthEast(),d),O=this.unproject(b.add(T).divideBy(2).add(p),d);return{center:O,zoom:d}},fitBounds:function(t,r){if(t=ge(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,r);return this.setView(o.center,o.zoom,r)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,r){return this.setView(t,this._zoom,{pan:r})},panBy:function(t,r){if(t=R(t).round(),r=r||{},!t.x&&!t.y)return this.fire("moveend");if(r.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fi,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),r.noMoveStart||this.fire("movestart"),r.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,r.duration||.25,r.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,r,o){if(o=o||{},o.animate===!1||!he.any3d)return this.setView(t,r,o);this._stop();var l=this.project(this.getCenter()),d=this.project(t),p=this.getSize(),b=this._zoom;t=oe(t),r=r===void 0?b:r;var T=Math.max(p.x,p.y),O=T*this.getZoomScale(b,r),U=d.distanceTo(l)||1,ne=1.42,_e=ne*ne;function Ee($e){var Lr=$e?-1:1,fl=$e?O:T,ml=O*O-T*T+Lr*_e*_e*U*U,qn=2*fl*_e*U,Kn=ml/qn,Qn=Math.sqrt(Kn*Kn+1)-Kn,es=Qn<1e-9?-18:Math.log(Qn);return es}function ut($e){return(Math.exp($e)-Math.exp(-$e))/2}function it($e){return(Math.exp($e)+Math.exp(-$e))/2}function Et($e){return ut($e)/it($e)}var bt=Ee(0);function kr($e){return T*(it(bt)/it(bt+ne*$e))}function no($e){return T*(it(bt)*Et(bt+ne*$e)-ut(bt))/_e}function Tn($e){return 1-Math.pow(1-$e,1.5)}var sa=Date.now(),Vn=(Ee(1)-bt)/ne,nn=o.duration?1e3*o.duration:1e3*Vn*.8;function Er(){var $e=(Date.now()-sa)/nn,Lr=Tn($e)*Vn;$e<=1?(this._flyToFrame=_(Er,this),this._move(this.unproject(l.add(d.subtract(l).multiplyBy(no(Lr)/U)),b),this.getScaleZoom(T/kr(Lr),b),{flyTo:!0})):this._move(t,r)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),Er.call(this),this},flyToBounds:function(t,r){var o=this._getBoundsCenterZoom(t,r);return this.flyTo(o.center,o.zoom,r)},setMaxBounds:function(t){return t=ge(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var r=this.options.minZoom;return this.options.minZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var r=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&r!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,r){this._enforcingBounds=!0;var o=this.getCenter(),l=this._limitCenter(o,this._zoom,ge(t));return o.equals(l)||this.panTo(l,r),this._enforcingBounds=!1,this},panInside:function(t,r){r=r||{};var o=R(r.paddingTopLeft||r.padding||[0,0]),l=R(r.paddingBottomRight||r.padding||[0,0]),d=this.project(this.getCenter()),p=this.project(t),b=this.getPixelBounds(),T=$([b.min.add(o),b.max.subtract(l)]),O=T.getSize();if(!T.contains(p)){this._enforcingBounds=!0;var U=p.subtract(T.getCenter()),ne=T.extend(p).getSize().subtract(O);d.x+=U.x<0?-ne.x:ne.x,d.y+=U.y<0?-ne.y:ne.y,this.panTo(this.unproject(d),r),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=x({animate:!1,pan:!0},t===!0?{animate:!0}:t);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),l=r.divideBy(2).round(),d=o.divideBy(2).round(),p=l.subtract(d);return!p.x&&!p.y?this:(t.animate&&t.pan?this.panBy(p):(t.pan&&this._rawPanBy(p),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(E(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=x({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=E(this._handleGeolocationResponse,this),o=E(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,o,t):navigator.geolocation.getCurrentPosition(r,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var r=t.code,o=t.message||(r===1?"permission denied":r===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:r,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var r=t.coords.latitude,o=t.coords.longitude,l=new de(r,o),d=l.toBounds(t.coords.accuracy*2),p=this._locateOptions;if(p.setView){var b=this.getBoundsZoom(d);this.setView(l,p.maxZoom?Math.min(b,p.maxZoom):b)}var T={latlng:l,bounds:d,timestamp:t.timestamp};for(var O in t.coords)typeof t.coords[O]=="number"&&(T[O]=t.coords[O]);this.fire("locationfound",T)}},addHandler:function(t,r){if(!r)return this;var o=this[t]=new r(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ee(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)qe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,r){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=ke("div",o,r||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),r=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new xe(r,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,r,o){t=ge(t),o=R(o||[0,0]);var l=this.getZoom()||0,d=this.getMinZoom(),p=this.getMaxZoom(),b=t.getNorthWest(),T=t.getSouthEast(),O=this.getSize().subtract(o),U=$(this.project(T,l),this.project(b,l)).getSize(),ne=he.any3d?this.options.zoomSnap:1,_e=O.x/U.x,Ee=O.y/U.y,ut=r?Math.max(_e,Ee):Math.min(_e,Ee);return l=this.getScaleZoom(ut,l),ne&&(l=Math.round(l/(ne/100))*(ne/100),l=r?Math.ceil(l/ne)*ne:Math.floor(l/ne)*ne),Math.max(d,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,r){var o=this._getTopLeftPoint(t,r);return new j(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,r){var o=this.options.crs;return r=r===void 0?this._zoom:r,o.scale(t)/o.scale(r)},getScaleZoom:function(t,r){var o=this.options.crs;r=r===void 0?this._zoom:r;var l=o.zoom(t*o.scale(r));return isNaN(l)?1/0:l},project:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.latLngToPoint(oe(t),r)},unproject:function(t,r){return r=r===void 0?this._zoom:r,this.options.crs.pointToLatLng(R(t),r)},layerPointToLatLng:function(t){var r=R(t).add(this.getPixelOrigin());return this.unproject(r)},latLngToLayerPoint:function(t){var r=this.project(oe(t))._round();return r._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(oe(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ge(t))},distance:function(t,r){return this.options.crs.distance(oe(t),oe(r))},containerPointToLayerPoint:function(t){return R(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return R(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var r=this.containerPointToLayerPoint(R(t));return this.layerPointToLatLng(r)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(t)))},mouseEventToContainerPoint:function(t){return ri(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var r=this._container=Ft(t);if(r){if(r._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");je(r,"scroll",this._onScroll,this),this._containerId=C(r)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&he.any3d,Ce(t,"leaflet-container"+(he.touch?" leaflet-touch":"")+(he.retina?" leaflet-retina":"")+(he.ielt9?" leaflet-oldie":"")+(he.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var r=Xr(t,"position");r!=="absolute"&&r!=="relative"&&r!=="fixed"&&r!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),tt(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(t.markerPane,"leaflet-zoom-hide"),Ce(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,r,o){tt(this._mapPane,new D(0,0));var l=!this._loaded;this._loaded=!0,r=this._limitZoom(r),this.fire("viewprereset");var d=this._zoom!==r;this._moveStart(d,o)._move(t,r)._moveEnd(d),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,r){return t&&this.fire("zoomstart"),r||this.fire("movestart"),this},_move:function(t,r,o,l){r===void 0&&(r=this._zoom);var d=this._zoom!==r;return this._zoom=r,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?o&&o.pinch&&this.fire("zoom",o):((d||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ee(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){tt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[C(this._container)]=this;var r=t?Ue:je;r(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&r(window,"resize",this._onResize,this),he.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ee(this._resizeRequest),this._resizeRequest=_(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,r){for(var o=[],l,d=r==="mouseout"||r==="mouseover",p=t.target||t.srcElement,b=!1;p;){if(l=this._targets[C(p)],l&&(r==="click"||r==="preclick")&&this._draggableMoved(l)){b=!0;break}if(l&&l.listens(r,!0)&&(d&&!ii(p,t)||(o.push(l),d))||p===this._container)break;p=p.parentNode}return!o.length&&!b&&!d&&this.listens(r,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var r=t.target||t.srcElement;if(!(!this._loaded||r._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(r))){var o=t.type;o==="mousedown"&&pr(r),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,r,o){if(t.type==="click"){var l=x({},t);l.type="preclick",this._fireDOMEvent(l,l.type,o)}var d=this._findEventTargets(t,r);if(o){for(var p=[],b=0;b<o.length;b++)o[b].listens(r,!0)&&p.push(o[b]);d=p.concat(d)}if(d.length){r==="contextmenu"&&Xe(t);var T=d[0],O={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var U=T.getLatLng&&(!T._radius||T._radius<=10);O.containerPoint=U?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(t),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=U?T.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(b=0;b<d.length;b++)if(d[b].fire(r,O,!0),O.originalEvent._stopped||d[b].options.bubblingMouseEvents===!1&&be(this._mouseEvents,r)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,r=this._handlers.length;t<r;t++)this._handlers[t].disable()},whenReady:function(t,r){return this._loaded?t.call(r||this,{target:this}):this.on("load",t,r),this},_getMapPanePos:function(){return hn(this._mapPane)||new D(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,r){var o=t&&r!==void 0?this._getNewPixelOrigin(t,r):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,r){var o=this.getSize()._divideBy(2);return this.project(t,r)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,r,o){var l=this._getNewPixelOrigin(o,r);return this.project(t,r)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,r,o){var l=this._getNewPixelOrigin(o,r);return $([this.project(t.getSouthWest(),r)._subtract(l),this.project(t.getNorthWest(),r)._subtract(l),this.project(t.getSouthEast(),r)._subtract(l),this.project(t.getNorthEast(),r)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,r,o){if(!o)return t;var l=this.project(t,r),d=this.getSize().divideBy(2),p=new j(l.subtract(d),l.add(d)),b=this._getBoundsOffset(p,o,r);return Math.abs(b.x)<=1&&Math.abs(b.y)<=1?t:this.unproject(l.add(b),r)},_limitOffset:function(t,r){if(!r)return t;var o=this.getPixelBounds(),l=new j(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(l,r))},_getBoundsOffset:function(t,r,o){var l=$(this.project(r.getNorthEast(),o),this.project(r.getSouthWest(),o)),d=l.min.subtract(t.min),p=l.max.subtract(t.max),b=this._rebound(d.x,-p.x),T=this._rebound(d.y,-p.y);return new D(b,T)},_rebound:function(t,r){return t+r>0?Math.round(t-r)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(r))},_limitZoom:function(t){var r=this.getMinZoom(),o=this.getMaxZoom(),l=he.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(r,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){We(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,r){var o=this._getCenterOffset(t)._trunc();return(r&&r.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,r),!0)},_createAnimProxy:function(){var t=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(r){var o=zs,l=this._proxy.style[o];Zt(this._proxy,this.project(r.center,r.zoom),this.getZoomScale(r.zoom,1)),l===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),r=this.getZoom();Zt(this._proxy,this.project(t,r),this.getZoomScale(r,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,r,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(r-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(r),d=this._getCenterOffset(t)._divideBy(1-1/l);return o.animate!==!0&&!this.getSize().contains(d)?!1:(_(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(t,r,!0)},this),!0)},_animateZoom:function(t,r,o,l){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=r,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:r,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(E(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&We(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function jn(t,r){return new Oe(t,r)}var Ct=ve.extend({options:{position:"topright"},initialize:function(t){Y(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var r=this._map;return r&&r.removeControl(this),this.options.position=t,r&&r.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var r=this._container=this.onAdd(t),o=this.getPosition(),l=t._controlCorners[o];return Ce(r,"leaflet-control"),o.indexOf("bottom")!==-1?l.insertBefore(r,l.firstChild):l.appendChild(r),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Pn=function(t){return new Ct(t)};Oe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},r="leaflet-",o=this._controlContainer=ke("div",r+"control-container",this._container);function l(d,p){var b=r+d+" "+r+p;t[d+p]=ke("div",b,o)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)qe(this._controlCorners[t]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Is=Ct.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,r,o,l){return o<l?-1:l<o?1:0}},initialize:function(t,r,o){Y(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in r)this._addLayer(r[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ct.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,r){return this._addLayer(t,r),this._map?this._update():this},addOverlay:function(t,r){return this._addLayer(t,r,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var r=this._getLayer(C(t));return r&&this._layers.splice(this._layers.indexOf(r),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):We(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return We(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",r=this._container=ke("div",t),o=this.options.collapsed;r.setAttribute("aria-haspopup",!0),ni(r),Di(r);var l=this._section=ke("section",t+"-list");o&&(this._map.on("click",this.collapse,this),je(r,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=ke("a",t+"-toggle",r);d.href="#",d.title="Layers",d.setAttribute("role","button"),je(d,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){Xe(p),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=ke("div",t+"-base",l),this._separator=ke("div",t+"-separator",l),this._overlaysList=ke("div",t+"-overlays",l),r.appendChild(l)},_getLayer:function(t){for(var r=0;r<this._layers.length;r++)if(this._layers[r]&&C(this._layers[r].layer)===t)return this._layers[r]},_addLayer:function(t,r,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:r,overlay:o}),this.options.sortLayers&&this._layers.sort(E(function(l,d){return this.options.sortFunction(l.layer,d.layer,l.name,d.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;zi(this._baseLayersList),zi(this._overlaysList),this._layerControlInputs=[];var t,r,o,l,d=0;for(o=0;o<this._layers.length;o++)l=this._layers[o],this._addItem(l),r=r||l.overlay,t=t||!l.overlay,d+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&d>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=r&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var r=this._getLayer(C(t.target)),o=r.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,r)},_createRadioElement:function(t,r){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(r?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=o,l.firstChild},_addItem:function(t){var r=document.createElement("label"),o=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=o):l=this._createRadioElement("leaflet-base-layers_"+C(this),o),this._layerControlInputs.push(l),l.layerId=C(t.layer),je(l,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+t.name;var p=document.createElement("span");r.appendChild(p),p.appendChild(l),p.appendChild(d);var b=t.overlay?this._overlaysList:this._baseLayersList;return b.appendChild(r),this._checkDisabledLayers(),r},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,r,o,l=[],d=[];this._handlingClick=!0;for(var p=t.length-1;p>=0;p--)r=t[p],o=this._getLayer(r.layerId).layer,r.checked?l.push(o):r.checked||d.push(o);for(p=0;p<d.length;p++)this._map.hasLayer(d[p])&&this._map.removeLayer(d[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,r,o,l=this._map.getZoom(),d=t.length-1;d>=0;d--)r=t[d],o=this._getLayer(r.layerId).layer,r.disabled=o.options.minZoom!==void 0&&l<o.options.minZoom||o.options.maxZoom!==void 0&&l>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,je(t,"click",Xe),this.expand();var r=this;setTimeout(function(){Ue(t,"click",Xe),r._preventClick=!1})}}),Zi=function(t,r,o){return new Is(t,r,o)},gr=Ct.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var r="leaflet-control-zoom",o=ke("div",r+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,r+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,r+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,r,o,l,d){var p=ke("a",o,l);return p.innerHTML=t,p.href="#",p.title=r,p.setAttribute("role","button"),p.setAttribute("aria-label",r),ni(p),je(p,"click",Ut),je(p,"click",d,this),je(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var t=this._map,r="leaflet-disabled";We(this._zoomInButton,r),We(this._zoomOutButton,r),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ce(this._zoomOutButton,r),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ce(this._zoomInButton,r),this._zoomInButton.setAttribute("aria-disabled","true"))}});Oe.mergeOptions({zoomControl:!0}),Oe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new gr,this.addControl(this.zoomControl))});var Bo=function(t){return new gr(t)},wt=Ct.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var r="leaflet-control-scale",o=ke("div",r),l=this.options;return this._addScales(l,r+"-line",o),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,r,o){t.metric&&(this._mScale=ke("div",r,o)),t.imperial&&(this._iScale=ke("div",r,o))},_update:function(){var t=this._map,r=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,r]),t.containerPointToLatLng([this.options.maxWidth,r]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var r=this._getRoundNum(t),o=r<1e3?r+" m":r/1e3+" km";this._updateScale(this._mScale,o,r/t)},_updateImperial:function(t){var r=t*3.2808399,o,l,d;r>5280?(o=r/5280,l=this._getRoundNum(o),this._updateScale(this._iScale,l+" mi",l/o)):(d=this._getRoundNum(r),this._updateScale(this._iScale,d+" ft",d/r))},_updateScale:function(t,r,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=r},_getRoundNum:function(t){var r=Math.pow(10,(Math.floor(t)+"").length-1),o=t/r;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,r*o}}),vr=function(t){return new wt(t)},Rs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',$n=Ct.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(he.inlineSvg?Rs+" ":"")+"Leaflet</a>"},initialize:function(t){Y(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),ni(this._container);for(var r in t._layers)t._layers[r].getAttribution&&this.addAttribution(t._layers[r].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var r in this._attributions)this._attributions[r]&&t.push(r);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});Oe.mergeOptions({attributionControl:!0}),Oe.addInitHook(function(){this.options.attributionControl&&new $n().addTo(this)});var el=function(t){return new $n(t)};Ct.Layers=Is,Ct.Zoom=gr,Ct.Scale=wt,Ct.Attribution=$n,Pn.layers=Zi,Pn.zoom=Bo,Pn.scale=vr,Pn.attribution=el;var zt=ve.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});zt.addTo=function(t,r){return t.addHandler(r,this),this};var Ds={Events:Se},xr=he.touch?"touchstart mousedown":"mousedown",Ht=Le.extend({options:{clickTolerance:3},initialize:function(t,r,o,l){Y(this,l),this._element=t,this._dragStartTarget=r||t,this._preventOutline=o},enable:function(){this._enabled||(je(this._dragStartTarget,xr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ht._dragging===this&&this.finishDrag(!0),Ue(this._dragStartTarget,xr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!hr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Ht._dragging===this&&this.finishDrag();return}if(!(Ht._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Ht._dragging=this,this._preventOutline&&pr(this._element),Oi(),De(),!this._moving)){this.fire("down");var r=t.touches?t.touches[0]:t,o=fn(this._element);this._startPoint=new D(r.clientX,r.clientY),this._startPos=hn(this._element),this._parentScale=Yt(o);var l=t.type==="mousedown";je(document,l?"mousemove":"touchmove",this._onMove,this),je(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var r=t.touches&&t.touches.length===1?t.touches[0]:t,o=new D(r.clientX,r.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,Xe(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),tt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){We(document.body,"leaflet-dragging"),this._lastTarget&&(We(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ue(document,"mousemove touchmove",this._onMove,this),Ue(document,"mouseup touchend touchcancel",this._onUp,this),Ii(),mr();var r=this._moved&&this._moving;this._moving=!1,Ht._dragging=!1,r&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Bs(t,r,o){var l,d=[1,4,2,8],p,b,T,O,U,ne,_e,Ee;for(p=0,ne=t.length;p<ne;p++)t[p]._code=Un(t[p],r);for(T=0;T<4;T++){for(_e=d[T],l=[],p=0,ne=t.length,b=ne-1;p<ne;b=p++)O=t[p],U=t[b],O._code&_e?U._code&_e||(Ee=Ui(U,O,_e,r,o),Ee._code=Un(Ee,r),l.push(Ee)):(U._code&_e&&(Ee=Ui(U,O,_e,r,o),Ee._code=Un(Ee,r),l.push(Ee)),l.push(O));t=l}return t}function Fo(t,r){var o,l,d,p,b,T,O,U,ne;if(!t||t.length===0)throw new Error("latlngs not passed");Mt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var _e=oe([0,0]),Ee=ge(t),ut=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());ut<1700&&(_e=Fs(t));var it=t.length,Et=[];for(o=0;o<it;o++){var bt=oe(t[o]);Et.push(r.project(oe([bt.lat-_e.lat,bt.lng-_e.lng])))}for(T=O=U=0,o=0,l=it-1;o<it;l=o++)d=Et[o],p=Et[l],b=d.y*p.x-p.y*d.x,O+=(d.x+p.x)*b,U+=(d.y+p.y)*b,T+=b*3;T===0?ne=Et[0]:ne=[O/T,U/T];var kr=r.unproject(R(ne));return oe([kr.lat+_e.lat,kr.lng+_e.lng])}function Fs(t){for(var r=0,o=0,l=0,d=0;d<t.length;d++){var p=oe(t[d]);r+=p.lat,o+=p.lng,l++}return oe([r/l,o/l])}var tl={__proto__:null,clipPolygon:Bs,polygonCenter:Fo,centroid:Fs};function $i(t,r){if(!r||!t.length)return t.slice();var o=r*r;return t=il(t,o),t=rl(t,o),t}function Zo(t,r,o){return Math.sqrt(Hn(t,r,o,!0))}function nl(t,r,o){return Hn(t,r,o)}function rl(t,r){var o=t.length,l=typeof Uint8Array<"u"?Uint8Array:Array,d=new l(o);d[0]=d[o-1]=1,Zs(t,d,r,0,o-1);var p,b=[];for(p=0;p<o;p++)d[p]&&b.push(t[p]);return b}function Zs(t,r,o,l,d){var p=0,b,T,O;for(T=l+1;T<=d-1;T++)O=Hn(t[T],t[l],t[d],!0),O>p&&(b=T,p=O);p>o&&(r[b]=1,Zs(t,r,o,l,b),Zs(t,r,o,b,d))}function il(t,r){for(var o=[t[0]],l=1,d=0,p=t.length;l<p;l++)sl(t[l],t[d])>r&&(o.push(t[l]),d=l);return d<p-1&&o.push(t[p-1]),o}var $s;function $o(t,r,o,l,d){var p=l?$s:Un(t,o),b=Un(r,o),T,O,U;for($s=b;;){if(!(p|b))return[t,r];if(p&b)return!1;T=p||b,O=Ui(t,r,T,o,d),U=Un(O,o),T===p?(t=O,p=U):(r=O,b=U)}}function Ui(t,r,o,l,d){var p=r.x-t.x,b=r.y-t.y,T=l.min,O=l.max,U,ne;return o&8?(U=t.x+p*(O.y-t.y)/b,ne=O.y):o&4?(U=t.x+p*(T.y-t.y)/b,ne=T.y):o&2?(U=O.x,ne=t.y+b*(O.x-t.x)/p):o&1&&(U=T.x,ne=t.y+b*(T.x-t.x)/p),new D(U,ne,d)}function Un(t,r){var o=0;return t.x<r.min.x?o|=1:t.x>r.max.x&&(o|=2),t.y<r.min.y?o|=4:t.y>r.max.y&&(o|=8),o}function sl(t,r){var o=r.x-t.x,l=r.y-t.y;return o*o+l*l}function Hn(t,r,o,l){var d=r.x,p=r.y,b=o.x-d,T=o.y-p,O=b*b+T*T,U;return O>0&&(U=((t.x-d)*b+(t.y-p)*T)/O,U>1?(d=o.x,p=o.y):U>0&&(d+=b*U,p+=T*U)),b=t.x-d,T=t.y-p,l?b*b+T*T:new D(d,p)}function Mt(t){return!fe(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Uo(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mt(t)}function Ho(t,r){var o,l,d,p,b,T,O,U;if(!t||t.length===0)throw new Error("latlngs not passed");Mt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ne=oe([0,0]),_e=ge(t),Ee=_e.getNorthWest().distanceTo(_e.getSouthWest())*_e.getNorthEast().distanceTo(_e.getNorthWest());Ee<1700&&(ne=Fs(t));var ut=t.length,it=[];for(o=0;o<ut;o++){var Et=oe(t[o]);it.push(r.project(oe([Et.lat-ne.lat,Et.lng-ne.lng])))}for(o=0,l=0;o<ut-1;o++)l+=it[o].distanceTo(it[o+1])/2;if(l===0)U=it[0];else for(o=0,p=0;o<ut-1;o++)if(b=it[o],T=it[o+1],d=b.distanceTo(T),p+=d,p>l){O=(p-l)/d,U=[T.x-O*(T.x-b.x),T.y-O*(T.y-b.y)];break}var bt=r.unproject(R(U));return oe([bt.lat+ne.lat,bt.lng+ne.lng])}var Go={__proto__:null,simplify:$i,pointToSegmentDistance:Zo,closestPointOnSegment:nl,clipSegment:$o,_getEdgeIntersection:Ui,_getBitCode:Un,_sqClosestPointOnSegment:Hn,isFlat:Mt,_flat:Uo,polylineCenter:Ho},Us={project:function(t){return new D(t.lng,t.lat)},unproject:function(t){return new de(t.y,t.x)},bounds:new j([-180,-90],[180,90])},Hs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new j([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var r=Math.PI/180,o=this.R,l=t.lat*r,d=this.R_MINOR/o,p=Math.sqrt(1-d*d),b=p*Math.sin(l),T=Math.tan(Math.PI/4-l/2)/Math.pow((1-b)/(1+b),p/2);return l=-o*Math.log(Math.max(T,1e-10)),new D(t.lng*r*o,l)},unproject:function(t){for(var r=180/Math.PI,o=this.R,l=this.R_MINOR/o,d=Math.sqrt(1-l*l),p=Math.exp(-t.y/o),b=Math.PI/2-2*Math.atan(p),T=0,O=.1,U;T<15&&Math.abs(O)>1e-7;T++)U=d*Math.sin(b),U=Math.pow((1-U)/(1+U),d/2),O=Math.PI/2-2*Math.atan(p*U)-b,b+=O;return new de(b*r,t.x*r/o)}},ol={__proto__:null,LonLat:Us,Mercator:Hs,SphericalMercator:gt},al=x({},Me,{code:"EPSG:3395",projection:Hs,transformation:(function(){var t=.5/(Math.PI*Hs.R);return sr(t,.5,-t,.5)})()}),Wo=x({},Me,{code:"EPSG:4326",projection:Us,transformation:sr(1/180,1,-1/180,.5)}),ll=x({},Re,{projection:Us,transformation:sr(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,r){var o=r.lng-t.lng,l=r.lat-t.lat;return Math.sqrt(o*o+l*l)},infinite:!0});Re.Earth=Me,Re.EPSG3395=al,Re.EPSG3857=or,Re.EPSG900913=vs,Re.EPSG4326=Wo,Re.Simple=ll;var Gt=Le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[C(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[C(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var r=t.target;if(r.hasLayer(this)){if(this._map=r,this._zoomAnimated=r._zoomAnimated,this.getEvents){var o=this.getEvents();r.on(o,this),this.once("remove",function(){r.off(o,this)},this)}this.onAdd(r),this.fire("add"),r.fire("layeradd",{layer:this})}}});Oe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var r=C(t);return this._layers[r]?this:(this._layers[r]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var r=C(t);return this._layers[r]?(this._loaded&&t.onRemove(this),delete this._layers[r],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return C(t)in this._layers},eachLayer:function(t,r){for(var o in this._layers)t.call(r,this._layers[o]);return this},_addLayers:function(t){t=t?fe(t)?t:[t]:[];for(var r=0,o=t.length;r<o;r++)this.addLayer(t[r])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[C(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var r=C(t);this._zoomBoundLayers[r]&&(delete this._zoomBoundLayers[r],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,r=-1/0,o=this._getZoomSpan();for(var l in this._zoomBoundLayers){var d=this._zoomBoundLayers[l].options;t=d.minZoom===void 0?t:Math.min(t,d.minZoom),r=d.maxZoom===void 0?r:Math.max(r,d.maxZoom)}this._layersMaxZoom=r===-1/0?void 0:r,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=Gt.extend({initialize:function(t,r){Y(this,r),this._layers={};var o,l;if(t)for(o=0,l=t.length;o<l;o++)this.addLayer(t[o])},addLayer:function(t){var r=this.getLayerId(t);return this._layers[r]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var r=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[r]&&this._map.removeLayer(this._layers[r]),delete this._layers[r],this},hasLayer:function(t){var r=typeof t=="number"?t:this.getLayerId(t);return r in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var r=Array.prototype.slice.call(arguments,1),o,l;for(o in this._layers)l=this._layers[o],l[t]&&l[t].apply(l,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,r){for(var o in this._layers)t.call(r,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return C(t)}}),si=function(t,r){return new Sn(t,r)},mn=Sn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Sn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Sn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new xe;for(var r in this._layers){var o=this._layers[r];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),Vo=function(t,r){return new mn(t,r)},Gn=ve.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){Y(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,r){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(o,r&&r.tagName==="IMG"?r:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,r){var o=this.options,l=o[r+"Size"];typeof l=="number"&&(l=[l,l]);var d=R(l),p=R(r==="shadow"&&o.shadowAnchor||o.iconAnchor||d&&d.divideBy(2,!0));t.className="leaflet-marker-"+r+" "+(o.className||""),p&&(t.style.marginLeft=-p.x+"px",t.style.marginTop=-p.y+"px"),d&&(t.style.width=d.x+"px",t.style.height=d.y+"px")},_createImg:function(t,r){return r=r||document.createElement("img"),r.src=t,r},_getIconUrl:function(t){return he.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function qo(t){return new Gn(t)}var _r=Gn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof _r.imagePath!="string"&&(_r.imagePath=this._detectIconPath()),(this.options.imagePath||_r.imagePath)+Gn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var r=function(o,l,d){var p=l.exec(o);return p&&p[d]};return t=r(t,/^url\((['"])?(.+)\1\)$/,2),t&&r(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ke("div","leaflet-default-icon-path",document.body),r=Xr(t,"background-image")||Xr(t,"backgroundImage");if(document.body.removeChild(t),r=this._stripUrl(r),r)return r;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Gs=zt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ht(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&We(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var r=this._marker,o=r._map,l=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,p=hn(r._icon),b=o.getPixelBounds(),T=o.getPixelOrigin(),O=$(b.min._subtract(T).add(d),b.max._subtract(T).subtract(d));if(!O.contains(p)){var U=R((Math.max(O.max.x,p.x)-O.max.x)/(b.max.x-O.max.x)-(Math.min(O.min.x,p.x)-O.min.x)/(b.min.x-O.min.x),(Math.max(O.max.y,p.y)-O.max.y)/(b.max.y-O.max.y)-(Math.min(O.min.y,p.y)-O.min.y)/(b.min.y-O.min.y)).multiplyBy(l);o.panBy(U,{animate:!1}),this._draggable._newPos._add(U),this._draggable._startPos._add(U),tt(r._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=_(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(ee(this._panRequest),this._panRequest=_(this._adjustPan.bind(this,t)))},_onDrag:function(t){var r=this._marker,o=r._shadow,l=hn(r._icon),d=r._map.layerPointToLatLng(l);o&&tt(o,l),r._latlng=d,t.latlng=d,t.oldLatLng=this._oldLatLng,r.fire("move",t).fire("drag",t)},_onDragEnd:function(t){ee(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),pn=Gt.extend({options:{icon:new _r,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,r){Y(this,r),this._latlng=oe(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var r=this._latlng;return this._latlng=oe(t),this.update(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,r="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),l=!1;o!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),Ce(o,r),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(o,"focus",this._panOnFocus,this);var d=t.icon.createShadow(this._shadow),p=!1;d!==this._shadow&&(this._removeShadow(),p=!0),d&&(Ce(d,r),d.alt=""),this._shadow=d,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&p&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&tt(this._icon,t),this._shadow&&tt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(r)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gs)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gs(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&yt(this._icon,t),this._shadow&&yt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var r=this.options.icon.options,o=r.iconSize?R(r.iconSize):R(0,0),l=r.iconAnchor?R(r.iconAnchor):R(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:o.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ul(t,r){return new pn(t,r)}var Cn=Gt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return Y(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hi=Cn.extend({options:{fill:!0,radius:10},initialize:function(t,r){Y(this,r),this._latlng=oe(t),this._radius=this.options.radius},setLatLng:function(t){var r=this._latlng;return this._latlng=oe(t),this.redraw(),this.fire("move",{oldLatLng:r,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var r=t&&t.radius||this._radius;return Cn.prototype.setStyle.call(this,t),this.setRadius(r),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,r=this._radiusY||t,o=this._clickTolerance(),l=[t+o,r+o];this._pxBounds=new j(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ko(t,r){return new Hi(t,r)}var Gi=Hi.extend({initialize:function(t,r,o){if(typeof r=="number"&&(r=x({},o,{radius:r})),Y(this,r),this._latlng=oe(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Cn.prototype.setStyle,_project:function(){var t=this._latlng.lng,r=this._latlng.lat,o=this._map,l=o.options.crs;if(l.distance===Me.distance){var d=Math.PI/180,p=this._mRadius/Me.R/d,b=o.project([r+p,t]),T=o.project([r-p,t]),O=b.add(T).divideBy(2),U=o.unproject(O).lat,ne=Math.acos((Math.cos(p*d)-Math.sin(r*d)*Math.sin(U*d))/(Math.cos(r*d)*Math.cos(U*d)))/d;(isNaN(ne)||ne===0)&&(ne=p/Math.cos(Math.PI/180*r)),this._point=O.subtract(o.getPixelOrigin()),this._radius=isNaN(ne)?0:O.x-o.project([U,t-ne]).x,this._radiusY=O.y-b.y}else{var _e=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(_e).x}this._updateBounds()}});function oi(t,r,o){return new Gi(t,r,o)}var kt=Cn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,r){Y(this,r),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var r=1/0,o=null,l=Hn,d,p,b=0,T=this._parts.length;b<T;b++)for(var O=this._parts[b],U=1,ne=O.length;U<ne;U++){d=O[U-1],p=O[U];var _e=l(t,d,p,!0);_e<r&&(r=_e,o=l(t,d,p))}return o&&(o.distance=Math.sqrt(r)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ho(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,r){return r=r||this._defaultShape(),t=oe(t),r.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new xe,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Mt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var r=[],o=Mt(t),l=0,d=t.length;l<d;l++)o?(r[l]=oe(t[l]),this._bounds.extend(r[l])):r[l]=this._convertLatLngs(t[l]);return r},_project:function(){var t=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),r=new D(t,t);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(r),this._rawPxBounds.max.add(r)]))},_projectLatlngs:function(t,r,o){var l=t[0]instanceof de,d=t.length,p,b;if(l){for(b=[],p=0;p<d;p++)b[p]=this._map.latLngToLayerPoint(t[p]),o.extend(b[p]);r.push(b)}else for(p=0;p<d;p++)this._projectLatlngs(t[p],r,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var r=this._parts,o,l,d,p,b,T,O;for(o=0,d=0,p=this._rings.length;o<p;o++)for(O=this._rings[o],l=0,b=O.length;l<b-1;l++)T=$o(O[l],O[l+1],t,l,!0),T&&(r[d]=r[d]||[],r[d].push(T[0]),(T[1]!==O[l+1]||l===b-2)&&(r[d].push(T[1]),d++))}},_simplifyPoints:function(){for(var t=this._parts,r=this.options.smoothFactor,o=0,l=t.length;o<l;o++)t[o]=$i(t[o],r)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,r){var o,l,d,p,b,T,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,p=this._parts.length;o<p;o++)for(T=this._parts[o],l=0,b=T.length,d=b-1;l<b;d=l++)if(!(!r&&l===0)&&Zo(t,T[d],T[l])<=O)return!0;return!1}});function cl(t,r){return new kt(t,r)}kt._flat=Uo;var gn=kt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var r=kt.prototype._convertLatLngs.call(this,t),o=r.length;return o>=2&&r[0]instanceof de&&r[0].equals(r[o-1])&&r.pop(),r},_setLatLngs:function(t){kt.prototype._setLatLngs.call(this,t),Mt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,r=this.options.weight,o=new D(r,r);if(t=new j(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,d=this._rings.length,p;l<d;l++)p=Bs(this._rings[l],t,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var r=!1,o,l,d,p,b,T,O,U;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(p=0,O=this._parts.length;p<O;p++)for(o=this._parts[p],b=0,U=o.length,T=U-1;b<U;T=b++)l=o[b],d=o[T],l.y>t.y!=d.y>t.y&&t.x<(d.x-l.x)*(t.y-l.y)/(d.y-l.y)+l.x&&(r=!r);return r||kt.prototype._containsPoint.call(this,t,!0)}});function dl(t,r){return new gn(t,r)}var Jt=mn.extend({initialize:function(t,r){Y(this,r),this._layers={},t&&this.addData(t)},addData:function(t){var r=fe(t)?t:t.features,o,l,d;if(r){for(o=0,l=r.length;o<l;o++)d=r[o],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var p=this.options;if(p.filter&&!p.filter(t))return this;var b=yr(t,p);return b?(b.feature=Qi(t),b.defaultOptions=b.options,this.resetStyle(b),p.onEachFeature&&p.onEachFeature(t,b),this.addLayer(b)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=x({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(r){this._setLayerStyle(r,t)},this)},_setLayerStyle:function(t,r){t.setStyle&&(typeof r=="function"&&(r=r(t.feature)),t.setStyle(r))}});function yr(t,r){var o=t.type==="Feature"?t.geometry:t,l=o?o.coordinates:null,d=[],p=r&&r.pointToLayer,b=r&&r.coordsToLatLng||Vi,T,O,U,ne;if(!l&&!o)return null;switch(o.type){case"Point":return T=b(l),Wi(p,t,T,r);case"MultiPoint":for(U=0,ne=l.length;U<ne;U++)T=b(l[U]),d.push(Wi(p,t,T,r));return new mn(d);case"LineString":case"MultiLineString":return O=ai(l,o.type==="LineString"?0:1,b),new kt(O,r);case"Polygon":case"MultiPolygon":return O=ai(l,o.type==="Polygon"?1:2,b),new gn(O,r);case"GeometryCollection":for(U=0,ne=o.geometries.length;U<ne;U++){var _e=yr({geometry:o.geometries[U],type:"Feature",properties:t.properties},r);_e&&d.push(_e)}return new mn(d);case"FeatureCollection":for(U=0,ne=o.features.length;U<ne;U++){var Ee=yr(o.features[U],r);Ee&&d.push(Ee)}return new mn(d);default:throw new Error("Invalid GeoJSON object.")}}function Wi(t,r,o,l){return t?t(r,o):new pn(o,l&&l.markersInheritOptions&&l)}function Vi(t){return new de(t[1],t[0],t[2])}function ai(t,r,o){for(var l=[],d=0,p=t.length,b;d<p;d++)b=r?ai(t[d],r-1,o):(o||Vi)(t[d]),l.push(b);return l}function qi(t,r){return t=oe(t),t.alt!==void 0?[H(t.lng,r),H(t.lat,r),H(t.alt,r)]:[H(t.lng,r),H(t.lat,r)]}function Ki(t,r,o,l){for(var d=[],p=0,b=t.length;p<b;p++)d.push(r?Ki(t[p],Mt(t[p])?0:r-1,o,l):qi(t[p],l));return!r&&o&&d.length>0&&d.push(d[0].slice()),d}function wr(t,r){return t.feature?x({},t.feature,{geometry:r}):Qi(r)}function Qi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Ws={toGeoJSON:function(t){return wr(this,{type:"Point",coordinates:qi(this.getLatLng(),t)})}};pn.include(Ws),Gi.include(Ws),Hi.include(Ws),kt.include({toGeoJSON:function(t){var r=!Mt(this._latlngs),o=Ki(this._latlngs,r?1:0,!1,t);return wr(this,{type:(r?"Multi":"")+"LineString",coordinates:o})}}),gn.include({toGeoJSON:function(t){var r=!Mt(this._latlngs),o=r&&!Mt(this._latlngs[0]),l=Ki(this._latlngs,o?2:r?1:0,!0,t);return r||(l=[l]),wr(this,{type:(o?"Multi":"")+"Polygon",coordinates:l})}}),Sn.include({toMultiPoint:function(t){var r=[];return this.eachLayer(function(o){r.push(o.toGeoJSON(t).geometry.coordinates)}),wr(this,{type:"MultiPoint",coordinates:r})},toGeoJSON:function(t){var r=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(r==="MultiPoint")return this.toMultiPoint(t);var o=r==="GeometryCollection",l=[];return this.eachLayer(function(d){if(d.toGeoJSON){var p=d.toGeoJSON(t);if(o)l.push(p.geometry);else{var b=Qi(p);b.type==="FeatureCollection"?l.push.apply(l,b.features):l.push(b)}}}),o?wr(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Qo(t,r){return new Jt(t,r)}var Wt=Qo,kn=Gt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,r,o){this._url=t,this._bounds=ge(r),Y(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&dr(this._image),this},bringToBack:function(){return this._map&&dn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ge(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",r=this._image=t?this._url:ke("img");if(Ce(r,"leaflet-image-layer"),this._zoomAnimated&&Ce(r,"leaflet-zoom-animated"),this.options.className&&Ce(r,this.options.className),r.onselectstart=A,r.onmousemove=A,r.onload=E(this.fire,this,"load"),r.onerror=E(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(r.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=r.src;return}r.src=this._url,r.alt=this.options.alt},_animateZoom:function(t){var r=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Zt(this._image,o,r)},_reset:function(){var t=this._image,r=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=r.getSize();tt(t,r.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Yo=function(t,r,o){return new kn(t,r,o)},Vs=kn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",r=this._image=t?this._url:ke("video");if(Ce(r,"leaflet-image-layer"),this._zoomAnimated&&Ce(r,"leaflet-zoom-animated"),this.options.className&&Ce(r,this.options.className),r.onselectstart=A,r.onmousemove=A,r.onloadeddata=E(this.fire,this,"load"),t){for(var o=r.getElementsByTagName("source"),l=[],d=0;d<o.length;d++)l.push(o[d].src);this._url=o.length>0?l:[r.src];return}fe(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(r.style,"objectFit")&&(r.style.objectFit="fill"),r.autoplay=!!this.options.autoplay,r.loop=!!this.options.loop,r.muted=!!this.options.muted,r.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var b=ke("source");b.src=this._url[p],r.appendChild(b)}}});function Xo(t,r,o){return new Vs(t,r,o)}var qs=kn.extend({_initImage:function(){var t=this._image=this._url;Ce(t,"leaflet-image-layer"),this._zoomAnimated&&Ce(t,"leaflet-zoom-animated"),this.options.className&&Ce(t,this.options.className),t.onselectstart=A,t.onmousemove=A}});function Ks(t,r,o){return new qs(t,r,o)}var en=Gt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,r){t&&(t instanceof de||fe(t))?(this._latlng=oe(t),Y(this,r)):(Y(this,t),this._source=r),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&yt(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(yt(this._container,0),this._removeTimeout=setTimeout(E(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(We(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=oe(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&dr(this._container),this},bringToBack:function(){return this._map&&dn(this._container),this},_prepareOpen:function(t){var r=this._source;if(!r._map)return!1;if(r instanceof mn){r=null;var o=this._source._layers;for(var l in o)if(o[l]._map){r=o[l];break}if(!r)return!1;this._source=r}if(!t)if(r.getCenter)t=r.getCenter();else if(r.getLatLng)t=r.getLatLng();else if(r.getBounds)t=r.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,r=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof r=="string")t.innerHTML=r;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(r)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),r=R(this.options.offset),o=this._getAnchor();this._zoomAnimated?tt(this._container,t.add(o)):r=r.add(t).add(o);var l=this._containerBottom=-r.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+r.x;this._container.style.bottom=l+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Oe.include({_initOverlay:function(t,r,o,l){var d=r;return d instanceof t||(d=new t(l).setContent(r)),o&&d.setLatLng(o),d}}),Gt.include({_initOverlay:function(t,r,o,l){var d=o;return d instanceof t?(Y(d,l),d._source=this):(d=r&&!l?r:new t(l,this),d.setContent(o)),d}});var Yi=en.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,en.prototype.openOn.call(this,t)},onAdd:function(t){en.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cn||this._source.on("preclick",Xt))},onRemove:function(t){en.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cn||this._source.off("preclick",Xt))},getEvents:function(){var t=en.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",r=this._container=ke("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=ke("div",t+"-content-wrapper",r);if(this._contentNode=ke("div",t+"-content",o),ni(r),Di(this._contentNode),je(r,"contextmenu",Xt),this._tipContainer=ke("div",t+"-tip-container",r),this._tip=ke("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=ke("a",t+"-close-button",r);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',je(l,"click",function(d){Xe(d),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,r=t.style;r.width="",r.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),r.width=o+1+"px",r.whiteSpace="",r.height="";var l=t.offsetHeight,d=this.options.maxHeight,p="leaflet-popup-scrolled";d&&l>d?(r.height=d+"px",Ce(t,p)):We(t,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();tt(this._container,r.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,r=parseInt(Xr(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+r,l=this._containerWidth,d=new D(this._containerLeft,-o-this._containerBottom);d._add(hn(this._container));var p=t.layerPointToContainerPoint(d),b=R(this.options.autoPanPadding),T=R(this.options.autoPanPaddingTopLeft||b),O=R(this.options.autoPanPaddingBottomRight||b),U=t.getSize(),ne=0,_e=0;p.x+l+O.x>U.x&&(ne=p.x+l-U.x+O.x),p.x-ne-T.x<0&&(ne=p.x-T.x),p.y+o+O.y>U.y&&(_e=p.y+o-U.y+O.y),p.y-_e-T.y<0&&(_e=p.y-T.y),(ne||_e)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([ne,_e]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),br=function(t,r){return new Yi(t,r)};Oe.mergeOptions({closePopupOnClick:!0}),Oe.include({openPopup:function(t,r,o){return this._initOverlay(Yi,t,r,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Gt.include({bindPopup:function(t,r){return this._popup=this._initOverlay(Yi,this._popup,t,r),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof mn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Ut(t);var r=t.layer||t.target;if(this._popup._source===r&&!(r instanceof Cn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=r,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Nr=en.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){en.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){en.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=en.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",r=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",r),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+C(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var r,o,l=this._map,d=this._container,p=l.latLngToContainerPoint(l.getCenter()),b=l.layerPointToContainerPoint(t),T=this.options.direction,O=d.offsetWidth,U=d.offsetHeight,ne=R(this.options.offset),_e=this._getAnchor();T==="top"?(r=O/2,o=U):T==="bottom"?(r=O/2,o=0):T==="center"?(r=O/2,o=U/2):T==="right"?(r=0,o=U/2):T==="left"?(r=O,o=U/2):b.x<p.x?(T="right",r=0,o=U/2):(T="left",r=O+(ne.x+_e.x)*2,o=U/2),t=t.subtract(R(r,o,!0)).add(ne).add(_e),We(d,"leaflet-tooltip-right"),We(d,"leaflet-tooltip-left"),We(d,"leaflet-tooltip-top"),We(d,"leaflet-tooltip-bottom"),Ce(d,"leaflet-tooltip-"+T),tt(d,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&yt(this._container,t)},_animateZoom:function(t){var r=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(r)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),li=function(t,r){return new Nr(t,r)};Oe.include({openTooltip:function(t,r,o){return this._initOverlay(Nr,t,r,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Gt.include({bindTooltip:function(t,r){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Nr,this._tooltip,t,r),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var r=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[r](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof mn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&(je(r,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),je(r,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var r=typeof t.getElement=="function"&&t.getElement();r&&r.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var r=this;this._map.once("moveend",function(){r._openOnceFlag=!1,r._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var r=t.latlng,o,l;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(o),r=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(r)}});var Xi=Gn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var r=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(zi(r),r.appendChild(o.html)):r.innerHTML=o.html!==!1?o.html:"",o.bgPos){var l=R(o.bgPos);r.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(r,"icon"),r},createShadow:function(){return null}});function Jo(t){return new Xi(t)}Gn.Default=_r;var En=Gt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:he.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){Y(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),qe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(dr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=X(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof D?t:new D(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var r=this.getPane().children,o=-t(-1/0,1/0),l=0,d=r.length,p;l<d;l++)p=r[l].style.zIndex,r[l]!==this._container&&p&&(o=t(o,+p));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!he.ielt9){yt(this._container,this.options.opacity);var t=+new Date,r=!1,o=!1;for(var l in this._tiles){var d=this._tiles[l];if(!(!d.current||!d.loaded)){var p=Math.min(1,(t-d.loaded)/200);yt(d.el,p),p<1?r=!0:(d.active?o=!0:this._onOpaqueTile(d),d.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),r&&(ee(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this))}},_onOpaqueTile:A,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,r=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=r-Math.abs(t-o),this._onUpdateLevel(o)):(qe(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var l=this._levels[t],d=this._map;return l||(l=this._levels[t]={},l.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=r,l.origin=d.project(d.unproject(d.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,d.getCenter(),d.getZoom()),A(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:A,_onRemoveLevel:A,_onCreateLevel:A,_pruneTiles:function(){if(this._map){var t,r,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)r=this._tiles[t],r.retain=r.current;for(t in this._tiles)if(r=this._tiles[t],r.current&&!r.active){var l=r.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var r in this._tiles)this._tiles[r].coords.z===t&&this._removeTile(r)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)qe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,r,o,l){var d=Math.floor(t/2),p=Math.floor(r/2),b=o-1,T=new D(+d,+p);T.z=+b;var O=this._tileCoordsToKey(T),U=this._tiles[O];return U&&U.active?(U.retain=!0,!0):(U&&U.loaded&&(U.retain=!0),b>l?this._retainParent(d,p,b,l):!1)},_retainChildren:function(t,r,o,l){for(var d=2*t;d<2*t+2;d++)for(var p=2*r;p<2*r+2;p++){var b=new D(d,p);b.z=o+1;var T=this._tileCoordsToKey(b),O=this._tiles[T];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);o+1<l&&this._retainChildren(d,p,o+1,l)}},_resetView:function(t){var r=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),r,r)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var r=this.options;return r.minNativeZoom!==void 0&&t<r.minNativeZoom?r.minNativeZoom:r.maxNativeZoom!==void 0&&r.maxNativeZoom<t?r.maxNativeZoom:t},_setView:function(t,r,o,l){var d=Math.round(r);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var p=this.options.updateWhenZooming&&d!==this._tileZoom;(!l||p)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,r)},_setZoomTransforms:function(t,r){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,r)},_setZoomTransform:function(t,r,o){var l=this._map.getZoomScale(o,t.zoom),d=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(r,o)).round();he.any3d?Zt(t.el,d,l):tt(t.el,d)},_resetGrid:function(){var t=this._map,r=t.options.crs,o=this._tileSize=this.getTileSize(),l=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=r.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,r.wrapLng[0]],l).x/o.x),Math.ceil(t.project([0,r.wrapLng[1]],l).x/o.y)],this._wrapY=r.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([r.wrapLat[0],0],l).y/o.x),Math.ceil(t.project([r.wrapLat[1],0],l).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var r=this._map,o=r._animatingZoom?Math.max(r._animateToZoom,r.getZoom()):r.getZoom(),l=r.getZoomScale(o,this._tileZoom),d=r.project(t,this._tileZoom).floor(),p=r.getSize().divideBy(l*2);return new j(d.subtract(p),d.add(p))},_update:function(t){var r=this._map;if(r){var o=this._clampZoom(r.getZoom());if(t===void 0&&(t=r.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),d=this._pxBoundsToTileRange(l),p=d.getCenter(),b=[],T=this.options.keepBuffer,O=new j(d.getBottomLeft().subtract([T,-T]),d.getTopRight().add([T,-T]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var U in this._tiles){var ne=this._tiles[U].coords;(ne.z!==this._tileZoom||!O.contains(new D(ne.x,ne.y)))&&(this._tiles[U].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var _e=d.min.y;_e<=d.max.y;_e++)for(var Ee=d.min.x;Ee<=d.max.x;Ee++){var ut=new D(Ee,_e);if(ut.z=this._tileZoom,!!this._isValidTile(ut)){var it=this._tiles[this._tileCoordsToKey(ut)];it?it.current=!0:b.push(ut)}}if(b.sort(function(bt,kr){return bt.distanceTo(p)-kr.distanceTo(p)}),b.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Et=document.createDocumentFragment();for(Ee=0;Ee<b.length;Ee++)this._addTile(b[Ee],Et);this._level.el.appendChild(Et)}}}},_isValidTile:function(t){var r=this._map.options.crs;if(!r.infinite){var o=this._globalTileRange;if(!r.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!r.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return ge(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var r=this._map,o=this.getTileSize(),l=t.scaleBy(o),d=l.add(o),p=r.unproject(l,t.z),b=r.unproject(d,t.z);return[p,b]},_tileCoordsToBounds:function(t){var r=this._tileCoordsToNwSe(t),o=new xe(r[0],r[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var r=t.split(":"),o=new D(+r[0],+r[1]);return o.z=+r[2],o},_removeTile:function(t){var r=this._tiles[t];r&&(qe(r.el),delete this._tiles[t],this.fire("tileunload",{tile:r.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ce(t,"leaflet-tile");var r=this.getTileSize();t.style.width=r.x+"px",t.style.height=r.y+"px",t.onselectstart=A,t.onmousemove=A,he.ielt9&&this.options.opacity<1&&yt(t,this.options.opacity)},_addTile:function(t,r){var o=this._getTilePos(t),l=this._tileCoordsToKey(t),d=this.createTile(this._wrapCoords(t),E(this._tileReady,this,t));this._initTile(d),this.createTile.length<2&&_(E(this._tileReady,this,t,null,d)),tt(d,o),this._tiles[l]={el:d,coords:t,current:!0},r.appendChild(d),this.fire("tileloadstart",{tile:d,coords:t})},_tileReady:function(t,r,o){r&&this.fire("tileerror",{error:r,tile:o,coords:t});var l=this._tileCoordsToKey(t);o=this._tiles[l],o&&(o.loaded=+new Date,this._map._fadeAnimated?(yt(o.el,0),ee(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),r||(Ce(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),he.ielt9||!this._map._fadeAnimated?_(this._pruneTiles,this):setTimeout(E(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var r=new D(this._wrapX?G(t.x,this._wrapX):t.x,this._wrapY?G(t.y,this._wrapY):t.y);return r.z=t.z,r},_pxBoundsToTileRange:function(t){var r=this.getTileSize();return new j(t.min.unscaleBy(r).floor(),t.max.unscaleBy(r).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function jr(t){return new En(t)}var Ln=En.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,r){this._url=t,r=Y(this,r),r.detectRetina&&he.retina&&r.maxZoom>0?(r.tileSize=Math.floor(r.tileSize/2),r.zoomReverse?(r.zoomOffset--,r.minZoom=Math.min(r.maxZoom,r.minZoom+1)):(r.zoomOffset++,r.maxZoom=Math.max(r.minZoom,r.maxZoom-1)),r.minZoom=Math.max(0,r.minZoom)):r.zoomReverse?r.minZoom=Math.min(r.maxZoom,r.minZoom):r.maxZoom=Math.max(r.minZoom,r.maxZoom),typeof r.subdomains=="string"&&(r.subdomains=r.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,r){return this._url===t&&r===void 0&&(r=!0),this._url=t,r||this.redraw(),this},createTile:function(t,r){var o=document.createElement("img");return je(o,"load",E(this._tileOnLoad,this,r,o)),je(o,"error",E(this._tileOnError,this,r,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(t),o},getTileUrl:function(t){var r={r:he.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(r.y=o),r["-y"]=o}return se(this._url,x(r,this.options))},_tileOnLoad:function(t,r){he.ielt9?setTimeout(E(t,this,null,r),0):t(null,r)},_tileOnError:function(t,r,o){var l=this.options.errorTileUrl;l&&r.getAttribute("src")!==l&&(r.src=l),t(o,r)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,r=this.options.maxZoom,o=this.options.zoomReverse,l=this.options.zoomOffset;return o&&(t=r-t),t+l},_getSubdomain:function(t){var r=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[r]},_abortLoading:function(){var t,r;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(r=this._tiles[t].el,r.onload=A,r.onerror=A,!r.complete)){r.src=re;var o=this._tiles[t].coords;qe(r),delete this._tiles[t],this.fire("tileabort",{tile:r,coords:o})}},_removeTile:function(t){var r=this._tiles[t];if(r)return r.el.setAttribute("src",re),En.prototype._removeTile.call(this,t)},_tileReady:function(t,r,o){if(!(!this._map||o&&o.getAttribute("src")===re))return En.prototype._tileReady.call(this,t,r,o)}});function Qs(t,r){return new Ln(t,r)}var ui=Ln.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,r){this._url=t;var o=x({},this.defaultWmsParams);for(var l in r)l in this.options||(o[l]=r[l]);r=Y(this,r);var d=r.detectRetina&&he.retina?2:1,p=this.getTileSize();o.width=p.x*d,o.height=p.y*d,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var r=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[r]=this._crs.code,Ln.prototype.onAdd.call(this,t)},getTileUrl:function(t){var r=this._tileCoordsToNwSe(t),o=this._crs,l=$(o.project(r[0]),o.project(r[1])),d=l.min,p=l.max,b=(this._wmsVersion>=1.3&&this._crs===Wo?[d.y,d.x,p.y,p.x]:[d.x,d.y,p.x,p.y]).join(","),T=Ln.prototype.getTileUrl.call(this,t);return T+B(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+b},setParams:function(t,r){return x(this.wmsParams,t),r||this.redraw(),this}});function ea(t,r){return new ui(t,r)}Ln.WMS=ui,Qs.wms=ea;var tn=Gt.extend({options:{padding:.1},initialize:function(t){Y(this,t),C(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,r){var o=this._map.getZoomScale(r,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,r),p=l.multiplyBy(-o).add(d).subtract(this._map._getNewPixelOrigin(t,r));he.any3d?Zt(this._container,p,o):tt(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,r=this._map.getSize(),o=this._map.containerPointToLayerPoint(r.multiplyBy(-t)).round();this._bounds=new j(o,o.add(r.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ys=tn.extend({options:{tolerance:0},getEvents:function(){var t=tn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){tn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");je(t,"mousemove",this._onMouseMove,this),je(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),je(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){ee(this._redrawRequest),delete this._ctx,qe(this._container),Ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var r in this._layers)t=this._layers[r],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tn.prototype._update.call(this);var t=this._bounds,r=this._container,o=t.getSize(),l=he.retina?2:1;tt(r,t.min),r.width=l*o.x,r.height=l*o.y,r.style.width=o.x+"px",r.style.height=o.y+"px",he.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){tn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[C(t)]=t;var r=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=r),this._drawLast=r,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var r=t._order,o=r.next,l=r.prev;o?o.prev=l:this._drawLast=l,l?l.next=o:this._drawFirst=o,delete t._order,delete this._layers[C(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var r=t.options.dashArray.split(/[, ]+/),o=[],l,d;for(d=0;d<r.length;d++){if(l=Number(r[d]),isNaN(l))return;o.push(l)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||_(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var r=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(t._pxBounds.min.subtract([r,r])),this._redrawBounds.extend(t._pxBounds.max.add([r,r]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var r=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,r.x,r.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,r=this._redrawBounds;if(this._ctx.save(),r){var o=r.getSize();this._ctx.beginPath(),this._ctx.rect(r.min.x,r.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!r||t._pxBounds&&t._pxBounds.intersects(r))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,r){if(this._drawing){var o,l,d,p,b=t._parts,T=b.length,O=this._ctx;if(T){for(O.beginPath(),o=0;o<T;o++){for(l=0,d=b[o].length;l<d;l++)p=b[o][l],O[l?"lineTo":"moveTo"](p.x,p.y);r&&O.closePath()}this._fillStroke(O,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var r=t._point,o=this._ctx,l=Math.max(Math.round(t._radius),1),d=(Math.max(Math.round(t._radiusY),1)||l)/l;d!==1&&(o.save(),o.scale(1,d)),o.beginPath(),o.arc(r.x,r.y/d,l,0,Math.PI*2,!1),d!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,r){var o=r.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(r.options&&r.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var r=this._map.mouseEventToLayerPoint(t),o,l,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(r)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(l=o);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var r=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,r)}},_handleMouseOut:function(t){var r=this._hoveredLayer;r&&(We(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,r){if(!this._mouseHoverThrottled){for(var o,l,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(r)&&(l=o);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(E(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,r,o){this._map._fireDOMEvent(r,o||r.type,t)},_bringToFront:function(t){var r=t._order;if(r){var o=r.next,l=r.prev;if(o)o.prev=l;else return;l?l.next=o:o&&(this._drawFirst=o),r.prev=this._drawLast,this._drawLast.next=r,r.next=null,this._drawLast=r,this._requestRedraw(t)}},_bringToBack:function(t){var r=t._order;if(r){var o=r.next,l=r.prev;if(l)l.next=o;else return;o?o.prev=l:l&&(this._drawLast=l),r.prev=null,r.next=this._drawFirst,this._drawFirst.prev=r,this._drawFirst=r,this._requestRedraw(t)}}});function Xs(t){return he.canvas?new Ys(t):null}var Pr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ta={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(tn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var r=t._container=Pr("shape");Ce(r,"leaflet-vml-shape "+(this.options.className||"")),r.coordsize="1 1",t._path=Pr("path"),r.appendChild(t._path),this._updateStyle(t),this._layers[C(t)]=t},_addPath:function(t){var r=t._container;this._container.appendChild(r),t.options.interactive&&t.addInteractiveTarget(r)},_removePath:function(t){var r=t._container;qe(r),t.removeInteractiveTarget(r),delete this._layers[C(t)]},_updateStyle:function(t){var r=t._stroke,o=t._fill,l=t.options,d=t._container;d.stroked=!!l.stroke,d.filled=!!l.fill,l.stroke?(r||(r=t._stroke=Pr("stroke")),d.appendChild(r),r.weight=l.weight+"px",r.color=l.color,r.opacity=l.opacity,l.dashArray?r.dashStyle=fe(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):r.dashStyle="",r.endcap=l.lineCap.replace("butt","flat"),r.joinstyle=l.lineJoin):r&&(d.removeChild(r),t._stroke=null),l.fill?(o||(o=t._fill=Pr("fill")),d.appendChild(o),o.color=l.fillColor||l.color,o.opacity=l.fillOpacity):o&&(d.removeChild(o),t._fill=null)},_updateCircle:function(t){var r=t._point.round(),o=Math.round(t._radius),l=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+r.x+","+r.y+" "+o+","+l+" 0,"+65535*360)},_setPath:function(t,r){t._path.v=r},_bringToFront:function(t){dr(t._container)},_bringToBack:function(t){dn(t._container)}},Vt=he.vml?Pr:xs,Wn=tn.extend({_initContainer:function(){this._container=Vt("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Vt("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),Ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){tn.prototype._update.call(this);var t=this._bounds,r=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(r))&&(this._svgSize=r,o.setAttribute("width",r.x),o.setAttribute("height",r.y)),tt(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,r.x,r.y].join(" ")),this.fire("update")}},_initPath:function(t){var r=t._path=Vt("path");t.options.className&&Ce(r,t.options.className),t.options.interactive&&Ce(r,"leaflet-interactive"),this._updateStyle(t),this._layers[C(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){qe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[C(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var r=t._path,o=t.options;r&&(o.stroke?(r.setAttribute("stroke",o.color),r.setAttribute("stroke-opacity",o.opacity),r.setAttribute("stroke-width",o.weight),r.setAttribute("stroke-linecap",o.lineCap),r.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?r.setAttribute("stroke-dasharray",o.dashArray):r.removeAttribute("stroke-dasharray"),o.dashOffset?r.setAttribute("stroke-dashoffset",o.dashOffset):r.removeAttribute("stroke-dashoffset")):r.setAttribute("stroke","none"),o.fill?(r.setAttribute("fill",o.fillColor||o.color),r.setAttribute("fill-opacity",o.fillOpacity),r.setAttribute("fill-rule",o.fillRule||"evenodd")):r.setAttribute("fill","none"))},_updatePoly:function(t,r){this._setPath(t,_s(t._parts,r))},_updateCircle:function(t){var r=t._point,o=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||o,d="a"+o+","+l+" 0 1,0 ",p=t._empty()?"M0 0":"M"+(r.x-o)+","+r.y+d+o*2+",0 "+d+-o*2+",0 ";this._setPath(t,p)},_setPath:function(t,r){t._path.setAttribute("d",r)},_bringToFront:function(t){dr(t._path)},_bringToBack:function(t){dn(t._path)}});he.vml&&Wn.include(ta);function Ji(t){return he.svg||he.vml?new Wn(t):null}Oe.include({getRenderer:function(t){var r=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return r||(r=this._renderer=this._createRenderer()),this.hasLayer(r)||this.addLayer(r),r},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var r=this._paneRenderers[t];return r===void 0&&(r=this._createRenderer({pane:t}),this._paneRenderers[t]=r),r},_createRenderer:function(t){return this.options.preferCanvas&&Xs(t)||Ji(t)}});var na=gn.extend({initialize:function(t,r){gn.prototype.initialize.call(this,this._boundsToLatLngs(t),r)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ge(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function hl(t,r){return new na(t,r)}Wn.create=Vt,Wn.pointsToPath=_s,Jt.geometryToLayer=yr,Jt.coordsToLatLng=Vi,Jt.coordsToLatLngs=ai,Jt.latLngToCoords=qi,Jt.latLngsToCoords=Ki,Jt.getFeature=wr,Jt.asFeature=Qi,Oe.mergeOptions({boxZoom:!0});var Sr=zt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),Oi(),this._startPoint=this._map.mouseEventToContainerPoint(t),je(document,{contextmenu:Ut,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var r=new j(this._point,this._startPoint),o=r.getSize();tt(this._box,r.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(qe(this._box),We(this._container,"leaflet-crosshair")),mr(),Ii(),Ue(document,{contextmenu:Ut,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(E(this._resetState,this),0);var r=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(r).fire("boxzoomend",{boxZoomBounds:r})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Oe.addInitHook("addHandler","boxZoom",Sr),Oe.mergeOptions({doubleClickZoom:!0});var ra=zt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var r=this._map,o=r.getZoom(),l=r.options.zoomDelta,d=t.originalEvent.shiftKey?o-l:o+l;r.options.doubleClickZoom==="center"?r.setZoom(d):r.setZoomAround(t.containerPoint,d)}});Oe.addInitHook("addHandler","doubleClickZoom",ra),Oe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Js=zt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Ht(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){We(this._map._container,"leaflet-grab"),We(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var r=ge(this._map.options.maxBounds);this._offsetLimit=$(this._map.latLngToContainerPoint(r.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(r.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var r=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(r),this._prunePositions(r)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),r=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=r.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,r){return t-(t-r)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),r=this._offsetLimit;t.x<r.min.x&&(t.x=this._viscousLimit(t.x,r.min.x)),t.y<r.min.y&&(t.y=this._viscousLimit(t.y,r.min.y)),t.x>r.max.x&&(t.x=this._viscousLimit(t.x,r.max.x)),t.y>r.max.y&&(t.y=this._viscousLimit(t.y,r.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,r=Math.round(t/2),o=this._initialWorldOffset,l=this._draggable._newPos.x,d=(l-r+o)%t+r-o,p=(l+r+o)%t-r-o,b=Math.abs(d+o)<Math.abs(p+o)?d:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=b},_onDragEnd:function(t){var r=this._map,o=r.options,l=!o.inertia||t.noInertia||this._times.length<2;if(r.fire("dragend",t),l)r.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,b=o.easeLinearity,T=d.multiplyBy(b/p),O=T.distanceTo([0,0]),U=Math.min(o.inertiaMaxSpeed,O),ne=T.multiplyBy(U/O),_e=U/(o.inertiaDeceleration*b),Ee=ne.multiplyBy(-_e/2).round();!Ee.x&&!Ee.y?r.fire("moveend"):(Ee=r._limitOffset(Ee,r.options.maxBounds),_(function(){r.panBy(Ee,{duration:_e,easeLinearity:b,noMoveStart:!0,animate:!0})}))}}});Oe.addInitHook("addHandler","dragging",Js),Oe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var eo=zt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),je(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,r=document.documentElement,o=t.scrollTop||r.scrollTop,l=t.scrollLeft||r.scrollLeft;this._map._container.focus(),window.scrollTo(l,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var r=this._panKeys={},o=this.keyCodes,l,d;for(l=0,d=o.left.length;l<d;l++)r[o.left[l]]=[-1*t,0];for(l=0,d=o.right.length;l<d;l++)r[o.right[l]]=[t,0];for(l=0,d=o.down.length;l<d;l++)r[o.down[l]]=[0,t];for(l=0,d=o.up.length;l<d;l++)r[o.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var r=this._zoomKeys={},o=this.keyCodes,l,d;for(l=0,d=o.zoomIn.length;l<d;l++)r[o.zoomIn[l]]=t;for(l=0,d=o.zoomOut.length;l<d;l++)r[o.zoomOut[l]]=-t},_addHooks:function(){je(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var r=t.keyCode,o=this._map,l;if(r in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(l=this._panKeys[r],t.shiftKey&&(l=R(l).multiplyBy(3)),o.options.maxBounds&&(l=o._limitOffset(R(l),o.options.maxBounds)),o.options.worldCopyJump){var d=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(l)));o.panTo(d)}else o.panBy(l)}else if(r in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[r]);else if(r===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;Ut(t)}}});Oe.addInitHook("addHandler","keyboard",eo),Oe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var He=zt.extend({addHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var r=Do(t),o=this._map.options.wheelDebounceTime;this._delta+=r,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(E(this._performZoom,this),l),Ut(t)},_performZoom:function(){var t=this._map,r=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=o?Math.ceil(d/o)*o:d,b=t._limitZoom(r+(this._delta>0?p:-p))-r;this._delta=0,this._startTime=null,b&&(t.options.scrollWheelZoom==="center"?t.setZoom(r+b):t.setZoomAround(this._lastMousePos,r+b))}});Oe.addInitHook("addHandler","scrollWheelZoom",He);var to=600;Oe.mergeOptions({tapHold:he.touchNative&&he.safari&&he.mobile,tapTolerance:15});var ci=zt.extend({addHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var r=t.touches[0];this._startPos=this._newPos=new D(r.clientX,r.clientY),this._holdTimeout=setTimeout(E(function(){this._cancel(),this._isTapValid()&&(je(document,"touchend",Xe),je(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",r))},this),to),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Ue(document,"touchend",Xe),Ue(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)},_onMove:function(t){var r=t.touches[0];this._newPos=new D(r.clientX,r.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,r){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:r.screenX,screenY:r.screenY,clientX:r.clientX,clientY:r.clientY});o._simulated=!0,r.target.dispatchEvent(o)}});Oe.addInitHook("addHandler","tapHold",ci),Oe.mergeOptions({touchZoom:he.touch,bounceAtZoomLimits:!0});var Cr=zt.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){We(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var r=this._map;if(!(!t.touches||t.touches.length!==2||r._animatingZoom||this._zooming)){var o=r.mouseEventToContainerPoint(t.touches[0]),l=r.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=r.getSize()._divideBy(2),this._startLatLng=r.containerPointToLatLng(this._centerPoint),r.options.touchZoom!=="center"&&(this._pinchStartLatLng=r.containerPointToLatLng(o.add(l)._divideBy(2))),this._startDist=o.distanceTo(l),this._startZoom=r.getZoom(),this._moved=!1,this._zooming=!0,r._stop(),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),Xe(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var r=this._map,o=r.mouseEventToContainerPoint(t.touches[0]),l=r.mouseEventToContainerPoint(t.touches[1]),d=o.distanceTo(l)/this._startDist;if(this._zoom=r.getScaleZoom(d,this._startZoom),!r.options.bounceAtZoomLimits&&(this._zoom<r.getMinZoom()&&d<1||this._zoom>r.getMaxZoom()&&d>1)&&(this._zoom=r._limitZoom(this._zoom)),r.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var p=o._add(l)._divideBy(2)._subtract(this._centerPoint);if(d===1&&p.x===0&&p.y===0)return;this._center=r.unproject(r.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(r._moveStart(!0,!1),this._moved=!0),ee(this._animRequest);var b=E(r._move,r,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_(b,this,!0),Xe(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ee(this._animRequest),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Oe.addInitHook("addHandler","touchZoom",Cr),Oe.BoxZoom=Sr,Oe.DoubleClickZoom=ra,Oe.Drag=Js,Oe.Keyboard=eo,Oe.ScrollWheelZoom=He,Oe.TapHold=ci,Oe.TouchZoom=Cr,h.Bounds=j,h.Browser=he,h.CRS=Re,h.Canvas=Ys,h.Circle=Gi,h.CircleMarker=Hi,h.Class=ve,h.Control=Ct,h.DivIcon=Xi,h.DivOverlay=en,h.DomEvent=Bi,h.DomUtil=ti,h.Draggable=Ht,h.Evented=Le,h.FeatureGroup=mn,h.GeoJSON=Jt,h.GridLayer=En,h.Handler=zt,h.Icon=Gn,h.ImageOverlay=kn,h.LatLng=de,h.LatLngBounds=xe,h.Layer=Gt,h.LayerGroup=Sn,h.LineUtil=Go,h.Map=Oe,h.Marker=pn,h.Mixin=Ds,h.Path=Cn,h.Point=D,h.PolyUtil=tl,h.Polygon=gn,h.Polyline=kt,h.Popup=Yi,h.PosAnimation=Fi,h.Projection=ol,h.Rectangle=na,h.Renderer=tn,h.SVG=Wn,h.SVGOverlay=qs,h.TileLayer=Ln,h.Tooltip=Nr,h.Transformation=ir,h.Util=F,h.VideoOverlay=Vs,h.bind=E,h.bounds=$,h.canvas=Xs,h.circle=oi,h.circleMarker=Ko,h.control=Pn,h.divIcon=Jo,h.extend=x,h.featureGroup=Vo,h.geoJSON=Qo,h.geoJson=Wt,h.gridLayer=jr,h.icon=qo,h.imageOverlay=Yo,h.latLng=oe,h.latLngBounds=ge,h.layerGroup=si,h.map=jn,h.marker=ul,h.point=R,h.polygon=dl,h.polyline=cl,h.popup=br,h.rectangle=hl,h.setOptions=Y,h.stamp=C,h.svg=Ji,h.svgOverlay=Ks,h.tileLayer=Qs,h.tooltip=li,h.transformation=sr,h.version=w,h.videoOverlay=Xo;var ia=window.L;h.noConflict=function(){return window.L=ia,this},window.L=h}))})(_o,_o.exports)),_o.exports}var Of=Af();const pe=Cd(Of);delete pe.Icon.Default.prototype._getIconUrl;pe.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const If=()=>{const m=at(),{user:g}=k.useContext(cn),h=k.useRef(null),w=k.useRef(null),x=k.useRef(null),S=[{nome:"Martim Moniz",lat:38.71565,lng:-9.13602,ordem:1},{nome:"Socorro",lat:38.71398,lng:-9.13245,ordem:2},{nome:"Lg. Terreirinho",lat:38.71345,lng:-9.13145,ordem:3},{nome:"R. Lagares",lat:38.71298,lng:-9.13042,ordem:4},{nome:"S. Tomé",lat:38.71245,lng:-9.12945,ordem:5},{nome:"Lg. Portas Sol",lat:38.71198,lng:-9.12845,ordem:6},{nome:"Sta. Luzia",lat:38.71145,lng:-9.12742,ordem:7},{nome:"Limoeiro",lat:38.71098,lng:-9.12645,ordem:8},{nome:"Sé",lat:38.71045,lng:-9.13345,ordem:9},{nome:"R. Conceição",lat:38.70998,lng:-9.13545,ordem:10},{nome:"Lg. Academia Nac. Belas Artes",lat:38.70945,lng:-9.13745,ordem:11},{nome:"R. Serpa Pinto",lat:38.70898,lng:-9.13945,ordem:12},{nome:"Chiado",lat:38.71098,lng:-9.14145,ordem:13},{nome:"Pç. Luís Camões",lat:38.71045,lng:-9.14345,ordem:14}],[E,Z]=k.useState([{chapa:"12E/14",tripulante:"João Silva (18002)",lat:38.71398,lng:-9.13245,gpsAtivo:!0,ultimaAtualizacao:new Date,proximaRendicao:"16:30"},{chapa:"12E/7",tripulante:"Maria Santos (18003)",lat:null,lng:null,gpsAtivo:!1,paragem:6,proximaRendicao:"17:00"},{chapa:"12E/1",tripulante:"Pedro Costa (180939)",lat:38.70898,lng:-9.13945,gpsAtivo:!0,ultimaAtualizacao:new Date,proximaRendicao:"15:45"}]),[C,X]=k.useState(null),[G,A]=k.useState(!1),[H,q]=k.useState(null),[W,Y]=k.useState({chapa:"12E/14",local:"Martim Moniz",hora:"16:30",tripulanteAtual:"João Silva (18002)"}),[B,te]=k.useState([{texto:"Cheguei ao Martim Moniz para rendição",hora:"14:41 27/09",autor:"180939",tipo:"checkin"},{texto:"Caminho livre em todo o percurso",hora:"14:42 27/09",autor:"18002",tipo:"info"}]),[se,fe]=k.useState(""),[be,re]=k.useState(!0),Te=()=>{if(!navigator.geolocation){q("GPS não disponível neste dispositivo");return}A(!0),q(null),x.current=navigator.geolocation.watchPosition(v=>{const _={lat:v.coords.latitude,lng:v.coords.longitude,accuracy:v.coords.accuracy,timestamp:new Date};X(_),console.log("Localização atualizada:",_),Z(ee=>ee.map(F=>F.tripulante.includes(g==null?void 0:g.numero)?{...F,lat:_.lat,lng:_.lng,gpsAtivo:!0,ultimaAtualizacao:new Date}:F))},v=>{console.error("Erro GPS:",v),q("Erro ao obter localização: "+v.message),A(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},ze=()=>{x.current&&(navigator.geolocation.clearWatch(x.current),x.current=null),A(!1),X(null),console.log("Partilha de GPS parada")},Ie=v=>{const _=new Date,ee=`${_.getHours()}:${_.getMinutes().toString().padStart(2,"0")} ${_.getDate()}/${_.getMonth()+1}`,F={texto:`Cheguei ao ${v} para rendição`,hora:ee,autor:(g==null?void 0:g.numero)||"180001",tipo:"checkin"};te([F,...B]),alert(`✅ Check-in registado!

Notificação enviada para ${W.tripulanteAtual}`)};k.useEffect(()=>{if(!h.current||w.current)return;const v=pe.map(h.current).setView([38.71298,-9.13345],14);pe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(v);const _=S.map(F=>[F.lat,F.lng]),ee=pe.polyline(_,{color:"#6B7280",weight:3,opacity:.5,dashArray:"5, 10"}).addTo(v);return S.forEach((F,ve)=>{const Ne=ve===0||ve===S.length-1;pe.circleMarker([F.lat,F.lng],{radius:Ne?6:4,fillColor:Ne?"#9333EA":"#D1D5DB",color:"#fff",weight:1,opacity:.8,fillOpacity:.6}).addTo(v).bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${F.nome}</strong><br/>
          <span style="font-size: 12px; color: #666;">
            ${Ne?"Terminal":"Paragem"} ${F.ordem}
          </span>
        </div>
      `)}),v.fitBounds(ee.getBounds(),{padding:[50,50]}),w.current=v,()=>{w.current&&(w.current.remove(),w.current=null)}},[]),k.useEffect(()=>{if(!w.current)return;const v=w.current;v.eachLayer(_=>{_.options&&_.options.isVehicle&&v.removeLayer(_)}),E.forEach(_=>{let ee,F,ve=!1;if(_.gpsAtivo&&_.lat&&_.lng)ee=_.lat,F=_.lng;else if(_.paragem!==void 0){const R=S[_.paragem];ee=R.lat,F=R.lng,ve=!0}else return;const Ne=_.gpsAtivo?"#3B82F6":"#9CA3AF",Se=_.gpsAtivo?"#1D4ED8":"#6B7280",Le=pe.marker([ee,F],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: ${Ne};
              color: white;
              border-radius: 50%;
              width: 40px;
              height: 40px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: bold;
              font-size: 12px;
              border: 3px solid ${Se};
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              ${ve?"opacity: 0.6;":""}
            ">
              ${_.gpsAtivo?"📍":"⏱️"}
            </div>
            <div style="
              position: absolute;
              top: 45px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 2px 6px;
              border-radius: 4px;
              font-size: 11px;
              font-weight: bold;
              white-space: nowrap;
              box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            ">
              ${_.chapa}
            </div>
          `,iconSize:[40,40],iconAnchor:[20,20]}),isVehicle:!0}).addTo(v),D=_.gpsAtivo?"🔵 GPS Ativo":"⚪ Posição Estimada",le=_.ultimaAtualizacao?`Última atualização: ${_.ultimaAtualizacao.toLocaleTimeString()}`:"Baseado em horário programado";Le.bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${_.chapa}</strong><br/>
          <span style="font-size: 12px;">
            Tripulante: ${_.tripulante}<br/>
            ${D}<br/>
            <span style="font-size: 11px; color: #666;">${le}</span><br/>
            Próxima rendição: ${_.proximaRendicao}
          </span>
        </div>
      `)}),C&&pe.marker([C.lat,C.lng],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: #10B981;
              color: white;
              border-radius: 50%;
              width: 20px;
              height: 20px;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 3px solid white;
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              animation: pulse 2s infinite;
            ">
              •
            </div>
          `,iconSize:[20,20],iconAnchor:[10,10]}),isVehicle:!0}).addTo(v).bindPopup("📱 A minha localização")},[E,C]),k.useEffect(()=>()=>{x.current&&navigator.geolocation.clearWatch(x.current)},[]);const Ze=()=>{if(se.trim()){const v=new Date,_=`${v.getHours()}:${v.getMinutes().toString().padStart(2,"0")} ${v.getDate()}/${v.getMonth()+1}`;te([{texto:se,hora:_,autor:(g==null?void 0:g.numero)||"180001",tipo:"info"},...B]),fe("")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center sticky top-0 z-50",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Carreira 12E"}),s.jsx("span",{className:"ml-auto text-sm text-gray-600",children:"Martim Moniz ↔ Pç. Luís Camões"})]}),s.jsxs("main",{className:"p-4 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"📍"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Partilhar Localização"}),G?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"GPS Ativo - Localização a ser partilhada"})]}),C&&s.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Última atualização: ",C.timestamp.toLocaleTimeString(),s.jsx("br",{}),"Precisão: ±",Math.round(C.accuracy),"m"]}),s.jsx("button",{onClick:ze,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"⏹️ Parar Partilha de GPS"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Ative a partilha de localização para que outros tripulantes possam ver onde está o seu elétrico em tempo real."}),s.jsx("button",{onClick:Te,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"🚀 Ativar GPS durante Serviço"})]}),H&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-700",children:["⚠️ ",H]})})]})]})}),W&&s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🔔"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Próxima Rendição"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Chapa:"})," ",W.chapa]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Local:"})," ",W.local]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Hora:"})," ",W.hora]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Tripulante Atual:"})," ",W.tripulanteAtual]})]}),s.jsxs("button",{onClick:()=>Ie(W.local),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:["✅ Cheguei ao ",W.local]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Isto irá notificar automaticamente o tripulante a ser rendido"})]})]})}),be&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Mapa em Tempo Real"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E.filter(v=>v.gpsAtivo).length," elétricos com GPS ativo • ",E.filter(v=>!v.gpsAtivo).length," estimados"]})]}),s.jsx("button",{onClick:()=>re(!1),className:"text-sm text-blue-600 hover:text-blue-800",children:"Ocultar"})]})}),s.jsx("div",{ref:h,style:{height:"450px",width:"100%"},className:"leaflet-container"}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs",children:"📍"}),s.jsxs("span",{children:[s.jsx("strong",{children:"🔵 GPS Ativo"})," - Localização confirmada em tempo real"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs opacity-60",children:"⏱️"}),s.jsxs("span",{children:[s.jsx("strong",{children:"⚪ Posição Estimada"})," - Baseado em horário programado"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-600"}),s.jsx("span",{children:"Terminais (Martim Moniz / Pç. Luís Camões)"})]})]})})]}),!be&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsx("button",{onClick:()=>re(!0),className:"text-blue-600 hover:text-blue-800 font-medium",children:"🗺️ Mostrar Mapa Interativo"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Elétricos em Serviço"}),s.jsx("div",{className:"space-y-3",children:E.map((v,_)=>s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"font-bold text-gray-900",children:v.chapa}),v.gpsAtivo?s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"🔵 GPS Ativo"}):s.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full font-medium",children:"⚪ Estimado"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tripulante: ",v.tripulante]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Próxima rendição: ",v.proximaRendicao]}),v.ultimaAtualizacao&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Atualizado: ",v.ultimaAtualizacao.toLocaleTimeString()]})]})})},_))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Observações e Check-ins"}),s.jsx("div",{className:"space-y-3 mb-4",children:B.map((v,_)=>s.jsxs("div",{className:`p-3 rounded-lg ${v.tipo==="checkin"?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[v.tipo==="checkin"&&s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"✅ CHECK-IN"})}),s.jsx("p",{className:"text-gray-800",children:v.texto}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.hora," | ",v.autor]})]},_))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:se,onChange:v=>fe(v.target.value),onKeyPress:v=>v.key==="Enter"&&Ze(),placeholder:"Adicionar observação...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:Ze,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"➕"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"As observações são apagadas automaticamente todos os dias às 3h da manhã."})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🤖"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Chat AI - Carreira 12E"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Olá! Sou o assistente da Carreira 12E. Posso ajudar com:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[s.jsx("li",{children:"• Horários e frequências da 12E"}),s.jsx("li",{children:"• Estado das paragens"}),s.jsx("li",{children:"• Interrupções de serviço"}),s.jsx("li",{children:"• Informações sobre esta carreira"})]}),s.jsx("button",{onClick:()=>m("/chat-carreira?carreira=12E"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Iniciar Chat"})]})]})})]}),s.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.8;
          }
        }
      `})]})};delete pe.Icon.Default.prototype._getIconUrl;pe.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Rf=()=>{const m=at(),{user:g}=k.useContext(cn),h=k.useRef(null),w=k.useRef(null),x=k.useRef(null),S=[{nome:"Praça da Figueira",lat:38.71398,lng:-9.13698,ordem:1},{nome:"Rua da Conceição",lat:38.71098,lng:-9.13545,ordem:2},{nome:"Cais do Sodré",lat:38.70645,lng:-9.14445,ordem:3},{nome:"Santos",lat:38.70398,lng:-9.15245,ordem:4},{nome:"Alcântara",lat:38.70198,lng:-9.16045,ordem:5},{nome:"Belém",lat:38.69798,lng:-9.20645,ordem:6},{nome:"Algés",lat:38.69998,lng:-9.22845,ordem:7}],[E,Z]=k.useState([{chapa:"15E/3",tripulante:"Carlos Mendes (18004)",gpsAtivo:!1,proximaRendicao:"14:00",paragem:0},{chapa:"15E/8",tripulante:"Ana Costa (18005)",gpsAtivo:!1,proximaRendicao:"15:30",paragem:3},{chapa:"15E/12",tripulante:"Rui Santos (18006)",gpsAtivo:!1,proximaRendicao:"16:45",paragem:5}]),[C,X]=k.useState(null),[G,A]=k.useState(!1),[H,q]=k.useState(null),[W,Y]=k.useState({chapa:"15E/3",local:"Praça da Figueira",hora:"16:30",tripulanteAtual:"Carlos Mendes (18004)"}),[B,te]=k.useState([{texto:"Sistema de localização GPS ativo",hora:"14:41 27/09",autor:"Sistema",tipo:"info"}]),[se,fe]=k.useState(""),[be,re]=k.useState(!0),Te=()=>{if(!navigator.geolocation){q("GPS não disponível neste dispositivo");return}A(!0),q(null),x.current=navigator.geolocation.watchPosition(v=>{const _={lat:v.coords.latitude,lng:v.coords.longitude,accuracy:v.coords.accuracy,timestamp:new Date};X(_),console.log("Localização atualizada:",_),Z(ee=>ee.map(F=>F.tripulante.includes(g==null?void 0:g.numero)?{...F,lat:_.lat,lng:_.lng,gpsAtivo:!0,ultimaAtualizacao:new Date}:F))},v=>{console.error("Erro GPS:",v),q("Erro ao obter localização: "+v.message),A(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},ze=()=>{x.current&&(navigator.geolocation.clearWatch(x.current),x.current=null),A(!1),X(null),console.log("Partilha de GPS parada")},Ie=v=>{const _=new Date,ee=`${_.getHours()}:${_.getMinutes().toString().padStart(2,"0")} ${_.getDate()}/${_.getMonth()+1}`,F={texto:`Cheguei ao ${v} para rendição`,hora:ee,autor:(g==null?void 0:g.numero)||"180001",tipo:"checkin"};te([F,...B]),alert(`✅ Check-in registado!

Notificação enviada para ${W.tripulanteAtual}`)};k.useEffect(()=>{if(!h.current||w.current)return;const v=pe.map(h.current).setView([38.70504714285714,-9.166382857142858],13);pe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(v);const _=S.map(F=>[F.lat,F.lng]),ee=pe.polyline(_,{color:"#6B7280",weight:3,opacity:.5,dashArray:"5, 10"}).addTo(v);return S.forEach((F,ve)=>{const Ne=ve===0||ve===S.length-1;pe.circleMarker([F.lat,F.lng],{radius:Ne?6:4,fillColor:Ne?"#9333EA":"#D1D5DB",color:"#fff",weight:1,opacity:.8,fillOpacity:.6}).addTo(v).bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${F.nome}</strong><br/>
          <span style="font-size: 12px; color: #666;">
            ${Ne?"Terminal":"Paragem"} ${F.ordem}
          </span>
        </div>
      `)}),v.fitBounds(ee.getBounds(),{padding:[50,50]}),w.current=v,()=>{w.current&&(w.current.remove(),w.current=null)}},[]),k.useEffect(()=>{if(!w.current)return;const v=w.current;v.eachLayer(_=>{_.options&&_.options.isVehicle&&v.removeLayer(_)}),E.forEach(_=>{let ee,F,ve=!1;if(_.gpsAtivo&&_.lat&&_.lng)ee=_.lat,F=_.lng;else if(_.paragem!==void 0){const R=S[_.paragem];ee=R.lat,F=R.lng,ve=!0}else return;const Ne=_.gpsAtivo?"#3B82F6":"#9CA3AF",Se=_.gpsAtivo?"#1D4ED8":"#6B7280",Le=pe.marker([ee,F],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: ${Ne};
              color: white;
              border-radius: 50%;
              width: 40px;
              height: 40px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: bold;
              font-size: 12px;
              border: 3px solid ${Se};
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              ${ve?"opacity: 0.6;":""}
            ">
              ${_.gpsAtivo?"📍":"⏱️"}
            </div>
            <div style="
              position: absolute;
              top: 45px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 2px 6px;
              border-radius: 4px;
              font-size: 11px;
              font-weight: bold;
              white-space: nowrap;
              box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            ">
              ${_.chapa}
            </div>
          `,iconSize:[40,40],iconAnchor:[20,20]}),isVehicle:!0}).addTo(v),D=_.gpsAtivo?"🔵 GPS Ativo":"⚪ Posição Estimada",le=_.ultimaAtualizacao?`Última atualização: ${_.ultimaAtualizacao.toLocaleTimeString()}`:"Baseado em horário programado";Le.bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${_.chapa}</strong><br/>
          <span style="font-size: 12px;">
            Tripulante: ${_.tripulante}<br/>
            ${D}<br/>
            <span style="font-size: 11px; color: #666;">${le}</span><br/>
            Próxima rendição: ${_.proximaRendicao}
          </span>
        </div>
      `)}),C&&pe.marker([C.lat,C.lng],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: #10B981;
              color: white;
              border-radius: 50%;
              width: 20px;
              height: 20px;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 3px solid white;
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              animation: pulse 2s infinite;
            ">
              •
            </div>
          `,iconSize:[20,20],iconAnchor:[10,10]}),isVehicle:!0}).addTo(v).bindPopup("📱 A minha localização")},[E,C]),k.useEffect(()=>()=>{x.current&&navigator.geolocation.clearWatch(x.current)},[]);const Ze=()=>{if(se.trim()){const v=new Date,_=`${v.getHours()}:${v.getMinutes().toString().padStart(2,"0")} ${v.getDate()}/${v.getMonth()+1}`;te([{texto:se,hora:_,autor:(g==null?void 0:g.numero)||"180001",tipo:"info"},...B]),fe("")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center sticky top-0 z-50",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Carreira 15E"}),s.jsx("span",{className:"ml-auto text-sm text-gray-600",children:"Praça da Figueira ↔ Algés"})]}),s.jsxs("main",{className:"p-4 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"📍"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Partilhar Localização"}),G?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"GPS Ativo - Localização a ser partilhada"})]}),C&&s.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Última atualização: ",C.timestamp.toLocaleTimeString(),s.jsx("br",{}),"Precisão: ±",Math.round(C.accuracy),"m"]}),s.jsx("button",{onClick:ze,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"⏹️ Parar Partilha de GPS"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Ative a partilha de localização para que outros tripulantes possam ver onde está o seu elétrico em tempo real."}),s.jsx("button",{onClick:Te,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"🚀 Ativar GPS durante Serviço"})]}),H&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-700",children:["⚠️ ",H]})})]})]})}),W&&s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🔔"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Próxima Rendição"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Chapa:"})," ",W.chapa]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Local:"})," ",W.local]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Hora:"})," ",W.hora]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Tripulante Atual:"})," ",W.tripulanteAtual]})]}),s.jsxs("button",{onClick:()=>Ie(W.local),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:["✅ Cheguei ao ",W.local]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Isto irá notificar automaticamente o tripulante a ser rendido"})]})]})}),be&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Mapa em Tempo Real"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E.filter(v=>v.gpsAtivo).length," elétricos com GPS ativo • ",E.filter(v=>!v.gpsAtivo).length," estimados"]})]}),s.jsx("button",{onClick:()=>re(!1),className:"text-sm text-blue-600 hover:text-blue-800",children:"Ocultar"})]})}),s.jsx("div",{ref:h,style:{height:"450px",width:"100%"},className:"leaflet-container"}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs",children:"📍"}),s.jsxs("span",{children:[s.jsx("strong",{children:"🔵 GPS Ativo"})," - Localização confirmada em tempo real"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs opacity-60",children:"⏱️"}),s.jsxs("span",{children:[s.jsx("strong",{children:"⚪ Posição Estimada"})," - Baseado em horário programado"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-600"}),s.jsx("span",{children:"Terminais (Praça da Figueira / Algés)"})]})]})})]}),!be&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsx("button",{onClick:()=>re(!0),className:"text-blue-600 hover:text-blue-800 font-medium",children:"🗺️ Mostrar Mapa Interativo"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Elétricos em Serviço"}),s.jsx("div",{className:"space-y-3",children:E.map((v,_)=>s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"font-bold text-gray-900",children:v.chapa}),v.gpsAtivo?s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"🔵 GPS Ativo"}):s.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full font-medium",children:"⚪ Estimado"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tripulante: ",v.tripulante]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Próxima rendição: ",v.proximaRendicao]}),v.ultimaAtualizacao&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Atualizado: ",v.ultimaAtualizacao.toLocaleTimeString()]})]})})},_))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Observações e Check-ins"}),s.jsx("div",{className:"space-y-3 mb-4",children:B.map((v,_)=>s.jsxs("div",{className:`p-3 rounded-lg ${v.tipo==="checkin"?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[v.tipo==="checkin"&&s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"✅ CHECK-IN"})}),s.jsx("p",{className:"text-gray-800",children:v.texto}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.hora," | ",v.autor]})]},_))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:se,onChange:v=>fe(v.target.value),onKeyPress:v=>v.key==="Enter"&&Ze(),placeholder:"Adicionar observação...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:Ze,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"➕"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"As observações são apagadas automaticamente todos os dias às 3h da manhã."})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🤖"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Chat AI - Carreira 15E"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Olá! Sou o assistente da Carreira 15E. Posso ajudar com:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[s.jsx("li",{children:"• Horários e frequências da 15E"}),s.jsx("li",{children:"• Estado das paragens"}),s.jsx("li",{children:"• Interrupções de serviço"}),s.jsx("li",{children:"• Informações sobre esta carreira"})]}),s.jsx("button",{onClick:()=>m("/chat-carreira?carreira=15E"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Iniciar Chat"})]})]})})]}),s.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.8;
          }
        }
      `})]})};delete pe.Icon.Default.prototype._getIconUrl;pe.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Df=()=>{const m=at(),{user:g}=k.useContext(cn),h=k.useRef(null),w=k.useRef(null),x=k.useRef(null),S=[{nome:"Ajuda",lat:38.70398,lng:-9.19845,ordem:1},{nome:"Belém",lat:38.69798,lng:-9.20645,ordem:2},{nome:"Alcântara",lat:38.70198,lng:-9.16045,ordem:3},{nome:"Estrela",lat:38.71398,lng:-9.15845,ordem:4},{nome:"Rato",lat:38.71898,lng:-9.15245,ordem:5},{nome:"Amoreiras",lat:38.72198,lng:-9.15045,ordem:6},{nome:"Camões",lat:38.71045,lng:-9.14345,ordem:7},{nome:"Graça",lat:38.71898,lng:-9.12845,ordem:8},{nome:"Senhora do Monte",lat:38.72198,lng:-9.12645,ordem:9}],[E,Z]=k.useState([{chapa:"18E/5",tripulante:"Miguel Pereira (18007)",gpsAtivo:!1,proximaRendicao:"14:30",paragem:1},{chapa:"18E/9",tripulante:"Sofia Alves (18008)",gpsAtivo:!1,proximaRendicao:"16:00",paragem:4}]),[C,X]=k.useState(null),[G,A]=k.useState(!1),[H,q]=k.useState(null),[W,Y]=k.useState({chapa:"18E/5",local:"Ajuda",hora:"16:30",tripulanteAtual:"Miguel Pereira (18007)"}),[B,te]=k.useState([{texto:"Sistema de localização GPS ativo",hora:"14:41 27/09",autor:"Sistema",tipo:"info"}]),[se,fe]=k.useState(""),[be,re]=k.useState(!0),Te=()=>{if(!navigator.geolocation){q("GPS não disponível neste dispositivo");return}A(!0),q(null),x.current=navigator.geolocation.watchPosition(v=>{const _={lat:v.coords.latitude,lng:v.coords.longitude,accuracy:v.coords.accuracy,timestamp:new Date};X(_),console.log("Localização atualizada:",_),Z(ee=>ee.map(F=>F.tripulante.includes(g==null?void 0:g.numero)?{...F,lat:_.lat,lng:_.lng,gpsAtivo:!0,ultimaAtualizacao:new Date}:F))},v=>{console.error("Erro GPS:",v),q("Erro ao obter localização: "+v.message),A(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},ze=()=>{x.current&&(navigator.geolocation.clearWatch(x.current),x.current=null),A(!1),X(null),console.log("Partilha de GPS parada")},Ie=v=>{const _=new Date,ee=`${_.getHours()}:${_.getMinutes().toString().padStart(2,"0")} ${_.getDate()}/${_.getMonth()+1}`,F={texto:`Cheguei ao ${v} para rendição`,hora:ee,autor:(g==null?void 0:g.numero)||"180001",tipo:"checkin"};te([F,...B]),alert(`✅ Check-in registado!

Notificação enviada para ${W.tripulanteAtual}`)};k.useEffect(()=>{if(!h.current||w.current)return;const v=pe.map(h.current).setView([38.71225444444445,-9.158338888888888],13);pe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(v);const _=S.map(F=>[F.lat,F.lng]),ee=pe.polyline(_,{color:"#6B7280",weight:3,opacity:.5,dashArray:"5, 10"}).addTo(v);return S.forEach((F,ve)=>{const Ne=ve===0||ve===S.length-1;pe.circleMarker([F.lat,F.lng],{radius:Ne?6:4,fillColor:Ne?"#9333EA":"#D1D5DB",color:"#fff",weight:1,opacity:.8,fillOpacity:.6}).addTo(v).bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${F.nome}</strong><br/>
          <span style="font-size: 12px; color: #666;">
            ${Ne?"Terminal":"Paragem"} ${F.ordem}
          </span>
        </div>
      `)}),v.fitBounds(ee.getBounds(),{padding:[50,50]}),w.current=v,()=>{w.current&&(w.current.remove(),w.current=null)}},[]),k.useEffect(()=>{if(!w.current)return;const v=w.current;v.eachLayer(_=>{_.options&&_.options.isVehicle&&v.removeLayer(_)}),E.forEach(_=>{let ee,F,ve=!1;if(_.gpsAtivo&&_.lat&&_.lng)ee=_.lat,F=_.lng;else if(_.paragem!==void 0){const R=S[_.paragem];ee=R.lat,F=R.lng,ve=!0}else return;const Ne=_.gpsAtivo?"#3B82F6":"#9CA3AF",Se=_.gpsAtivo?"#1D4ED8":"#6B7280",Le=pe.marker([ee,F],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: ${Ne};
              color: white;
              border-radius: 50%;
              width: 40px;
              height: 40px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: bold;
              font-size: 12px;
              border: 3px solid ${Se};
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              ${ve?"opacity: 0.6;":""}
            ">
              ${_.gpsAtivo?"📍":"⏱️"}
            </div>
            <div style="
              position: absolute;
              top: 45px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 2px 6px;
              border-radius: 4px;
              font-size: 11px;
              font-weight: bold;
              white-space: nowrap;
              box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            ">
              ${_.chapa}
            </div>
          `,iconSize:[40,40],iconAnchor:[20,20]}),isVehicle:!0}).addTo(v),D=_.gpsAtivo?"🔵 GPS Ativo":"⚪ Posição Estimada",le=_.ultimaAtualizacao?`Última atualização: ${_.ultimaAtualizacao.toLocaleTimeString()}`:"Baseado em horário programado";Le.bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${_.chapa}</strong><br/>
          <span style="font-size: 12px;">
            Tripulante: ${_.tripulante}<br/>
            ${D}<br/>
            <span style="font-size: 11px; color: #666;">${le}</span><br/>
            Próxima rendição: ${_.proximaRendicao}
          </span>
        </div>
      `)}),C&&pe.marker([C.lat,C.lng],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: #10B981;
              color: white;
              border-radius: 50%;
              width: 20px;
              height: 20px;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 3px solid white;
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              animation: pulse 2s infinite;
            ">
              •
            </div>
          `,iconSize:[20,20],iconAnchor:[10,10]}),isVehicle:!0}).addTo(v).bindPopup("📱 A minha localização")},[E,C]),k.useEffect(()=>()=>{x.current&&navigator.geolocation.clearWatch(x.current)},[]);const Ze=()=>{if(se.trim()){const v=new Date,_=`${v.getHours()}:${v.getMinutes().toString().padStart(2,"0")} ${v.getDate()}/${v.getMonth()+1}`;te([{texto:se,hora:_,autor:(g==null?void 0:g.numero)||"180001",tipo:"info"},...B]),fe("")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center sticky top-0 z-50",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Carreira 18E"}),s.jsx("span",{className:"ml-auto text-sm text-gray-600",children:"Ajuda ↔ Senhora do Monte"})]}),s.jsxs("main",{className:"p-4 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"📍"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Partilhar Localização"}),G?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"GPS Ativo - Localização a ser partilhada"})]}),C&&s.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Última atualização: ",C.timestamp.toLocaleTimeString(),s.jsx("br",{}),"Precisão: ±",Math.round(C.accuracy),"m"]}),s.jsx("button",{onClick:ze,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"⏹️ Parar Partilha de GPS"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Ative a partilha de localização para que outros tripulantes possam ver onde está o seu elétrico em tempo real."}),s.jsx("button",{onClick:Te,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"🚀 Ativar GPS durante Serviço"})]}),H&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-700",children:["⚠️ ",H]})})]})]})}),W&&s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🔔"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Próxima Rendição"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Chapa:"})," ",W.chapa]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Local:"})," ",W.local]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Hora:"})," ",W.hora]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Tripulante Atual:"})," ",W.tripulanteAtual]})]}),s.jsxs("button",{onClick:()=>Ie(W.local),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:["✅ Cheguei ao ",W.local]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Isto irá notificar automaticamente o tripulante a ser rendido"})]})]})}),be&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Mapa em Tempo Real"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E.filter(v=>v.gpsAtivo).length," elétricos com GPS ativo • ",E.filter(v=>!v.gpsAtivo).length," estimados"]})]}),s.jsx("button",{onClick:()=>re(!1),className:"text-sm text-blue-600 hover:text-blue-800",children:"Ocultar"})]})}),s.jsx("div",{ref:h,style:{height:"450px",width:"100%"},className:"leaflet-container"}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs",children:"📍"}),s.jsxs("span",{children:[s.jsx("strong",{children:"🔵 GPS Ativo"})," - Localização confirmada em tempo real"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs opacity-60",children:"⏱️"}),s.jsxs("span",{children:[s.jsx("strong",{children:"⚪ Posição Estimada"})," - Baseado em horário programado"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-600"}),s.jsx("span",{children:"Terminais (Ajuda / Senhora do Monte)"})]})]})})]}),!be&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsx("button",{onClick:()=>re(!0),className:"text-blue-600 hover:text-blue-800 font-medium",children:"🗺️ Mostrar Mapa Interativo"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Elétricos em Serviço"}),s.jsx("div",{className:"space-y-3",children:E.map((v,_)=>s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"font-bold text-gray-900",children:v.chapa}),v.gpsAtivo?s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"🔵 GPS Ativo"}):s.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full font-medium",children:"⚪ Estimado"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tripulante: ",v.tripulante]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Próxima rendição: ",v.proximaRendicao]}),v.ultimaAtualizacao&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Atualizado: ",v.ultimaAtualizacao.toLocaleTimeString()]})]})})},_))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Observações e Check-ins"}),s.jsx("div",{className:"space-y-3 mb-4",children:B.map((v,_)=>s.jsxs("div",{className:`p-3 rounded-lg ${v.tipo==="checkin"?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[v.tipo==="checkin"&&s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"✅ CHECK-IN"})}),s.jsx("p",{className:"text-gray-800",children:v.texto}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.hora," | ",v.autor]})]},_))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:se,onChange:v=>fe(v.target.value),onKeyPress:v=>v.key==="Enter"&&Ze(),placeholder:"Adicionar observação...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:Ze,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"➕"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"As observações são apagadas automaticamente todos os dias às 3h da manhã."})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🤖"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Chat AI - Carreira 18E"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Olá! Sou o assistente da Carreira 18E. Posso ajudar com:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[s.jsx("li",{children:"• Horários e frequências da 18E"}),s.jsx("li",{children:"• Estado das paragens"}),s.jsx("li",{children:"• Interrupções de serviço"}),s.jsx("li",{children:"• Informações sobre esta carreira"})]}),s.jsx("button",{onClick:()=>m("/chat-carreira?carreira=18E"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Iniciar Chat"})]})]})})]}),s.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.8;
          }
        }
      `})]})};delete pe.Icon.Default.prototype._getIconUrl;pe.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Bf=()=>{const m=at(),{user:g}=k.useContext(cn),h=k.useRef(null),w=k.useRef(null),x=k.useRef(null),S=[{nome:"Campolide",lat:38.73598,lng:-9.15845,ordem:1},{nome:"Amoreiras",lat:38.72198,lng:-9.15045,ordem:2},{nome:"Rato",lat:38.71898,lng:-9.15245,ordem:3},{nome:"Príncipe Real",lat:38.71598,lng:-9.14845,ordem:4},{nome:"Camões",lat:38.71045,lng:-9.14345,ordem:5},{nome:"Chiado",lat:38.71098,lng:-9.14145,ordem:6},{nome:"Baixa",lat:38.71398,lng:-9.13698,ordem:7},{nome:"Martim Moniz",lat:38.71565,lng:-9.13602,ordem:8},{nome:"Graça",lat:38.71898,lng:-9.12845,ordem:9}],[E,Z]=k.useState([{chapa:"24E/2",tripulante:"Paulo Rodrigues (18009)",gpsAtivo:!1,proximaRendicao:"15:00",paragem:0},{chapa:"24E/7",tripulante:"Teresa Silva (18010)",gpsAtivo:!1,proximaRendicao:"17:00",paragem:5}]),[C,X]=k.useState(null),[G,A]=k.useState(!1),[H,q]=k.useState(null),[W,Y]=k.useState({chapa:"24E/2",local:"Campolide",hora:"16:30",tripulanteAtual:"Paulo Rodrigues (18009)"}),[B,te]=k.useState([{texto:"Sistema de localização GPS ativo",hora:"14:41 27/09",autor:"Sistema",tipo:"info"}]),[se,fe]=k.useState(""),[be,re]=k.useState(!0),Te=()=>{if(!navigator.geolocation){q("GPS não disponível neste dispositivo");return}A(!0),q(null),x.current=navigator.geolocation.watchPosition(v=>{const _={lat:v.coords.latitude,lng:v.coords.longitude,accuracy:v.coords.accuracy,timestamp:new Date};X(_),console.log("Localização atualizada:",_),Z(ee=>ee.map(F=>F.tripulante.includes(g==null?void 0:g.numero)?{...F,lat:_.lat,lng:_.lng,gpsAtivo:!0,ultimaAtualizacao:new Date}:F))},v=>{console.error("Erro GPS:",v),q("Erro ao obter localização: "+v.message),A(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},ze=()=>{x.current&&(navigator.geolocation.clearWatch(x.current),x.current=null),A(!1),X(null),console.log("Partilha de GPS parada")},Ie=v=>{const _=new Date,ee=`${_.getHours()}:${_.getMinutes().toString().padStart(2,"0")} ${_.getDate()}/${_.getMonth()+1}`,F={texto:`Cheguei ao ${v} para rendição`,hora:ee,autor:(g==null?void 0:g.numero)||"180001",tipo:"checkin"};te([F,...B]),alert(`✅ Check-in registado!

Notificação enviada para ${W.tripulanteAtual}`)};k.useEffect(()=>{if(!h.current||w.current)return;const v=pe.map(h.current).setView([38.71810666666667,-9.144016666666667],13);pe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(v);const _=S.map(F=>[F.lat,F.lng]),ee=pe.polyline(_,{color:"#6B7280",weight:3,opacity:.5,dashArray:"5, 10"}).addTo(v);return S.forEach((F,ve)=>{const Ne=ve===0||ve===S.length-1;pe.circleMarker([F.lat,F.lng],{radius:Ne?6:4,fillColor:Ne?"#9333EA":"#D1D5DB",color:"#fff",weight:1,opacity:.8,fillOpacity:.6}).addTo(v).bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${F.nome}</strong><br/>
          <span style="font-size: 12px; color: #666;">
            ${Ne?"Terminal":"Paragem"} ${F.ordem}
          </span>
        </div>
      `)}),v.fitBounds(ee.getBounds(),{padding:[50,50]}),w.current=v,()=>{w.current&&(w.current.remove(),w.current=null)}},[]),k.useEffect(()=>{if(!w.current)return;const v=w.current;v.eachLayer(_=>{_.options&&_.options.isVehicle&&v.removeLayer(_)}),E.forEach(_=>{let ee,F,ve=!1;if(_.gpsAtivo&&_.lat&&_.lng)ee=_.lat,F=_.lng;else if(_.paragem!==void 0){const R=S[_.paragem];ee=R.lat,F=R.lng,ve=!0}else return;const Ne=_.gpsAtivo?"#3B82F6":"#9CA3AF",Se=_.gpsAtivo?"#1D4ED8":"#6B7280",Le=pe.marker([ee,F],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: ${Ne};
              color: white;
              border-radius: 50%;
              width: 40px;
              height: 40px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: bold;
              font-size: 12px;
              border: 3px solid ${Se};
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              ${ve?"opacity: 0.6;":""}
            ">
              ${_.gpsAtivo?"📍":"⏱️"}
            </div>
            <div style="
              position: absolute;
              top: 45px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 2px 6px;
              border-radius: 4px;
              font-size: 11px;
              font-weight: bold;
              white-space: nowrap;
              box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            ">
              ${_.chapa}
            </div>
          `,iconSize:[40,40],iconAnchor:[20,20]}),isVehicle:!0}).addTo(v),D=_.gpsAtivo?"🔵 GPS Ativo":"⚪ Posição Estimada",le=_.ultimaAtualizacao?`Última atualização: ${_.ultimaAtualizacao.toLocaleTimeString()}`:"Baseado em horário programado";Le.bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${_.chapa}</strong><br/>
          <span style="font-size: 12px;">
            Tripulante: ${_.tripulante}<br/>
            ${D}<br/>
            <span style="font-size: 11px; color: #666;">${le}</span><br/>
            Próxima rendição: ${_.proximaRendicao}
          </span>
        </div>
      `)}),C&&pe.marker([C.lat,C.lng],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: #10B981;
              color: white;
              border-radius: 50%;
              width: 20px;
              height: 20px;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 3px solid white;
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              animation: pulse 2s infinite;
            ">
              •
            </div>
          `,iconSize:[20,20],iconAnchor:[10,10]}),isVehicle:!0}).addTo(v).bindPopup("📱 A minha localização")},[E,C]),k.useEffect(()=>()=>{x.current&&navigator.geolocation.clearWatch(x.current)},[]);const Ze=()=>{if(se.trim()){const v=new Date,_=`${v.getHours()}:${v.getMinutes().toString().padStart(2,"0")} ${v.getDate()}/${v.getMonth()+1}`;te([{texto:se,hora:_,autor:(g==null?void 0:g.numero)||"180001",tipo:"info"},...B]),fe("")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center sticky top-0 z-50",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Carreira 24E"}),s.jsx("span",{className:"ml-auto text-sm text-gray-600",children:"Campolide ↔ Graça"})]}),s.jsxs("main",{className:"p-4 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"📍"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Partilhar Localização"}),G?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"GPS Ativo - Localização a ser partilhada"})]}),C&&s.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Última atualização: ",C.timestamp.toLocaleTimeString(),s.jsx("br",{}),"Precisão: ±",Math.round(C.accuracy),"m"]}),s.jsx("button",{onClick:ze,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"⏹️ Parar Partilha de GPS"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Ative a partilha de localização para que outros tripulantes possam ver onde está o seu elétrico em tempo real."}),s.jsx("button",{onClick:Te,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"🚀 Ativar GPS durante Serviço"})]}),H&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-700",children:["⚠️ ",H]})})]})]})}),W&&s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🔔"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Próxima Rendição"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Chapa:"})," ",W.chapa]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Local:"})," ",W.local]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Hora:"})," ",W.hora]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Tripulante Atual:"})," ",W.tripulanteAtual]})]}),s.jsxs("button",{onClick:()=>Ie(W.local),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:["✅ Cheguei ao ",W.local]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Isto irá notificar automaticamente o tripulante a ser rendido"})]})]})}),be&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Mapa em Tempo Real"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E.filter(v=>v.gpsAtivo).length," elétricos com GPS ativo • ",E.filter(v=>!v.gpsAtivo).length," estimados"]})]}),s.jsx("button",{onClick:()=>re(!1),className:"text-sm text-blue-600 hover:text-blue-800",children:"Ocultar"})]})}),s.jsx("div",{ref:h,style:{height:"450px",width:"100%"},className:"leaflet-container"}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs",children:"📍"}),s.jsxs("span",{children:[s.jsx("strong",{children:"🔵 GPS Ativo"})," - Localização confirmada em tempo real"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs opacity-60",children:"⏱️"}),s.jsxs("span",{children:[s.jsx("strong",{children:"⚪ Posição Estimada"})," - Baseado em horário programado"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-600"}),s.jsx("span",{children:"Terminais (Campolide / Graça)"})]})]})})]}),!be&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsx("button",{onClick:()=>re(!0),className:"text-blue-600 hover:text-blue-800 font-medium",children:"🗺️ Mostrar Mapa Interativo"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Elétricos em Serviço"}),s.jsx("div",{className:"space-y-3",children:E.map((v,_)=>s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"font-bold text-gray-900",children:v.chapa}),v.gpsAtivo?s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"🔵 GPS Ativo"}):s.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full font-medium",children:"⚪ Estimado"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tripulante: ",v.tripulante]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Próxima rendição: ",v.proximaRendicao]}),v.ultimaAtualizacao&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Atualizado: ",v.ultimaAtualizacao.toLocaleTimeString()]})]})})},_))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Observações e Check-ins"}),s.jsx("div",{className:"space-y-3 mb-4",children:B.map((v,_)=>s.jsxs("div",{className:`p-3 rounded-lg ${v.tipo==="checkin"?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[v.tipo==="checkin"&&s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"✅ CHECK-IN"})}),s.jsx("p",{className:"text-gray-800",children:v.texto}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.hora," | ",v.autor]})]},_))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:se,onChange:v=>fe(v.target.value),onKeyPress:v=>v.key==="Enter"&&Ze(),placeholder:"Adicionar observação...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:Ze,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"➕"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"As observações são apagadas automaticamente todos os dias às 3h da manhã."})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🤖"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Chat AI - Carreira 24E"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Olá! Sou o assistente da Carreira 24E. Posso ajudar com:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[s.jsx("li",{children:"• Horários e frequências da 24E"}),s.jsx("li",{children:"• Estado das paragens"}),s.jsx("li",{children:"• Interrupções de serviço"}),s.jsx("li",{children:"• Informações sobre esta carreira"})]}),s.jsx("button",{onClick:()=>m("/chat-carreira?carreira=24E"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Iniciar Chat"})]})]})})]}),s.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.8;
          }
        }
      `})]})};delete pe.Icon.Default.prototype._getIconUrl;pe.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Ff=()=>{const m=at(),{user:g}=k.useContext(cn),h=k.useRef(null),w=k.useRef(null),x=k.useRef(null),S=[{nome:"Prazeres",lat:38.71598,lng:-9.16845,ordem:1},{nome:"Estrela",lat:38.71398,lng:-9.15845,ordem:2},{nome:"São Bento",lat:38.71298,lng:-9.14945,ordem:3},{nome:"Camões",lat:38.71045,lng:-9.14345,ordem:4},{nome:"Chiado",lat:38.71098,lng:-9.14145,ordem:5},{nome:"Baixa",lat:38.71398,lng:-9.13698,ordem:6},{nome:"Cais do Sodré",lat:38.70645,lng:-9.14445,ordem:7}],[E,Z]=k.useState([{chapa:"25E/4",tripulante:"Ricardo Martins (18011)",gpsAtivo:!1,proximaRendicao:"14:45",paragem:2},{chapa:"25E/11",tripulante:"Luísa Fernandes (18012)",gpsAtivo:!1,proximaRendicao:"16:30",paragem:5}]),[C,X]=k.useState(null),[G,A]=k.useState(!1),[H,q]=k.useState(null),[W,Y]=k.useState({chapa:"25E/4",local:"Prazeres",hora:"16:30",tripulanteAtual:"Ricardo Martins (18011)"}),[B,te]=k.useState([{texto:"Sistema de localização GPS ativo",hora:"14:41 27/09",autor:"Sistema",tipo:"info"}]),[se,fe]=k.useState(""),[be,re]=k.useState(!0),Te=()=>{if(!navigator.geolocation){q("GPS não disponível neste dispositivo");return}A(!0),q(null),x.current=navigator.geolocation.watchPosition(v=>{const _={lat:v.coords.latitude,lng:v.coords.longitude,accuracy:v.coords.accuracy,timestamp:new Date};X(_),console.log("Localização atualizada:",_),Z(ee=>ee.map(F=>F.tripulante.includes(g==null?void 0:g.numero)?{...F,lat:_.lat,lng:_.lng,gpsAtivo:!0,ultimaAtualizacao:new Date}:F))},v=>{console.error("Erro GPS:",v),q("Erro ao obter localização: "+v.message),A(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},ze=()=>{x.current&&(navigator.geolocation.clearWatch(x.current),x.current=null),A(!1),X(null),console.log("Partilha de GPS parada")},Ie=v=>{const _=new Date,ee=`${_.getHours()}:${_.getMinutes().toString().padStart(2,"0")} ${_.getDate()}/${_.getMonth()+1}`,F={texto:`Cheguei ao ${v} para rendição`,hora:ee,autor:(g==null?void 0:g.numero)||"180001",tipo:"checkin"};te([F,...B]),alert(`✅ Check-in registado!

Notificação enviada para ${W.tripulanteAtual}`)};k.useEffect(()=>{if(!h.current||w.current)return;const v=pe.map(h.current).setView([38.712114285714286,-9.148954285714286],13);pe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(v);const _=S.map(F=>[F.lat,F.lng]),ee=pe.polyline(_,{color:"#6B7280",weight:3,opacity:.5,dashArray:"5, 10"}).addTo(v);return S.forEach((F,ve)=>{const Ne=ve===0||ve===S.length-1;pe.circleMarker([F.lat,F.lng],{radius:Ne?6:4,fillColor:Ne?"#9333EA":"#D1D5DB",color:"#fff",weight:1,opacity:.8,fillOpacity:.6}).addTo(v).bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${F.nome}</strong><br/>
          <span style="font-size: 12px; color: #666;">
            ${Ne?"Terminal":"Paragem"} ${F.ordem}
          </span>
        </div>
      `)}),v.fitBounds(ee.getBounds(),{padding:[50,50]}),w.current=v,()=>{w.current&&(w.current.remove(),w.current=null)}},[]),k.useEffect(()=>{if(!w.current)return;const v=w.current;v.eachLayer(_=>{_.options&&_.options.isVehicle&&v.removeLayer(_)}),E.forEach(_=>{let ee,F,ve=!1;if(_.gpsAtivo&&_.lat&&_.lng)ee=_.lat,F=_.lng;else if(_.paragem!==void 0){const R=S[_.paragem];ee=R.lat,F=R.lng,ve=!0}else return;const Ne=_.gpsAtivo?"#3B82F6":"#9CA3AF",Se=_.gpsAtivo?"#1D4ED8":"#6B7280",Le=pe.marker([ee,F],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: ${Ne};
              color: white;
              border-radius: 50%;
              width: 40px;
              height: 40px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: bold;
              font-size: 12px;
              border: 3px solid ${Se};
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              ${ve?"opacity: 0.6;":""}
            ">
              ${_.gpsAtivo?"📍":"⏱️"}
            </div>
            <div style="
              position: absolute;
              top: 45px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 2px 6px;
              border-radius: 4px;
              font-size: 11px;
              font-weight: bold;
              white-space: nowrap;
              box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            ">
              ${_.chapa}
            </div>
          `,iconSize:[40,40],iconAnchor:[20,20]}),isVehicle:!0}).addTo(v),D=_.gpsAtivo?"🔵 GPS Ativo":"⚪ Posição Estimada",le=_.ultimaAtualizacao?`Última atualização: ${_.ultimaAtualizacao.toLocaleTimeString()}`:"Baseado em horário programado";Le.bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${_.chapa}</strong><br/>
          <span style="font-size: 12px;">
            Tripulante: ${_.tripulante}<br/>
            ${D}<br/>
            <span style="font-size: 11px; color: #666;">${le}</span><br/>
            Próxima rendição: ${_.proximaRendicao}
          </span>
        </div>
      `)}),C&&pe.marker([C.lat,C.lng],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: #10B981;
              color: white;
              border-radius: 50%;
              width: 20px;
              height: 20px;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 3px solid white;
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              animation: pulse 2s infinite;
            ">
              •
            </div>
          `,iconSize:[20,20],iconAnchor:[10,10]}),isVehicle:!0}).addTo(v).bindPopup("📱 A minha localização")},[E,C]),k.useEffect(()=>()=>{x.current&&navigator.geolocation.clearWatch(x.current)},[]);const Ze=()=>{if(se.trim()){const v=new Date,_=`${v.getHours()}:${v.getMinutes().toString().padStart(2,"0")} ${v.getDate()}/${v.getMonth()+1}`;te([{texto:se,hora:_,autor:(g==null?void 0:g.numero)||"180001",tipo:"info"},...B]),fe("")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center sticky top-0 z-50",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Carreira 25E"}),s.jsx("span",{className:"ml-auto text-sm text-gray-600",children:"Prazeres ↔ Cais do Sodré"})]}),s.jsxs("main",{className:"p-4 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"📍"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Partilhar Localização"}),G?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"GPS Ativo - Localização a ser partilhada"})]}),C&&s.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Última atualização: ",C.timestamp.toLocaleTimeString(),s.jsx("br",{}),"Precisão: ±",Math.round(C.accuracy),"m"]}),s.jsx("button",{onClick:ze,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"⏹️ Parar Partilha de GPS"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Ative a partilha de localização para que outros tripulantes possam ver onde está o seu elétrico em tempo real."}),s.jsx("button",{onClick:Te,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"🚀 Ativar GPS durante Serviço"})]}),H&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-700",children:["⚠️ ",H]})})]})]})}),W&&s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🔔"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Próxima Rendição"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Chapa:"})," ",W.chapa]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Local:"})," ",W.local]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Hora:"})," ",W.hora]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Tripulante Atual:"})," ",W.tripulanteAtual]})]}),s.jsxs("button",{onClick:()=>Ie(W.local),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:["✅ Cheguei ao ",W.local]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Isto irá notificar automaticamente o tripulante a ser rendido"})]})]})}),be&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Mapa em Tempo Real"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E.filter(v=>v.gpsAtivo).length," elétricos com GPS ativo • ",E.filter(v=>!v.gpsAtivo).length," estimados"]})]}),s.jsx("button",{onClick:()=>re(!1),className:"text-sm text-blue-600 hover:text-blue-800",children:"Ocultar"})]})}),s.jsx("div",{ref:h,style:{height:"450px",width:"100%"},className:"leaflet-container"}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs",children:"📍"}),s.jsxs("span",{children:[s.jsx("strong",{children:"🔵 GPS Ativo"})," - Localização confirmada em tempo real"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs opacity-60",children:"⏱️"}),s.jsxs("span",{children:[s.jsx("strong",{children:"⚪ Posição Estimada"})," - Baseado em horário programado"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-600"}),s.jsx("span",{children:"Terminais (Prazeres / Cais do Sodré)"})]})]})})]}),!be&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsx("button",{onClick:()=>re(!0),className:"text-blue-600 hover:text-blue-800 font-medium",children:"🗺️ Mostrar Mapa Interativo"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Elétricos em Serviço"}),s.jsx("div",{className:"space-y-3",children:E.map((v,_)=>s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"font-bold text-gray-900",children:v.chapa}),v.gpsAtivo?s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"🔵 GPS Ativo"}):s.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full font-medium",children:"⚪ Estimado"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tripulante: ",v.tripulante]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Próxima rendição: ",v.proximaRendicao]}),v.ultimaAtualizacao&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Atualizado: ",v.ultimaAtualizacao.toLocaleTimeString()]})]})})},_))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Observações e Check-ins"}),s.jsx("div",{className:"space-y-3 mb-4",children:B.map((v,_)=>s.jsxs("div",{className:`p-3 rounded-lg ${v.tipo==="checkin"?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[v.tipo==="checkin"&&s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"✅ CHECK-IN"})}),s.jsx("p",{className:"text-gray-800",children:v.texto}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.hora," | ",v.autor]})]},_))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:se,onChange:v=>fe(v.target.value),onKeyPress:v=>v.key==="Enter"&&Ze(),placeholder:"Adicionar observação...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:Ze,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"➕"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"As observações são apagadas automaticamente todos os dias às 3h da manhã."})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🤖"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Chat AI - Carreira 25E"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Olá! Sou o assistente da Carreira 25E. Posso ajudar com:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[s.jsx("li",{children:"• Horários e frequências da 25E"}),s.jsx("li",{children:"• Estado das paragens"}),s.jsx("li",{children:"• Interrupções de serviço"}),s.jsx("li",{children:"• Informações sobre esta carreira"})]}),s.jsx("button",{onClick:()=>m("/chat-carreira?carreira=25E"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Iniciar Chat"})]})]})})]}),s.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.8;
          }
        }
      `})]})};delete pe.Icon.Default.prototype._getIconUrl;pe.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Zf=()=>{const m=at(),{user:g}=k.useContext(cn),h=k.useRef(null),w=k.useRef(null),x=k.useRef(null),S=[{nome:"Martim Moniz",lat:38.71565,lng:-9.13602,ordem:1},{nome:"Graça",lat:38.71898,lng:-9.12845,ordem:2},{nome:"Senhora do Monte",lat:38.72198,lng:-9.12645,ordem:3},{nome:"Graça (descida)",lat:38.71898,lng:-9.12945,ordem:4},{nome:"Baixa",lat:38.71398,lng:-9.13698,ordem:5},{nome:"Chiado",lat:38.71098,lng:-9.14145,ordem:6},{nome:"Camões",lat:38.71045,lng:-9.14345,ordem:7},{nome:"Estrela",lat:38.71398,lng:-9.15845,ordem:8},{nome:"Prazeres",lat:38.71598,lng:-9.16845,ordem:9},{nome:"Campo Ourique",lat:38.71798,lng:-9.16445,ordem:10},{nome:"Estrela (regresso)",lat:38.71398,lng:-9.15845,ordem:11},{nome:"São Bento",lat:38.71298,lng:-9.14945,ordem:12},{nome:"Baixa (regresso)",lat:38.71398,lng:-9.13698,ordem:13}],[E,Z]=k.useState([{chapa:"28E/6",tripulante:"Fernando Sousa (18013)",gpsAtivo:!1,proximaRendicao:"13:30",paragem:0},{chapa:"28E/15",tripulante:"Beatriz Lopes (18014)",gpsAtivo:!1,proximaRendicao:"15:15",paragem:6},{chapa:"28E/22",tripulante:"André Carvalho (18015)",gpsAtivo:!1,proximaRendicao:"17:30",paragem:10}]),[C,X]=k.useState(null),[G,A]=k.useState(!1),[H,q]=k.useState(null),[W,Y]=k.useState({chapa:"28E/6",local:"Martim Moniz",hora:"16:30",tripulanteAtual:"Fernando Sousa (18013)"}),[B,te]=k.useState([{texto:"Sistema de localização GPS ativo",hora:"14:41 27/09",autor:"Sistema",tipo:"info"}]),[se,fe]=k.useState(""),[be,re]=k.useState(!0),Te=()=>{if(!navigator.geolocation){q("GPS não disponível neste dispositivo");return}A(!0),q(null),x.current=navigator.geolocation.watchPosition(v=>{const _={lat:v.coords.latitude,lng:v.coords.longitude,accuracy:v.coords.accuracy,timestamp:new Date};X(_),console.log("Localização atualizada:",_),Z(ee=>ee.map(F=>F.tripulante.includes(g==null?void 0:g.numero)?{...F,lat:_.lat,lng:_.lng,gpsAtivo:!0,ultimaAtualizacao:new Date}:F))},v=>{console.error("Erro GPS:",v),q("Erro ao obter localização: "+v.message),A(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},ze=()=>{x.current&&(navigator.geolocation.clearWatch(x.current),x.current=null),A(!1),X(null),console.log("Partilha de GPS parada")},Ie=v=>{const _=new Date,ee=`${_.getHours()}:${_.getMinutes().toString().padStart(2,"0")} ${_.getDate()}/${_.getMonth()+1}`,F={texto:`Cheguei ao ${v} para rendição`,hora:ee,autor:(g==null?void 0:g.numero)||"180001",tipo:"checkin"};te([F,...B]),alert(`✅ Check-in registado!

Notificação enviada para ${W.tripulanteAtual}`)};k.useEffect(()=>{if(!h.current||w.current)return;const v=pe.map(h.current).setView([38.715375384615385,-9.144498461538461],13);pe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(v);const _=S.map(F=>[F.lat,F.lng]),ee=pe.polyline(_,{color:"#6B7280",weight:3,opacity:.5,dashArray:"5, 10"}).addTo(v);return S.forEach((F,ve)=>{const Ne=ve===0||ve===S.length-1;pe.circleMarker([F.lat,F.lng],{radius:Ne?6:4,fillColor:Ne?"#9333EA":"#D1D5DB",color:"#fff",weight:1,opacity:.8,fillOpacity:.6}).addTo(v).bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${F.nome}</strong><br/>
          <span style="font-size: 12px; color: #666;">
            ${Ne?"Terminal":"Paragem"} ${F.ordem}
          </span>
        </div>
      `)}),v.fitBounds(ee.getBounds(),{padding:[50,50]}),w.current=v,()=>{w.current&&(w.current.remove(),w.current=null)}},[]),k.useEffect(()=>{if(!w.current)return;const v=w.current;v.eachLayer(_=>{_.options&&_.options.isVehicle&&v.removeLayer(_)}),E.forEach(_=>{let ee,F,ve=!1;if(_.gpsAtivo&&_.lat&&_.lng)ee=_.lat,F=_.lng;else if(_.paragem!==void 0){const R=S[_.paragem];ee=R.lat,F=R.lng,ve=!0}else return;const Ne=_.gpsAtivo?"#3B82F6":"#9CA3AF",Se=_.gpsAtivo?"#1D4ED8":"#6B7280",Le=pe.marker([ee,F],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: ${Ne};
              color: white;
              border-radius: 50%;
              width: 40px;
              height: 40px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: bold;
              font-size: 12px;
              border: 3px solid ${Se};
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              ${ve?"opacity: 0.6;":""}
            ">
              ${_.gpsAtivo?"📍":"⏱️"}
            </div>
            <div style="
              position: absolute;
              top: 45px;
              left: 50%;
              transform: translateX(-50%);
              background: white;
              padding: 2px 6px;
              border-radius: 4px;
              font-size: 11px;
              font-weight: bold;
              white-space: nowrap;
              box-shadow: 0 1px 3px rgba(0,0,0,0.2);
            ">
              ${_.chapa}
            </div>
          `,iconSize:[40,40],iconAnchor:[20,20]}),isVehicle:!0}).addTo(v),D=_.gpsAtivo?"🔵 GPS Ativo":"⚪ Posição Estimada",le=_.ultimaAtualizacao?`Última atualização: ${_.ultimaAtualizacao.toLocaleTimeString()}`:"Baseado em horário programado";Le.bindPopup(`
        <div style="font-family: sans-serif;">
          <strong>${_.chapa}</strong><br/>
          <span style="font-size: 12px;">
            Tripulante: ${_.tripulante}<br/>
            ${D}<br/>
            <span style="font-size: 11px; color: #666;">${le}</span><br/>
            Próxima rendição: ${_.proximaRendicao}
          </span>
        </div>
      `)}),C&&pe.marker([C.lat,C.lng],{icon:pe.divIcon({className:"custom-div-icon",html:`
            <div style="
              background-color: #10B981;
              color: white;
              border-radius: 50%;
              width: 20px;
              height: 20px;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 3px solid white;
              box-shadow: 0 2px 8px rgba(0,0,0,0.3);
              animation: pulse 2s infinite;
            ">
              •
            </div>
          `,iconSize:[20,20],iconAnchor:[10,10]}),isVehicle:!0}).addTo(v).bindPopup("📱 A minha localização")},[E,C]),k.useEffect(()=>()=>{x.current&&navigator.geolocation.clearWatch(x.current)},[]);const Ze=()=>{if(se.trim()){const v=new Date,_=`${v.getHours()}:${v.getMinutes().toString().padStart(2,"0")} ${v.getDate()}/${v.getMonth()+1}`;te([{texto:se,hora:_,autor:(g==null?void 0:g.numero)||"180001",tipo:"info"},...B]),fe("")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center sticky top-0 z-50",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Carreira 28E"}),s.jsx("span",{className:"ml-auto text-sm text-gray-600",children:"Martim Moniz ↔ Campo Ourique (Circular)"})]}),s.jsxs("main",{className:"p-4 space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"📍"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Partilhar Localização"}),G?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"GPS Ativo - Localização a ser partilhada"})]}),C&&s.jsxs("p",{className:"text-xs text-gray-600 mb-3",children:["Última atualização: ",C.timestamp.toLocaleTimeString(),s.jsx("br",{}),"Precisão: ±",Math.round(C.accuracy),"m"]}),s.jsx("button",{onClick:ze,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:"⏹️ Parar Partilha de GPS"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Ative a partilha de localização para que outros tripulantes possam ver onde está o seu elétrico em tempo real."}),s.jsx("button",{onClick:Te,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"🚀 Ativar GPS durante Serviço"})]}),H&&s.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-red-700",children:["⚠️ ",H]})})]})]})}),W&&s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🔔"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Próxima Rendição"}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Chapa:"})," ",W.chapa]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Local:"})," ",W.local]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Hora:"})," ",W.hora]}),s.jsxs("p",{className:"text-sm text-gray-700",children:[s.jsx("strong",{children:"Tripulante Atual:"})," ",W.tripulanteAtual]})]}),s.jsxs("button",{onClick:()=>Ie(W.local),className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:["✅ Cheguei ao ",W.local]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Isto irá notificar automaticamente o tripulante a ser rendido"})]})]})}),be&&s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Mapa em Tempo Real"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[E.filter(v=>v.gpsAtivo).length," elétricos com GPS ativo • ",E.filter(v=>!v.gpsAtivo).length," estimados"]})]}),s.jsx("button",{onClick:()=>re(!1),className:"text-sm text-blue-600 hover:text-blue-800",children:"Ocultar"})]})}),s.jsx("div",{ref:h,style:{height:"450px",width:"100%"},className:"leaflet-container"}),s.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-200",children:s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-600 flex items-center justify-center text-white text-xs",children:"📍"}),s.jsxs("span",{children:[s.jsx("strong",{children:"🔵 GPS Ativo"})," - Localização confirmada em tempo real"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-400 flex items-center justify-center text-white text-xs opacity-60",children:"⏱️"}),s.jsxs("span",{children:[s.jsx("strong",{children:"⚪ Posição Estimada"})," - Baseado em horário programado"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-purple-600"}),s.jsx("span",{children:"Terminais (Martim Moniz / Campo Ourique)"})]})]})})]}),!be&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:s.jsx("button",{onClick:()=>re(!0),className:"text-blue-600 hover:text-blue-800 font-medium",children:"🗺️ Mostrar Mapa Interativo"})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Elétricos em Serviço"}),s.jsx("div",{className:"space-y-3",children:E.map((v,_)=>s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"font-bold text-gray-900",children:v.chapa}),v.gpsAtivo?s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full font-medium",children:"🔵 GPS Ativo"}):s.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full font-medium",children:"⚪ Estimado"})]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Tripulante: ",v.tripulante]}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Próxima rendição: ",v.proximaRendicao]}),v.ultimaAtualizacao&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Atualizado: ",v.ultimaAtualizacao.toLocaleTimeString()]})]})})},_))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-4",children:"Observações e Check-ins"}),s.jsx("div",{className:"space-y-3 mb-4",children:B.map((v,_)=>s.jsxs("div",{className:`p-3 rounded-lg ${v.tipo==="checkin"?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[v.tipo==="checkin"&&s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"✅ CHECK-IN"})}),s.jsx("p",{className:"text-gray-800",children:v.texto}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.hora," | ",v.autor]})]},_))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:se,onChange:v=>fe(v.target.value),onKeyPress:v=>v.key==="Enter"&&Ze(),placeholder:"Adicionar observação...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:Ze,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"➕"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"As observações são apagadas automaticamente todos os dias às 3h da manhã."})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg shadow-md p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"text-4xl",children:"🤖"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-2",children:"Chat AI - Carreira 28E"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Olá! Sou o assistente da Carreira 28E. Posso ajudar com:"}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 mb-4",children:[s.jsx("li",{children:"• Horários e frequências da 28E"}),s.jsx("li",{children:"• Estado das paragens"}),s.jsx("li",{children:"• Interrupções de serviço"}),s.jsx("li",{children:"• Informações sobre esta carreira"})]}),s.jsx("button",{onClick:()=>m("/chat-carreira?carreira=28E"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Iniciar Chat"})]})]})})]}),s.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.8;
          }
        }
      `})]})};function $f(){const m=at(),[g]=Ef(),h=g.get("carreira")||"28E",[w,x]=k.useState([{type:"bot",text:`Olá! Sou o assistente de IA da Carreira ${h}. Posso ajudá-lo com informações sobre horários, paragens, interrupções e ordens de serviço desta carreira.`}]),[S,E]=k.useState(""),Z=k.useRef(null),C=()=>{var A;(A=Z.current)==null||A.scrollIntoView({behavior:"smooth"})};k.useEffect(()=>{C()},[w]);const X=A=>{const H={"12E":{horario:"A Carreira 12E funciona das 06:00 às 01:00, com frequência de 6-8 minutos.",paragens:"As principais paragens da Carreira 12E incluem Martim Moniz, Socorro, Limoeiro, Sé, Chiado e Pç. Luís Camões.",percurso:"Percurso: Martim Moniz ↔ Pç. Luís Camões"},"15E":{horario:"A Carreira 15E funciona das 06:30 às 00:30, com frequência de 8-10 minutos.",paragens:"As principais paragens da Carreira 15E incluem Praça da Figueira, Rossio, Camões, S. Bento, Estrela, Belém e Algés.",percurso:"Percurso: Praça da Figueira ↔ Algés"},"18E":{horario:"A Carreira 18E funciona das 07:00 às 23:00, com frequência de 10-12 minutos.",paragens:"As principais paragens da Carreira 18E incluem Ajuda, Estrela, S. Bento, Camões, Chiado, Baixa, Martim Moniz, Graça e Senhora do Monte.",percurso:"Percurso: Ajuda ↔ Senhora do Monte"},"24E":{horario:"A Carreira 24E funciona das 07:30 às 22:30, com frequência de 10-15 minutos.",paragens:"As principais paragens da Carreira 24E incluem Campolide, Amoreiras, Rato, Camões, Chiado, Baixa, Terreiro do Paço e Graça.",percurso:"Percurso: Campolide ↔ Graça"},"25E":{horario:"A Carreira 25E funciona das 07:00 às 23:00, com frequência de 8-10 minutos.",paragens:"As principais paragens da Carreira 25E incluem Prazeres, Estrela, S. Bento, Camões, Chiado, Baixa, Terreiro do Paço e Cais do Sodré.",percurso:"Percurso: Prazeres ↔ Cais do Sodré"},"28E":{horario:"A Carreira 28E funciona das 06:00 às 23:30, com frequência de 8-12 minutos.",paragens:"As principais paragens da Carreira 28E incluem Martim Moniz, Graça, S. Vicente, Estrela, Prazeres e Alfama.",percurso:"Percurso circular: Martim Moniz → Graça → Alfama → Estrela → Prazeres → Martim Moniz"}};return H[A]||H["28E"]},G=()=>{if(S.trim()==="")return;const A=[...w,{type:"user",text:S}];x(A),E(""),setTimeout(()=>{let H="Desculpe, não compreendi a sua pergunta. Pode reformular, por favor?";const q=S.toLowerCase(),W=X(h),Y=["12E","15E","18E","24E","25E","28E"].filter(te=>te!==h);if(Y.some(te=>q.includes(te.toLowerCase())||q.includes(te))){const te=Y.find(se=>q.includes(se.toLowerCase())||q.includes(se));H=`Esta pergunta parece ser sobre a Carreira ${te}. Por favor, aceda à página da Carreira ${te} para obter informações específicas sobre essa linha.`}else q.includes("horário")||q.includes("horas")||q.includes("frequência")?H=W.horario:q.includes("paragens")||q.includes("paragem")||q.includes("estações")?H=W.paragens:q.includes("percurso")||q.includes("trajeto")||q.includes("trajecto")?H=W.percurso:q.includes("sentido")||q.includes("direcção")||q.includes("direção")?h==="28E"?H="O elétrico 28E tem um percurso circular. Neste momento, o veículo #123 está no sentido Martim Moniz → Campo de Ourique. Próxima paragem: R. Palma.":H=`A Carreira ${h} tem dois sentidos de circulação. Consulte o mapa da carreira para ver a localização atual dos veículos.`:q.includes("interrupções")||q.includes("interrupção")||q.includes("obras")?H=`Neste momento, não há interrupções reportadas na Carreira ${h}. O serviço está a funcionar normalmente.`:q.includes("ordens de serviço")||q.includes("serviço")||q.includes("manutenção")?H=`Há uma ordem de serviço ativa para o veículo #550 da Carreira ${h} (verificação de sistema de travagem). Consulte a página de Ordens de Serviço para mais detalhes.`:q.includes("reportar avaria")||q.includes("avaria")||q.includes("problema")?(H="Para reportar uma avaria, preciso de alguns dados. Qual é o número da chapa do veículo?",setTimeout(()=>m("/gestao-avarias?report=true"),2e3)):q.includes("veículo")||q.includes("veiculo")||q.includes("chapa")?q.includes("550")?H=`O veículo 550 está afeto à Carreira ${h}/5. Este é um serviço de fins de semana com horário especial.`:H=`Por favor, indique o número do veículo para que possa fornecer informações específicas sobre a sua afetação na Carreira ${h}.`:(q.includes("fins de semana")||q.includes("sábado")||q.includes("domingo"))&&(H=`Aos fins de semana, a Carreira ${h} tem frequência reduzida. O serviço funciona com intervalos de 12-15 minutos.`);x(te=>[...te,{type:"bot",text:H}])},1e3)};return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m(-1),className:"mr-4 p-2 text-blue-600",children:"←"}),s.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:["Chat AI - Carreira ",h]})]}),s.jsx("main",{className:"flex-1 p-4 overflow-y-auto",children:s.jsxs("div",{className:"space-y-4",children:[w.map((A,H)=>s.jsx("div",{className:`flex ${A.type==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-xs px-4 py-2 rounded-lg shadow-md ${A.type==="user"?"bg-blue-600 text-white":"bg-gray-200 text-gray-800"}`,children:A.text})},H)),s.jsx("div",{ref:Z})]})}),s.jsxs("div",{className:"bg-white border-t border-gray-200 p-4 flex items-center",children:[s.jsx("input",{type:"text",value:S,onChange:A=>E(A.target.value),onKeyPress:A=>{A.key==="Enter"&&G()},placeholder:"Digite a sua mensagem...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("button",{onClick:G,className:"ml-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200",children:"Enviar"})]})]})}const Uf=()=>{const m=at(),{user:g}=k.useContext(cn),[h,w]=k.useState(""),[x,S]=k.useState(""),[E,Z]=k.useState(""),[C,X]=k.useState(!1),[G,A]=k.useState(""),[H,q]=k.useState(""),W=Y=>{if(Y.preventDefault(),!h||!x||!E){A("Por favor, preencha todos os campos."),q("erro");return}if(x!==E){A("A nova password e a confirmação não coincidem."),q("erro");return}if(x.length<6){A("A nova password deve ter pelo menos 6 caracteres."),q("erro");return}if(h===x){A("A nova password deve ser diferente da password atual."),q("erro");return}if(h!=="123456"){A("A password atual está incorreta."),q("erro");return}setTimeout(()=>{A("Password alterada com sucesso!"),q("sucesso"),w(""),S(""),Z(""),setTimeout(()=>{m("/dashboard")},2e3)},1e3)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Mudar Password"})]}),s.jsx("main",{className:"p-4",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Utilizador"}),s.jsxs("p",{className:"text-gray-600",children:["N.º: ",g==null?void 0:g.numero]}),s.jsxs("p",{className:"text-gray-600",children:["Tipo: ",g==null?void 0:g.tipo]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alterar Password"}),s.jsxs("form",{onSubmit:W,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password Atual"}),s.jsx("input",{type:C?"text":"password",value:h,onChange:Y=>w(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introduza a password atual",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Nova Password"}),s.jsx("input",{type:C?"text":"password",value:x,onChange:Y=>S(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introduza a nova password",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Mínimo de 6 caracteres"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Confirmar Nova Password"}),s.jsx("input",{type:C?"text":"password",value:E,onChange:Y=>Z(Y.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirme a nova password",required:!0})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"mostrarPasswords",checked:C,onChange:Y=>X(Y.target.checked),className:"mr-2"}),s.jsx("label",{htmlFor:"mostrarPasswords",className:"text-sm text-gray-600",children:"Mostrar passwords"})]}),G&&s.jsx("div",{className:`p-3 rounded-lg text-sm ${H==="sucesso"?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:G}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>m("/dashboard"),className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:"Cancelar"}),s.jsx("button",{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:"Alterar Password"})]})]})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mt-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Dicas de Segurança"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:"• Use uma password forte com pelo menos 8 caracteres"}),s.jsx("li",{children:"• Inclua letras maiúsculas, minúsculas, números e símbolos"}),s.jsx("li",{children:"• Não partilhe a sua password com ninguém"}),s.jsx("li",{children:"• Altere a password regularmente"})]})]})]})})]})},cn=k.createContext(),Lu=()=>{const m=k.useContext(cn);if(!m)throw new Error("useAuth must be used within an AuthProvider");return m};function Hf({children:m}){const[g,h]=k.useState(null),w=S=>{let E="Tripulante";(S==="18001"||S==="180939")&&(E="Gestor"),h({numero:S,tipo:E})},x=()=>{h(null)};return s.jsx(cn.Provider,{value:{user:g,login:w,logout:x},children:m})}function Gf(){const m=at(),{login:g}=Lu(),[h,w]=k.useState(""),[x,S]=k.useState(""),E=Z=>{Z.preventDefault(),g(h),m("/dashboard")};return s.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-lg p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-500 mr-1"}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600"})]})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Guarda-Freios"}),s.jsx("p",{className:"text-gray-600",children:"Entrar na sua conta"})]}),s.jsxs("form",{onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"N.º de Funcionário"}),s.jsx("input",{type:"text",placeholder:"ex: 180xxx",value:h,onChange:Z=>w(Z.target.value),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),s.jsx("input",{type:"password",placeholder:"••••••",value:x,onChange:Z=>S(Z.target.value),className:"mt-1 w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent"})]}),s.jsx("button",{type:"submit",className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:"Entrar"})]})]})})}function Wf(){const m=at(),{user:g,logout:h}=Lu(),w=[{title:"Ordens de Serviço",onClick:()=>m("/ordens-servico"),icon:"📋"},{title:"12E",onClick:()=>m("/carreira-12e"),icon:"🚋"},{title:"15E",onClick:()=>m("/carreira-15e"),icon:"🚋"},{title:"18E",onClick:()=>m("/carreira-18e"),icon:"🚋"},{title:"24E",onClick:()=>m("/carreira-24e"),icon:"🚋"},{title:"25E",onClick:()=>m("/carreira-25e"),icon:"🚋"},{title:"28E",onClick:()=>m("/carreira-28e"),icon:"🚋"},{title:"Avarias",onClick:()=>m("/gestao-avarias"),icon:"🔧"},{title:"Horários",onClick:()=>m("/gestao-horarios"),icon:"🕐"},{title:"Calendário",onClick:()=>m("/calendario"),icon:"📅"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Guarda-Freios"}),g&&s.jsxs("p",{className:"text-sm text-gray-600",children:[g.numero," - ",g.tipo]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>m("/mudar-password"),className:"text-green-600 font-medium text-sm",children:"Mudar Password"}),(g==null?void 0:g.tipo)==="Gestor"&&s.jsx("button",{onClick:()=>m("/gestao-utilizadores"),className:"text-blue-600 font-medium text-sm",children:"Gestão"}),s.jsx("button",{onClick:h,className:"text-red-600 font-medium text-sm",children:"Sair"})]})]}),s.jsxs("main",{className:"flex-1 p-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Guarda-Freios"}),s.jsx("div",{className:"grid grid-cols-2 gap-3 mb-8",children:w.map((x,S)=>s.jsxs("button",{onClick:x.onClick,className:"bg-white border border-gray-200 p-4 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 flex flex-col items-center justify-center space-y-2",children:[s.jsx("span",{className:"text-2xl",children:x.icon}),s.jsx("span",{className:"text-gray-900 font-medium text-center text-xs",children:x.title})]},S))})]}),s.jsx("nav",{className:"bg-white border-t border-gray-200 px-4 py-2",children:s.jsx("div",{className:"flex justify-between items-center",children:["Início","Ordens","Avarias","Horários","Calendário","Serviços"].map((x,S)=>s.jsxs("button",{onClick:()=>{x==="Início"?m("/dashboard"):x==="Ordens"?m("/ordens-servico"):x==="Avarias"?m("/gestao-avarias"):x==="Horários"?m("/gestao-horarios"):x==="Calendário"?m("/calendario"):x==="Serviços"&&m("/consultar-servico")},className:`flex flex-col items-center py-2 px-1 rounded-lg transition-colors duration-200 ${S===0?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[s.jsx("span",{className:"text-lg mb-1",children:S===0?"🏠":S===1?"📋":S===2?"⚠️":S===3?"🕐":S===4?"📅":"⚙️"}),s.jsx("span",{className:"text-xs font-medium",children:x})]},S))})})]})}function Vf(){const m=at(),g=[{id:1,assunto:"Assunto 1",duracao:"30 min"},{id:2,assunto:"Assunto 2",duracao:"45 min"},{id:3,assunto:"Assunto 3",duracao:"1 h"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Ordens de Serviço"})]}),s.jsxs("main",{className:"p-4",children:[s.jsx("div",{className:"space-y-4",children:g.map(h=>s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow duration-200",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:h.assunto}),s.jsx("div",{className:"flex items-center text-gray-600",children:s.jsxs("span",{className:"text-sm",children:["🕐 ",h.duracao]})})]}),s.jsx("button",{onClick:()=>m("/detalhes-ordem"),className:"text-blue-600 hover:text-blue-700 text-sm",children:"Ver detalhes"})]})},h.id))}),s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx("span",{className:"text-gray-600 text-sm",children:"1 de 1"})})]})]})}function qf(){const m=at(),[g,h]=k.useState("500"),w=[{id:1,descricao:"Iluminação interior fraca",tempo:"00:10"},{id:2,descricao:"Porta não abre",tempo:"00:17"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Elétrico & Serviço"})]}),s.jsxs("main",{className:"p-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"N.º do Elétrico"}),s.jsx("input",{type:"text",value:g,onChange:x=>h(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg"})]}),s.jsx("div",{className:"space-y-4",children:w.map(x=>s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:"Assunto"}),s.jsx("p",{className:"text-gray-700 mb-2",children:x.descricao})]}),s.jsx("div",{className:"flex items-center text-gray-600 ml-4",children:s.jsxs("span",{className:"text-sm font-mono",children:["🕐 ",x.tempo]})})]})},x.id))}),s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx("span",{className:"text-gray-600 text-sm",children:"1 / 1"})})]})]})}function Kf(){const m=at();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Carreira 28E"})]}),s.jsxs("main",{className:"p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Mapa em Tempo Real"}),s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:"/mapa_carreira_28e.png",alt:"Mapa da Carreira 28E",className:"w-full max-w-sm h-auto rounded-lg"})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["🚋 Elétricos ativos: 2 | Última atualização: ",new Date().toLocaleTimeString("pt-PT")]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Informações da Linha"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Frequência:"}),s.jsx("span",{className:"font-medium",children:"8-12 min"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Horário:"}),s.jsx("span",{className:"font-medium",children:"06:00 - 23:30"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Percurso:"}),s.jsx("span",{className:"font-medium",children:"Circular"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Duração:"}),s.jsx("span",{className:"font-medium",children:"~45 min"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[s.jsxs("button",{onClick:()=>m("/chat-carreira"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center",children:[s.jsx("span",{className:"mr-2",children:"💬"}),"Chat AI - Carreira 28E"]}),s.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Pergunte sobre horários, paragens, avisos e ordens de serviço"})]})]})]})}function Qf(){const m=at(),[g,h]=k.useState(""),x=[{numero:"501",estado:"Pendente",cor:"text-orange-600"},{numero:"523",estado:"Resolvida",cor:"text-green-600"},{numero:"542",estado:"Pendente",cor:"text-orange-600"},{numero:"586",estado:"Resolvida",cor:"text-green-600"}].filter(S=>S.numero.includes(g)||g==="");return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Pesquisa de Carros"})]}),s.jsxs("main",{className:"p-4",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"🔍"}),s.jsx("input",{type:"text",placeholder:"N.º do Carro",value:g,onChange:S=>h(S.target.value),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[x.map((S,E)=>s.jsxs("div",{className:`flex justify-between items-center p-4 ${E!==x.length-1?"border-b border-gray-200":""} hover:bg-gray-50 transition-colors duration-200`,children:[s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-2xl font-bold text-blue-600 mr-4",children:S.numero})}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:`font-medium ${S.cor}`,children:S.estado})})]},S.numero)),x.length===0&&s.jsx("div",{className:"p-8 text-center text-gray-500",children:s.jsx("p",{children:"Nenhum carro encontrado"})})]}),x.length>0&&s.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:s.jsxs("p",{children:["Mostrando ",x.length," resultado",x.length!==1?"s":""]})})]})]})}function Yf(){const m=at(),[g,h]=k.useState(""),[w,x]=k.useState(""),[S,E]=k.useState("Tripulante"),[Z,C]=k.useState([{id:1,numero:"18001",tipo:"Tripulante+"},{id:2,numero:"18002",tipo:"Tripulante"},{id:3,numero:"18003",tipo:"Tripulante"}]),X=G=>{if(G.preventDefault(),g&&w){const A={id:Z.length+1,numero:g,tipo:S};C([...Z,A]),h(""),x(""),E("Tripulante")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white shadow-sm px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-blue-600",children:"←"}),s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Gestão de Utilizadores"})]}),s.jsxs("main",{className:"p-4",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Adicionar Novo Utilizador"}),s.jsxs("form",{onSubmit:X,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"N.º de Funcionário"}),s.jsx("input",{type:"text",placeholder:"ex: 180xxx",value:g,onChange:G=>h(G.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),s.jsx("input",{type:"password",placeholder:"••••••",value:w,onChange:G=>x(G.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-700 font-medium mb-1",children:"Tipo de Utilizador"}),s.jsxs("select",{value:S,onChange:G=>E(G.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"Tripulante",children:"Tripulante"}),s.jsx("option",{value:"Gestor",children:"Gestor"})]})]}),s.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200",children:"Adicionar Utilizador"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Utilizadores Existentes"})}),s.jsx("div",{className:"divide-y divide-gray-200",children:Z.map(G=>s.jsxs("div",{className:"px-6 py-4 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["N.º ",G.numero]}),s.jsx("p",{className:"text-sm text-gray-600",children:G.tipo})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${G.tipo==="Gestor"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:G.tipo})]},G.id))})]})]})]})}function Ur({children:m,requireTripulantePlus:g=!1}){const{user:h}=Lu(),w=at();return h?g&&h.tipo!=="Gestor"?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Acesso Negado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Esta funcionalidade está disponível apenas para utilizadores Gestor."}),s.jsx("button",{onClick:()=>w("/dashboard"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg",children:"Voltar ao Dashboard"})]})}):m:(w("/"),null)}function Xf(){const m=at(),g=[{id:1,numero:"0123",data:"22/09/2025",inicio:{local:"Martim Moniz",hora:"13:37"},fim:{local:"Estrela",hora:"21:07"},viatura:"28E/01",afetacao:"Normal"},{id:2,numero:"S1899P2",data:"22/09/2025",inicio:{local:"Estrela",hora:"21:07"},fim:{local:"Sto. Amaro (Est.)",hora:"26:05"},viatura:"28E/01#/",afetacao:"Extra Normal - Tipo2"}];return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-blue-600 text-white px-4 py-4 flex items-center",children:[s.jsx("button",{onClick:()=>m("/dashboard"),className:"mr-4 p-2 text-white",children:"←"}),s.jsx("h1",{className:"text-xl font-bold",children:"Consultar Serviço: 22/09/2025"})]}),s.jsx("main",{className:"p-0",children:g.map((h,w)=>s.jsxs("div",{className:`p-6 ${w>0?"border-t-8 border-gray-300":""}`,style:{backgroundColor:w===0?"#e8f4fd":"#f0f0f0"},children:[s.jsx("div",{className:"text-center mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-blue-600 mb-2",children:["Serviço: ",h.numero]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-blue-600",children:h.inicio.local}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.inicio.hora})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Serviço de Viatura:"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:h.viatura})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold text-blue-600",children:h.fim.local}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.fim.hora})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Tipo de Afetação:"}),s.jsx("p",{className:"text-lg font-bold text-blue-600",children:h.afetacao})]})]})]})]},h.id))}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-blue-600 p-4",children:s.jsx("button",{onClick:()=>m("/detalhes-ordem"),className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-4 px-4 rounded-lg text-lg transition-colors duration-200",children:"VER DETALHES"})})]})}function Jf(){return s.jsx(Hf,{children:s.jsx(kf,{children:s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs(jf,{children:[s.jsx(ot,{path:"/",element:s.jsx(Gf,{})}),s.jsx(ot,{path:"/dashboard",element:s.jsx(Ur,{children:s.jsx(Wf,{})})}),s.jsx(ot,{path:"/ordens-servico",element:s.jsx(Ur,{children:s.jsx(Vf,{})})}),s.jsx(ot,{path:"/detalhes-ordem",element:s.jsx(Ur,{children:s.jsx(qf,{})})}),s.jsx(ot,{path:"/carreira",element:s.jsx(Ur,{children:s.jsx(Kf,{})})}),s.jsx(ot,{path:"/chat-carreira",element:s.jsx(Ur,{children:s.jsx($f,{})})}),s.jsx(ot,{path:"/consultar-servico",element:s.jsx(Xf,{})}),s.jsx(ot,{path:"/calendario",element:s.jsx(zf,{})}),s.jsx(ot,{path:"/carreira-12e",element:s.jsx(If,{})}),s.jsx(ot,{path:"/carreira-15e",element:s.jsx(Rf,{})}),s.jsx(ot,{path:"/carreira-18e",element:s.jsx(Df,{})}),s.jsx(ot,{path:"/carreira-24e",element:s.jsx(Bf,{})}),s.jsx(ot,{path:"/carreira-25e",element:s.jsx(Ff,{})}),s.jsx(ot,{path:"/carreira-28e",element:s.jsx(Zf,{})}),s.jsx(ot,{path:"/mudar-password",element:s.jsx(Ur,{children:s.jsx(Uf,{})})}),s.jsx(ot,{path:"/gestao-avarias",element:s.jsx(Lf,{})}),s.jsx(ot,{path:"/gestao-horarios",element:s.jsx(Tf,{})}),s.jsx(ot,{path:"/pesquisa-carros",element:s.jsx(Ur,{children:s.jsx(Qf,{})})}),s.jsx(ot,{path:"/gestao-utilizadores",element:s.jsx(Ur,{requireTripulantePlus:!0,children:s.jsx(Yf,{})})})]})})})})}Th.createRoot(document.getElementById("root")).render(s.jsx(k.StrictMode,{children:s.jsx(Jf,{})}));
